"use strict";var e=require("atom"),t=require("os"),n=require("child_process"),r=require("fs"),i=require("path"),o=require("stream"),a=require("http"),s=require("url"),l=require("https"),c=require("zlib"),u=require("assert"),d=require("events"),f=require("buffer");function h(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=h(e),m=h(t),g=h(n),b=h(r),v=h(i),y=h(o),w=h(a),_=h(s),k=h(l),x=h(c),S=h(u),E=h(d),O=h(f);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function A(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function T(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function P(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var C="package-control",I=[{value:"normal",description:"Normal"},{value:"subtle",description:"Subtle"},{value:"highlight",description:"Highlighted"},{value:"info",description:"Blue"},{value:"success",description:"Green"},{value:"warning",description:"Yellow"},{value:"error",description:"Red"}],N={updateInterval:{title:"Update Interval",description:"Interval for how often the packages cache updates, in minutes",type:"integer",default:360,minimum:15,maximum:10080,order:1},maxResults:{title:"Maximum results",description:"Number of results shown in the select view. Lower values result in better UI performance.",type:"integer",default:30,minimum:10,maximum:120,order:2},sortPackages:{title:"Sort Packages",description:"Default sorting for the *Install Packages* command.",type:"string",default:"name",enum:[{value:"downloads",description:"Downloads"},{value:"name",description:"Name"},{value:"stars",description:"Rating"}],order:3},listAction:{title:"List Action",description:"Specifies an action for the selected package in the list view. Bundled packages will always be shown in package view.",type:"string",default:"fileManager",enum:[{value:"fileManager",description:"Show in File Manager"},{value:"packageView",description:"Package View"}],order:4},confirmSatisfyingDependencies:{title:"Confirm Satisfying Dependencies",description:"Display confirmation dialog when satisfying package dependencies",type:"boolean",default:!0,order:5},ui:{title:"UI Customization",description:"Basic customization options to change the colours of various text elements and to toggle icons",type:"object",order:6,properties:{packageTextStyle:{title:"Package Text Style",description:"",type:"string",default:"normal",enum:I,order:1},descriptionTextStyle:{title:"Description Text Style",description:"",type:"string",default:"normal",enum:I,order:2},versionTextStyle:{title:"Version Text Style",description:"",type:"string",default:"subtle",enum:I,order:3},statsTextStyle:{title:"Stats Text Style",description:"",type:"string",default:"normal",enum:I,order:4},showPackageTypeIcon:{title:"Show Package Type Icon",description:"",type:"boolean",default:!0,order:5},showPackageStats:{title:"Show Package Stats",description:"",type:"boolean",default:!0,order:6}}}};function L(e){return void 0===e&&(e=""),(null==e?void 0:e.length)?atom.config.get(C+"."+e):atom.config.get(""+C)}function D(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var M=D(m.default),B=D(b.default),R=D(v.default);const j=/\s+at.*(?:\(|\s)(.*)\)?/,U=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,z=void 0===M.default.homedir?"":M.default.homedir();class F extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t=(e=[...e].map((e=>e instanceof Error?e:null!==e&&"object"==typeof e?Object.assign(new Error(e.message),e):new Error(e)))).map((e=>{return"string"==typeof e.stack?(e=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""))((t=e.stack,n=Object.assign({pretty:!1},n),t.replace(/\\/g,"/").split("\n").filter((e=>{const t=e.match(j);if(null===t||!t[1])return!0;const n=t[1];return!n.includes(".app/Contents/Resources/electron.asar")&&!n.includes(".app/Contents/Resources/default_app.asar")&&!U.test(n)})).filter((e=>""!==e.trim())).map((e=>n.pretty?e.replace(j,((e,t)=>e.replace(t,t.replace(z,"~")))):e)).join("\n"))):String(e);var t,n})).join("\n");t="\n"+((e,t=1,n)=>{if(n={indent:" ",includeEmptyLines:!1,...n},"string"!=typeof e)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof n.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof n.indent}\``);if(0===t)return e;const r=n.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(r,n.indent.repeat(t))})(t,4),super(t),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(const e of this._errors)yield e}}var $=F;const G=(e,t,n)=>new Promise(((r,i)=>{if(n=Object.assign({concurrency:1/0},n),"function"!=typeof t)throw new TypeError("Mapper function is required");const{concurrency:o}=n;if(!("number"==typeof o&&o>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${o}\` (${typeof o})`);const a=[],s=e[Symbol.iterator]();let l=!1,c=!1,u=0,d=0;const f=()=>{if(l)return;const e=s.next(),n=d;if(d++,e.done)return c=!0,void(0===u&&r(a));u++,Promise.resolve(e.value).then((e=>t(e,n))).then((e=>{a[n]=e,u--,f()}),(e=>{l=!0,i(e)}))};for(let e=0;e<o&&(f(),!c);e++);}));var Z=G,q=G;Z.default=q;const H=async(e,t,n)=>(await Z(e,((e,n)=>Promise.all([t(e,n),e])),n)).filter((e=>Boolean(e[0]))).map((e=>e[1]));var V=H,K=H;V.default=K;const W="undefined"!=typeof atom,Y="undefined"!=typeof atom&&(atom.inDevMode()||atom.inSpecMode());
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */
var Q=/["'&<>]/,X=function(e){var t,n=""+e,r=Q.exec(n);if(!r)return n;var i="",o=0,a=0;for(o=r.index;o<n.length;o++){switch(n.charCodeAt(o)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==o&&(i+=n.substring(a,o)),a=o+1,i+=t}return a!==o?i+n.substring(a,o):i};function J(e,t,n){let r;const i=async function(e,t,n){const r=g.default.spawn(e,t,n),i=new Promise(((e,t)=>{const i={stdout:r.stdout?[]:null,stderr:r.stderr?[]:null};r.on("error",t),r.stdout&&r.stdout.on("data",(function(e){i.stdout.push(e),n.handleStdout&&n.handleStdout(e)})),r.stderr&&r.stderr.on("data",(function(e){i.stderr.push(e),n.handleStderr&&n.handleStderr(e)})),r.on("close",(t=>{let r=null;null!=i.stdout&&(r=null===n.encoding||"buffer"===n.encoding?Buffer.concat(i.stdout):i.stdout.join(""));let o=null;null!=i.stderr&&(o=null===n.encoding||"buffer"===n.encoding?Buffer.concat(i.stderr):i.stderr.join("")),e({exitCode:t,stdout:r,stderr:o})}))}));return n.handleChildProcess(r),i}(e,t,{...n,handleChildProcess(e){r=e}});return i.kill=function(e){return r.kill(e)},i}async function ee(e){if(W){const t=await async function(e){var t;const n=atom.packages.getLoadedPackage(e.name);return null==n?null:null!==(t=n.metadata.version)&&void 0!==t?t:null}(e);if(t)return t}return async function(e){var t,n;const{directory:r}=e;if(null==r)return null;let i=null;try{i=JSON.parse(await B.default.promises.readFile(R.default.join(r,"package.json"),"utf8"))}catch(e){return null}return null!==(t=null===(n=i)||void 0===n?void 0:n.version)&&void 0!==t?t:null}(e)}const te=W?async function(e){return atom.packages.resolvePackagePath(e)}:async function(e){var t;const n=R.default.join(null!==(t=process.env.ATOM_HOME)&&void 0!==t?t:R.default.join(M.default.homedir(),".atom"),"packages",e);try{return await B.default.promises.access(n,B.default.constants.R_OK),n}catch(e){return null}};function ne(e,t){if(!e)throw new Error(null!=t?t:"Invariant violation")}async function re(e){const t=await(W?async function(e){const t=atom.packages.getLoadedPackage(e),n=t&&t.metadata["package-deps"];return Array.isArray(n)?n:[]}(e):async function(e){let t=null;try{t=await B.default.promises.stat(e)}catch(e){}if(null==t||!t.isDirectory())throw new Error("[Package-Deps] Expected packageName to be a readable directory in Node.js invocation");let n=null;try{const t=await B.default.promises.readFile(R.default.join(e,"package.json"),"utf8");n=JSON.parse(t)}catch(e){}const r=null==n||"object"!=typeof n?[]:n["package-deps"];return Array.isArray(r)?r:[]}(e));return Y&&(ne(Array.isArray(t),`Dependencies for ${e} are not a valid array`),t.forEach(((t,n)=>{if(Array.isArray(t))t.forEach(((t,r)=>{const i=`Dependency#${n}#${r} for ${e} is invalid`;ne("string"==typeof t.name&&t.name.length>0,i),ne(null==t.minimumVersion||"string"==typeof t.minimumVersion&&t.minimumVersion.length>0,i)})),ne(t.length>0,`Dependency#${n} for ${e} has no group items`);else{const r=`Dependency#${n} for ${e} is invalid`;ne("string"==typeof t.name&&t.name.length>0,r),ne(null==t.minimumVersion||"string"==typeof t.minimumVersion&&t.minimumVersion.length>0,r)}}))),t}async function ie(e){if(null==e.directory)return!0;if(null==e.minimumVersion)return!1;const t=await ee(e);return null==t||1===function(e,t){for(var n=e.split("."),r=t.split("."),i=0;i<3;i++){var o=Number(n[i]),a=Number(r[i]);if(o>a)return 1;if(a>o)return-1;if(!isNaN(o)&&isNaN(a))return 1;if(isNaN(o)&&!isNaN(a))return-1}return 0}(e.minimumVersion,t)}const oe=new Set(["✓","done"]),ae=/(?:Installing|Moving) (.*?) to .* (.*)/;async function se(e){if("string"==typeof e)return{name:e,directory:await te(e)};if("name"in e)return{...e,directory:await te(e.name)};throw console.error("This package-deps entry is not valid. Please see https://github.com/steelbrain/package-deps#how-it-works",{entry:e}),Error("The package-deps entry is not valid. Please see https://github.com/steelbrain/package-deps#how-it-works")}let le=!0;const ce=W?function({packageName:e,dependencies:t}){const n=[],r=atom.notifications.addInfo(`Installing ${e} dependencies`,{detail:`Installing ${t.map((e=>e.name)).join(", ")}`,dismissable:!0}),i=document.createElement("progress");i.max=t.length,i.style.width="100%";try{var o;const e=atom.views.getView(r),t=null!==(o=null==e?void 0:e.element)&&void 0!==o?o:null;if(null==t)throw new Error("Unable to get notification element from view");const n=t.querySelector(".detail-content");if(null==n)throw new Error("Content detail container not found inside the notification");n.appendChild(i)}catch(e){console.error("[Package-Deps] Error during showing installation progress to user",e)}return{handleFailure({dependency:e,error:t}){var r;n.push(e.name),i.value+=1,console.error(`[Package-Deps] Unable to install ${e.name}, Error:`,null!==(r=null==t?void 0:t.stack)&&void 0!==r?r:t)},handleDependencyInstalled(e){i.value+=1},handleComplete(){r.dismiss(),n.length>0?atom.notifications.addWarning(`Failed to install ${e} dependencies`,{detail:`These packages were not installed, check your console\nfor more info.\n${n.join("\n")}`,dismissable:!0}):atom.notifications.addSuccess(`Installed ${e} dependencies`,{detail:`Installed ${t.map((e=>e.name)).join(", ")}`}),Promise.all(t.map((e=>n.includes(e.name)?null:atom.packages.activatePackage(e.name)))).catch((t=>{console.error(`[Package-Deps] Error activating installed packages for ${e}`,t)}))}}}:function({dependencies:e}){let t=!1;return console.log(`Installing dependencies:\n${e.map((e=>`  - ${e.name}`)).join("\n")}`),{handleFailure({dependency:e,error:n}){var r;t=!0,console.error(`Unable to install ${e.name}, Error:`,null!==(r=null==n?void 0:n.stack)&&void 0!==r?r:n)},handleDependencyInstalled(e){console.log("Successfully installed",e.name)},handleComplete(){console.log("Installation complete"),t&&(process.exitCode=1)}}},ue=W?function({packageName:e,dependencies:t}){return new Promise((n=>{const r=t.filter((e=>!Array.isArray(e))),i=t.filter((e=>Array.isArray(e))),o=0===i.length,a=o?r.map((e=>e.name)).join(", "):"Something went wrong. Check your developer console",s=i.map((e=>e[0]));atom.packages.isPackageDisabled("notifications")&&console.warn(`Enable notifications to install dependencies for ${e}`);const l=atom.notifications.addInfo(`${e} needs to install dependencies`,{dismissable:!0,icon:"cloud-download",detail:a,description:`Install dependenc${1===t.length?"y":"ies"}?`,buttons:[{text:"Yes",onDidClick:()=>{n(o?r:r.concat(s)),l.dismiss()}},{text:"No Thanks",onDidClick:()=>{l.dismiss()}},{text:"Never",onDidClick:()=>{!function(e){var t;if(!W)return;const n=new Set(null!==(t=atom.config.get("atom-package-deps.ignored"))&&void 0!==t?t:[]);n.add(e),atom.config.set("atom-package-deps.ignored",Array.from(n))}(e),le&&(le=!1,atom.notifications.addInfo("How to reset package-deps memory",{dismissable:!0,description:"To modify the list of ignored files invoke 'Application: Open Your Config' and change the 'atom-package-deps' section"})),l.dismiss()}}]});if(l.onDidDismiss((()=>n([]))),!o)try{var c;const e=atom.views.getView(l),t=null!==(c=null==e?void 0:e.element)&&void 0!==c?c:null;if(null==t)throw new Error("Unable to get notification element from view");const n=t.querySelector(".detail-content");if(null==n)throw new Error("Content detail container not found inside the notification");if(n.innerHTML="",r.length>0){const e=document.createElement("div");e.innerHTML=`Packages without choices: <br /><ul><li>${r.map((e=>X(e.name))).join("</li><li>")}</li></ul>`,n.appendChild(e)}const o=document.createElement("div");o.innerHTML="Packages with choices:",n.appendChild(o);const a=document.createElement("ul");i.forEach(((e,t)=>{const n=document.createElement("li"),r=document.createElement("select");r.innerHTML=e.map((e=>`<option>${X(e.name)}</option>`)).join("\n"),r.addEventListener("change",(()=>{const n=e.find((e=>e.name===r.value));null!=n&&(s[t]=n)})),n.style.marginTop="5px",n.appendChild(r),a.appendChild(n)})),n.appendChild(a)}catch(e){console.error("[Package-Deps] Error during showing package choices to user",e)}}))}:async function({dependencies:e}){return e.map((e=>Array.isArray(e)?e[0]:e))};var de=async function(e,t=!1){if(ne("string"==typeof e&&e.length>0,"[Package-Deps] Package name is required"),function(e){var t;return!!W&&!!(null!==(t=atom.config.get("atom-package-deps.ignored"))&&void 0!==t?t:[]).includes(e)}(e))return;const n=await re(e);if(0===n.length)return;const r=await Promise.all(n.map((async e=>Array.isArray(e)?Promise.all(e.map(se)):se(e)))),i=await V(r,(async function(e){return Array.isArray(e)?(await Promise.all(e.map((e=>ie(e))))).every(Boolean):ie(e)}));if(0===i.length)return;let o;if(o=t?i.map((e=>Array.isArray(e)?e[0]:e)):await ue({packageName:e,dependencies:i}),0===o.length)return;const a=ce({packageName:e,dependencies:o});await(async(e,t,{concurrency:n=1/0,stopOnError:r=!0}={})=>new Promise(((i,o)=>{if("function"!=typeof t)throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(n)&&n!==1/0||!(n>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${n}\` (${typeof n})`);const a=[],s=[],l=e[Symbol.iterator]();let c=!1,u=!1,d=0,f=0;const h=()=>{if(c)return;const e=l.next(),n=f;if(f++,e.done)return u=!0,void(0===d&&(r||0===s.length?i(a):o(new $(s))));d++,(async()=>{try{const r=await e.value;a[n]=await t(r,n),d--,h()}catch(e){r?(c=!0,o(e)):(s.push(e),d--,h())}})()};for(let e=0;e<n&&(h(),!u);e++);})))(o,(async function(e){try{await async function(e){const t=W?`"${atom.packages.getApmPath()}"`:"apm",{stdout:n,stderr:r}=await J(t,["install",e.name,"--production","--color","false"],{shell:!0}),i=ae.exec(n.trim());if(null!=i&&oe.has(i[2]))return;const o=new Error(`Error installing dependency: ${e.name}`);throw o.stack=r.trim(),o}(e),a.handleDependencyInstalled(e)}catch(t){a.handleFailure({dependency:e,error:t})}}),{concurrency:2}),a.handleComplete()},fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function he(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pe(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function me(e){var t={exports:{}};return e(t,t.exports),t.exports}function ge(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var be=me((function(e,t){e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(!s&&ge)return ge(a);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=ge,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=Math.ceil,a=Math.floor,s="[BigNumber Error] ",l=s+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,p=1e9;function m(e){var t=0|e;return 0<e||e===t?t:t-1}function g(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=u-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function b(e,t){var n,r,i=e.c,o=t.c,a=e.s,s=t.s,l=e.e,c=t.e;if(!a||!s)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=l==c,!i||!o)return r?0:!i^n?1:-1;if(!r)return c<l^n?1:-1;for(s=(l=i.length)<(c=o.length)?l:c,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^n?1:-1;return l==c?0:c<l^n?1:-1}function v(e,t,n,r){if(e<t||n<e||e!==a(e))throw Error(s+(r||"Argument")+("number"==typeof e?e<t||n<e?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function y(e){var t=e.c.length-1;return m(e.e/u)==t&&e.c[t]%2!=0}function w(e,t){return(1<e.length?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function _(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(n=function e(t){var n,k,x,S,E,O,A,T,P,C,I,N=q.prototype={constructor:q,toString:null,valueOf:null},L=new q(1),D=20,M=4,B=-7,R=21,j=-1e7,U=1e7,z=!1,F=1,$=0,G={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Z="0123456789abcdefghijklmnopqrstuvwxyz";function q(e,t){var n,i,o,s,c,f,h,p,m=this;if(!(m instanceof q))return new q(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>U?m.c=m.e=null:e.e<j?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,c=e;10<=c;c/=10,s++);return void(U<s?m.c=m.e=null:(m.e=s,m.c=[e]))}p=String(e)}else{if(!r.test(p=String(e)))return x(m,p,f);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}-1<(s=p.indexOf("."))&&(p=p.replace(".","")),0<(c=p.search(/e/i))?(s<0&&(s=c),s+=+p.slice(c+1),p=p.substring(0,c)):s<0&&(s=p.length)}else{if(v(t,2,Z.length,"Base"),10==t)return J(m=new q(e),D+m.e+1,M);if(p=String(e),f="number"==typeof e){if(0*e!=0)return x(m,p,f,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,q.DEBUG&&15<p.replace(/^0\.0*|\./,"").length)throw Error(l+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=Z.slice(0,t),s=c=0,h=p.length;c<h;c++)if(n.indexOf(i=p.charAt(c))<0){if("."==i){if(s<c){s=h;continue}}else if(!o&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){o=!0,c=-1,s=0;continue}return x(m,String(e),f,t)}f=!1,-1<(s=(p=k(p,t,10,m.s)).indexOf("."))?p=p.replace(".",""):s=p.length}for(c=0;48===p.charCodeAt(c);c++);for(h=p.length;48===p.charCodeAt(--h););if(p=p.slice(c,++h)){if(h-=c,f&&q.DEBUG&&15<h&&(d<e||e!==a(e)))throw Error(l+m.s*e);if((s=s-c-1)>U)m.c=m.e=null;else if(s<j)m.c=[m.e=0];else{if(m.e=s,m.c=[],c=(s+1)%u,s<0&&(c+=u),c<h){for(c&&m.c.push(+p.slice(0,c)),h-=u;c<h;)m.c.push(+p.slice(c,c+=u));c=u-(p=p.slice(c)).length}else c-=h;for(;c--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function H(e,t,n,r){for(var i,o,a=[0],s=0,l=e.length;s<l;){for(o=a.length;o--;a[o]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),i=0;i<a.length;i++)a[i]>n-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/n|0,a[i]%=n)}return a.reverse()}function V(e,t,n){var r,i,o,a,s=0,l=e.length,c=t%h,u=t/h|0;for(e=e.slice();l--;)s=((i=c*(o=e[l]%h)+(r=u*o+(a=e[l]/h|0)*c)%h*h+s)/n|0)+(r/h|0)+u*a,e[l]=i%n;return s&&(e=[s].concat(e)),e}function K(e,t,n,r){var i,o;if(n!=r)o=r<n?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function W(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&1<e.length;e.splice(0,1));}function Y(e,t,n,r){var i,o,a,s,l;if(null==n?n=M:v(n,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)l=g(e.c),l=1==r||2==r&&(a<=B||R<=a)?w(l,a):_(l,a,"0");else if(o=(e=J(new q(e),t,n)).e,s=(l=g(e.c)).length,1==r||2==r&&(t<=o||o<=B)){for(;s<t;l+="0",s++);l=w(l,o)}else if(t-=a,l=_(l,o,"0"),s<o+1){if(0<--t)for(l+=".";t--;l+="0");}else if(0<(t+=o-s))for(o+1==s&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function Q(e,t){for(var n,r=1,i=new q(e[0]);r<e.length;r++){if(!(n=new q(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function X(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];10<=i;i/=10,r++);return(n=r+n*u-1)>U?e.c=e.e=null:n<j?e.c=[e.e=0]:(e.e=n,e.c=t),e}function J(e,t,n,r){var i,s,l,d,h,p,m,g=e.c,b=f;if(g){e:{for(i=1,d=g[0];10<=d;d/=10,i++);if((s=t-i)<0)s+=u,l=t,m=(h=g[p=0])/b[i-l-1]%10|0;else if((p=o((s+1)/u))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));h=m=0,l=(s%=u)-u+(i=1)}else{for(h=d=g[p],i=1;10<=d;d/=10,i++);m=(l=(s%=u)-u+i)<0?0:h/b[i-l-1]%10|0}if(r=r||t<0||null!=g[p+1]||(l<0?h:h%b[i-l-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):5<m||5==m&&(4==n||r||6==n&&(0<s?0<l?h/b[i-l]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=b[(u-t%u)%u],e.e=-t||0):g[0]=e.e=0,e;if(0==s?(g.length=p,d=1,p--):(g.length=p+1,d=b[u-s],g[p]=0<l?a(h/b[i-l]%b[l])*d:0),r)for(;;){if(0==p){for(s=1,l=g[0];10<=l;l/=10,s++);for(l=g[0]+=d,d=1;10<=l;l/=10,d++);s!=d&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[p]+=d,g[p]!=c)break;g[p--]=0,d=1}for(s=g.length;0===g[--s];g.pop());}e.e>U?e.c=e.e=null:e.e<j&&(e.c=[e.e=0])}return e}function ee(e){var t,n=e.e;return null===n?e.toString():(t=g(e.c),t=n<=B||R<=n?w(t,n):_(t,n,"0"),e.s<0?"-"+t:t)}return q.clone=e,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(v(n=e[t],0,p,t),D=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(v(n=e[t],0,8,t),M=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(v(n[0],-p,0,t),v(n[1],0,p,t),B=n[0],R=n[1]):(v(n,-p,p,t),B=-(R=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)v(n[0],-p,-1,t),v(n[1],1,p,t),j=n[0],U=n[1];else{if(v(n,-p,p,t),!n)throw Error(s+t+" cannot be zero: "+n);j=-(U=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(s+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw z=!n,Error(s+"crypto unavailable");z=n}else z=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(v(n=e[t],0,9,t),F=n),e.hasOwnProperty(t="POW_PRECISION")&&(v(n=e[t],0,p,t),$=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(s+t+" not an object: "+n);G=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(s+t+" invalid: "+n);Z=n}}return{DECIMAL_PLACES:D,ROUNDING_MODE:M,EXPONENTIAL_AT:[B,R],RANGE:[j,U],CRYPTO:z,MODULO_MODE:F,POW_PRECISION:$,FORMAT:G,ALPHABET:Z}},q.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!q.DEBUG)return!0;var t,n,r=e.c,i=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&-p<=i&&i<=p&&i===a(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%u)<1&&(t+=u),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||c<=n||n!==a(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(s+"Invalid BigNumber: "+e)},q.maximum=q.max=function(){return Q(arguments,N.lt)},q.minimum=q.min=function(){return Q(arguments,N.gt)},q.random=(S=9007199254740992,E=Math.random()*S&2097151?function(){return a(Math.random()*S)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,l,c=0,d=[],h=new q(L);if(null==e?e=D:v(e,0,p),i=o(e/u),z)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));c<i;)9e15<=(l=131072*t[c]+(t[c+1]>>>11))?(n=crypto.getRandomValues(new Uint32Array(2)),t[c]=n[0],t[c+1]=n[1]):(d.push(l%1e14),c+=2);c=i/2}else{if(!crypto.randomBytes)throw z=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(i*=7);c<i;)9e15<=(l=281474976710656*(31&t[c])+1099511627776*t[c+1]+4294967296*t[c+2]+16777216*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])?crypto.randomBytes(7).copy(t,c):(d.push(l%1e14),c+=7);c=i/7}if(!z)for(;c<i;)(l=E())<9e15&&(d[c++]=l%1e14);for(i=d[--c],e%=u,i&&e&&(l=f[u-e],d[c]=a(i/l)*l);0===d[c];d.pop(),c--);if(c<0)d=[r=0];else{for(r=-1;0===d[0];d.splice(0,1),r-=u);for(c=1,l=d[0];10<=l;l/=10,c++);c<u&&(r-=u-c)}return h.e=r,h.c=d,h}),q.sum=function(){for(var e=1,t=arguments,n=new q(t[0]);e<t.length;)n=n.plus(t[e++]);return n},O="0123456789",k=function(e,t,r,i,o){var a,s,l,c,u,d,f,h,p=e.indexOf("."),m=D,b=M;for(0<=p&&(c=$,$=0,e=e.replace(".",""),d=(h=new q(t)).pow(e.length-p),$=c,h.c=H(_(g(d.c),d.e,"0"),10,r,O),h.e=h.c.length),l=c=(f=H(e,t,r,o?(a=Z,O):(a=O,Z))).length;0==f[--c];f.pop());if(!f[0])return a.charAt(0);if(p<0?--l:(d.c=f,d.e=l,d.s=i,f=(d=n(d,h,m,b,r)).c,u=d.r,l=d.e),p=f[s=l+m+1],c=r/2,u=u||s<0||null!=f[s+1],u=b<4?(null!=p||u)&&(0==b||b==(d.s<0?3:2)):c<p||p==c&&(4==b||u||6==b&&1&f[s-1]||b==(d.s<0?8:7)),s<1||!f[0])e=u?_(a.charAt(1),-m,a.charAt(0)):a.charAt(0);else{if(f.length=s,u)for(--r;++f[--s]>r;)f[s]=0,s||(++l,f=[1].concat(f));for(c=f.length;!f[--c];);for(p=0,e="";p<=c;e+=a.charAt(f[p++]));e=_(e,l,a.charAt(0))}return e},n=function(e,t,n,r,i){var o,s,l,d,f,h,p,g,b,v,y,w,_,k,x,S,E,O=e.s==t.s?1:-1,A=e.c,T=t.c;if(!(A&&A[0]&&T&&T[0]))return new q(e.s&&t.s&&(A?!T||A[0]!=T[0]:T)?A&&0==A[0]||!T?0*O:O/0:NaN);for(b=(g=new q(O)).c=[],O=n+(s=e.e-t.e)+1,i||(i=c,s=m(e.e/u)-m(t.e/u),O=O/u|0),l=0;T[l]==(A[l]||0);l++);if(T[l]>(A[l]||0)&&s--,O<0)b.push(1),d=!0;else{for(k=A.length,S=T.length,O+=2,1<(f=a(i/(T[l=0]+1)))&&(T=V(T,f,i),A=V(A,f,i),S=T.length,k=A.length),_=S,y=(v=A.slice(0,S)).length;y<S;v[y++]=0);E=T.slice(),E=[0].concat(E),x=T[0],T[1]>=i/2&&x++;do{if(f=0,(o=K(T,v,S,y))<0){if(w=v[0],S!=y&&(w=w*i+(v[1]||0)),1<(f=a(w/x)))for(i<=f&&(f=i-1),p=(h=V(T,f,i)).length,y=v.length;1==K(h,v,p,y);)f--,W(h,S<p?E:T,p,i),p=h.length,o=1;else 0==f&&(o=f=1),p=(h=T.slice()).length;if(p<y&&(h=[0].concat(h)),W(v,h,y,i),y=v.length,-1==o)for(;K(T,v,S,y)<1;)f++,W(v,S<y?E:T,y,i),y=v.length}else 0===o&&(f++,v=[0]);b[l++]=f,v[0]?v[y++]=A[_]||0:(v=[A[_]],y=1)}while((_++<k||null!=v[0])&&O--);d=null!=v[0],b[0]||b.splice(0,1)}if(i==c){for(l=1,O=b[0];10<=O;O/=10,l++);J(g,n+(g.e=l+s*u-1)+1,r,d)}else g.e=s,g.r=+d;return g},A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,P=/^\.([^.]+)$/,C=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(e,t,n,r){var i,o=n?t:t.replace(I,"");if(C.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(A,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,o=o.replace(T,"$1").replace(P,"0.$1")),t!=o))return new q(o,i);if(q.DEBUG)throw Error(s+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},N.absoluteValue=N.abs=function(){var e=new q(this);return e.s<0&&(e.s=1),e},N.comparedTo=function(e,t){return b(this,new q(e,t))},N.decimalPlaces=N.dp=function(e,t){var n,r,i;if(null!=e)return v(e,0,p),null==t?t=M:v(t,0,8),J(new q(this),e+this.e+1,t);if(!(n=this.c))return null;if(r=((i=n.length-1)-m(this.e/u))*u,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},N.dividedBy=N.div=function(e,t){return n(this,new q(e,t),D,M)},N.dividedToIntegerBy=N.idiv=function(e,t){return n(this,new q(e,t),0,1)},N.exponentiatedBy=N.pow=function(e,t){var n,r,i,l,c,d,f,h,p=this;if((e=new q(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+ee(e));if(null!=t&&(t=new q(t)),c=14<e.e,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return h=new q(Math.pow(+ee(p),c?2-y(e):+ee(e))),t?h.mod(t):h;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new q(NaN);(r=!d&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(9<e.e&&(0<p.e||p.e<-1||(0==p.e?1<p.c[0]||c&&24e7<=p.c[1]:p.c[0]<8e13||c&&p.c[0]<=9999975e7)))return l=p.s<0&&y(e)?-0:0,-1<p.e&&(l=1/l),new q(d?1/l:l);$&&(l=o($/u+2))}for(f=c?(n=new q(.5),d&&(e.s=1),y(e)):(i=Math.abs(+ee(e)))%2,h=new q(L);;){if(f){if(!(h=h.times(p)).c)break;l?h.c.length>l&&(h.c.length=l):r&&(h=h.mod(t))}if(i){if(0===(i=a(i/2)))break;f=i%2}else if(J(e=e.times(n),e.e+1,1),14<e.e)f=y(e);else{if(0==(i=+ee(e)))break;f=i%2}p=p.times(p),l?p.c&&p.c.length>l&&(p.c.length=l):r&&(p=p.mod(t))}return r?h:(d&&(h=L.div(h)),t?h.mod(t):l?J(h,$,M,void 0):h)},N.integerValue=function(e){var t=new q(this);return null==e?e=M:v(e,0,8),J(t,t.e+1,e)},N.isEqualTo=N.eq=function(e,t){return 0===b(this,new q(e,t))},N.isFinite=function(){return!!this.c},N.isGreaterThan=N.gt=function(e,t){return 0<b(this,new q(e,t))},N.isGreaterThanOrEqualTo=N.gte=function(e,t){return 1===(t=b(this,new q(e,t)))||0===t},N.isInteger=function(){return!!this.c&&m(this.e/u)>this.c.length-2},N.isLessThan=N.lt=function(e,t){return b(this,new q(e,t))<0},N.isLessThanOrEqualTo=N.lte=function(e,t){return-1===(t=b(this,new q(e,t)))||0===t},N.isNaN=function(){return!this.s},N.isNegative=function(){return this.s<0},N.isPositive=function(){return 0<this.s},N.isZero=function(){return!!this.c&&0==this.c[0]},N.minus=function(e,t){var n,r,i,o,a=this,s=a.s;if(t=(e=new q(e,t)).s,!s||!t)return new q(NaN);if(s!=t)return e.s=-t,a.plus(e);var l=a.e/u,d=e.e/u,f=a.c,h=e.c;if(!l||!d){if(!f||!h)return f?(e.s=-t,e):new q(h?a:NaN);if(!f[0]||!h[0])return h[0]?(e.s=-t,e):new q(f[0]?a:3==M?-0:0)}if(l=m(l),d=m(d),f=f.slice(),s=l-d){for((i=(o=s<0)?(s=-s,f):(d=l,h)).reverse(),t=s;t--;i.push(0));i.reverse()}else for(r=(o=(s=f.length)<(t=h.length))?s:t,s=t=0;t<r;t++)if(f[t]!=h[t]){o=f[t]<h[t];break}if(o&&(i=f,f=h,h=i,e.s=-e.s),0<(t=(r=h.length)-(n=f.length)))for(;t--;f[n++]=0);for(t=c-1;s<r;){if(f[--r]<h[r]){for(n=r;n&&!f[--n];f[n]=t);--f[n],f[r]+=c}f[r]-=h[r]}for(;0==f[0];f.splice(0,1),--d);return f[0]?X(e,f,d):(e.s=3==M?-1:1,e.c=[e.e=0],e)},N.modulo=N.mod=function(e,t){var r,i,o=this;return e=new q(e,t),!o.c||!e.s||e.c&&!e.c[0]?new q(NaN):!e.c||o.c&&!o.c[0]?new q(o):(9==F?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,F),(e=o.minus(r.times(e))).c[0]||1!=F||(e.s=o.s),e)},N.multipliedBy=N.times=function(e,t){var n,r,i,o,a,s,l,d,f,p,g,b,v,y,w,_=this,k=_.c,x=(e=new q(e,t)).c;if(!(k&&x&&k[0]&&x[0]))return!_.s||!e.s||k&&!k[0]&&!x||x&&!x[0]&&!k?e.c=e.e=e.s=null:(e.s*=_.s,k&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=m(_.e/u)+m(e.e/u),e.s*=_.s,(l=k.length)<(p=x.length)&&(v=k,k=x,x=v,i=l,l=p,p=i),i=l+p,v=[];i--;v.push(0));for(y=c,w=h,i=p;0<=--i;){for(n=0,g=x[i]%w,b=x[i]/w|0,o=i+(a=l);i<o;)n=((d=g*(d=k[--a]%w)+(s=b*d+(f=k[a]/w|0)*g)%w*w+v[o]+n)/y|0)+(s/w|0)+b*f,v[o--]=d%y;v[o]=n}return n?++r:v.splice(0,1),X(e,v,r)},N.negated=function(){var e=new q(this);return e.s=-e.s||null,e},N.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new q(e,t)).s,!i||!t)return new q(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/u,a=e.e/u,s=r.c,l=e.c;if(!o||!a){if(!s||!l)return new q(i/0);if(!s[0]||!l[0])return l[0]?e:new q(s[0]?r:0*i)}if(o=m(o),a=m(a),s=s.slice(),i=o-a){for((n=0<i?(a=o,l):(i=-i,s)).reverse();i--;n.push(0));n.reverse()}for((i=s.length)-(t=l.length)<0&&(n=l,l=s,s=n,t=i),i=0;t;)i=(s[--t]=s[t]+l[t]+i)/c|0,s[t]=c===s[t]?0:s[t]%c;return i&&(s=[i].concat(s),++a),X(e,s,a)},N.precision=N.sd=function(e,t){var n,r,i;if(null!=e&&e!==!!e)return v(e,1,p),null==t?t=M:v(t,0,8),J(new q(this),e,t);if(!(n=this.c))return null;if(r=(i=n.length-1)*u+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];10<=i;i/=10,r++);}return e&&this.e+1>r&&(r=this.e+1),r},N.shiftedBy=function(e){return v(e,-d,d),this.times("1e"+e)},N.squareRoot=N.sqrt=function(){var e,t,r,i,o,a=this,s=a.c,l=a.s,c=a.e,u=D+4,d=new q("0.5");if(1!==l||!s||!s[0])return new q(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);if((r=0==(l=Math.sqrt(+ee(a)))||l==1/0?(((t=g(s)).length+c)%2==0&&(t+="0"),l=Math.sqrt(+t),c=m((c+1)/2)-(c<0||c%2),new q(t=l==1/0?"1e"+c:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+c)):new q(l+"")).c[0])for((l=(c=r.e)+u)<3&&(l=0);;)if(o=r,r=d.times(o.plus(n(a,o,u,1))),g(o.c).slice(0,l)===(t=g(r.c)).slice(0,l)){if(r.e<c&&--l,"9999"!=(t=t.slice(l-3,l+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(J(r,r.e+D+2,1),e=!r.times(r).eq(a));break}if(!i&&(J(o,o.e+D+2,0),o.times(o).eq(a))){r=o;break}u+=4,l+=4,i=1}return J(r,r.e+D+1,M,e)},N.toExponential=function(e,t){return null!=e&&(v(e,0,p),e++),Y(this,e,t,1)},N.toFixed=function(e,t){return null!=e&&(v(e,0,p),e=e+this.e+1),Y(this,e,t)},N.toFormat=function(e,t,n){var r;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=G;else if("object"!=typeof n)throw Error(s+"Argument not an object: "+n);if(r=this.toFixed(e,t),this.c){var i,o=r.split("."),a=+n.groupSize,l=+n.secondaryGroupSize,c=n.groupSeparator||"",u=o[0],d=o[1],f=this.s<0,h=f?u.slice(1):u,p=h.length;if(l&&(i=a,a=l,p-=l=i),0<a&&0<p){for(i=p%a||a,u=h.substr(0,i);i<p;i+=a)u+=c+h.substr(i,a);0<l&&(u+=c+h.slice(i)),f&&(u="-"+u)}r=d?u+(n.decimalSeparator||"")+((l=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):u}return(n.prefix||"")+r+(n.suffix||"")},N.toFraction=function(e){var t,r,i,o,a,l,c,d,h,p,m,b,v=this,y=v.c;if(null!=e&&(!(c=new q(e)).isInteger()&&(c.c||1!==c.s)||c.lt(L)))throw Error(s+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+ee(c));if(!y)return new q(v);for(t=new q(L),h=r=new q(L),i=d=new q(L),b=g(y),a=t.e=b.length-v.e-1,t.c[0]=f[(l=a%u)<0?u+l:l],e=!e||0<c.comparedTo(t)?0<a?t:h:c,l=U,U=1/0,c=new q(b),d.c[0]=0;p=n(c,t,0,1),1!=(o=r.plus(p.times(i))).comparedTo(e);)r=i,i=o,h=d.plus(p.times(o=h)),d=o,t=c.minus(p.times(o=t)),c=o;return o=n(e.minus(r),i,0,1),d=d.plus(o.times(h)),r=r.plus(o.times(i)),d.s=h.s=v.s,m=n(h,i,a*=2,M).minus(v).abs().comparedTo(n(d,r,a,M).minus(v).abs())<1?[h,i]:[d,r],U=l,m},N.toNumber=function(){return+ee(this)},N.toPrecision=function(e,t){return null!=e&&v(e,1,p),Y(this,e,t,2)},N.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(t=null==e?i<=B||R<=i?w(g(n.c),i):_(g(n.c),i,"0"):10===e?_(g((n=J(new q(n),D+i+1,M)).c),n.e,"0"):(v(e,2,Z.length,"Base"),k(_(g(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},N.valueOf=N.toJSON=function(){return ee(this)},N._isBigNumber=!0,i&&(N[Symbol.toStringTag]="BigNumber",N[Symbol.for("nodejs.util.inspect.custom")]=N.valueOf),null!=t&&q.set(t),q}()).default=n.BigNumber=n,void 0!==t&&t.exports?t.exports=n:(e=e||("undefined"!=typeof self&&self?self:window)).BigNumber=n}(this)},{}],2:[function(e,t,n){t.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=e("./globalState"),o=e("./validating"),a=e("./parsing"),s={trillion:Math.pow(10,12),billion:Math.pow(10,9),million:Math.pow(10,6),thousand:Math.pow(10,3)},l={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},c=i.currentBytes(),u=c.binarySuffixes,d=c.decimalSuffixes,f={general:{scale:1024,suffixes:d,marker:"bd"},binary:{scale:1024,suffixes:u,marker:"b"},decimal:{scale:1e3,suffixes:d,marker:"d"}};function h(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if("string"==typeof t&&(t=a.parseFormat(t)),!o.validateFormat(t))return"ERROR: invalid format";var r=t.prefix||"",s=t.postfix||"",c=function(e,t,n){switch(t.output){case"currency":return function(e,t,n){var r=n.currentCurrency(),i=Object.assign({},l,t),o=void 0,a="",s=!!i.totalLength||!!i.forceAverage||i.average,c=t.currencyPosition||r.position,u=t.currencySymbol||r.symbol,d=void 0!==i.spaceSeparatedCurrency?i.spaceSeparatedCurrency:i.spaceSeparated;void 0===t.lowPrecision&&(t.lowPrecision=!1),d&&(a=" "),"infix"===c&&(o=a+u+a);var f=v({instance:e,providedFormat:t,state:n,decimalSeparator:o});return"prefix"===c&&(f=e._value<0&&"sign"===i.negative?"-".concat(a).concat(u).concat(f.slice(1)):0<e._value&&i.forceSign?"+".concat(a).concat(u).concat(f.slice(1)):u+a+f),c&&"postfix"!==c||(f=f+(a=!i.spaceSeparatedAbbreviation&&s?"":a)+u),f}(e,t=y(t,i.currentCurrencyDefaultFormat()),i);case"percent":return function(e,t,n,r){var i=t.prefixSymbol,o=v({instance:r(100*e._value),providedFormat:t,state:n}),a=Object.assign({},l,t);return i?"%".concat(a.spaceSeparated?" ":"").concat(o):"".concat(o).concat(a.spaceSeparated?" ":"","%")}(e,t=y(t,i.currentPercentageDefaultFormat()),i,n);case"byte":return function(e,t,n,r){var i=t.base||"binary",o=Object.assign({},l,t),a=n.currentBytes(),s=a.binarySuffixes,c=a.decimalSuffixes,f={general:{scale:1024,suffixes:c||d,marker:"bd"},binary:{scale:1024,suffixes:s||u,marker:"b"},decimal:{scale:1e3,suffixes:c||d,marker:"d"}}[i],h=p(e._value,f.suffixes,f.scale),m=h.value,g=h.suffix,b=v({instance:r(m),providedFormat:t,state:n,defaults:n.currentByteDefaultFormat()});return"".concat(b).concat(o.spaceSeparated?" ":"").concat(g)}(e,t=y(t,i.currentByteDefaultFormat()),i,n);case"time":return t=y(t,i.currentTimeDefaultFormat()),function(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),r=Math.round(e._value-60*t*60-60*n);return"".concat(t,":").concat(n<10?"0":"").concat(n,":").concat(r<10?"0":"").concat(r)}(e);case"ordinal":return function(e,t,n){var r=n.currentOrdinal(),i=Object.assign({},l,t),o=v({instance:e,providedFormat:t,state:n}),a=r(e._value);return"".concat(o).concat(i.spaceSeparated?" ":"").concat(a)}(e,t=y(t,i.currentOrdinalDefaultFormat()),i);case"number":default:return v({instance:e,providedFormat:t,numbro:n})}}(e,t,n);return(c=r+c)+s}function p(e,t,n){var r=t[0],i=Math.abs(e);if(n<=i){for(var o=1;o<t.length;++o){var a=Math.pow(n,o),s=Math.pow(n,o+1);if(a<=i&&i<s){r=t[o],e/=a;break}}r===t[0]&&(e/=Math.pow(n,t.length-1),r=t[t.length-1])}return{value:e,suffix:r}}function m(e){for(var t="",n=0;n<e;n++)t+="0";return t}function g(e,t,n){var i=2<arguments.length&&void 0!==n?n:Math.round;return-1!==e.toString().indexOf("e")?function(e,t){var n=e.toString(),i=r(n.split("e"),2),o=i[0],a=i[1],s=r(o.split("."),2),l=s[0],c=s[1],u=void 0===c?"":c;if(0<+a)n=l+u+m(a-u.length);else{var d=".";d=+l<0?"-0".concat(d):"0".concat(d);var f=(m(-a-1)+Math.abs(l)+u).substr(0,t);f.length<t&&(f+=m(t-f.length)),n=d+f}return 0<+a&&0<t&&(n+=".".concat(m(t))),n}(e,t):(i(+"".concat(e,"e+").concat(t))/Math.pow(10,t)).toFixed(t)}function b(e,t,n,r,i){var o=r.currentDelimiters(),a=o.thousands;i=i||o.decimal;var s=o.thousandsSize||3,l=e.toString(),c=l.split(".")[0],u=l.split(".")[1],d=t<0&&0===c.indexOf("-");return n&&(d&&(c=c.slice(1)),function(e,t){for(var n=[],r=0,i=e;0<i;i--)r===t&&(n.unshift(i),r=0),r++;return n}(c.length,s).forEach((function(e,t){c=c.slice(0,e+t)+a+c.slice(e+t)})),d&&(c="-".concat(c))),u?c+i+u:c}function v(e){var t=e.instance,n=e.providedFormat,o=e.state,a=void 0===o?i:o,c=e.decimalSeparator,u=e.defaults,d=void 0===u?a.currentDefaults():u,f=t._value;if(0===f&&a.hasZeroFormat())return a.getZeroFormat();if(!isFinite(f))return f.toString();var h,p,m,v,y,w,_,k,x=Object.assign({},l,d,n),S=x.totalLength,E=S?0:x.characteristic,O=x.optionalCharacteristic,A=x.forceAverage,T=x.lowPrecision,P=!!S||!!A||x.average,C=S?-1:P&&void 0===n.mantissa?0:x.mantissa,I=!S&&(void 0===n.optionalMantissa?-1===C:x.optionalMantissa),N=x.trimMantissa,L=x.thousandSeparated,D=x.spaceSeparated,M=x.negative,B=x.forceSign,R=x.exponential,j=x.roundingFunction,U="";if(P){var z=function(e){var t=e.value,n=e.forceAverage,r=e.lowPrecision,i=void 0===r||r,o=e.abbreviations,a=e.spaceSeparated,l=void 0!==a&&a,c=e.totalLength,u=void 0===c?0:c,d=e.roundingFunction,f=void 0===d?Math.round:d,h="",p=Math.abs(t),m=-1;if(n&&o[n]&&s[n]?(h=o[n],t/=s[n]):p>=s.trillion||i&&1===f(p/s.trillion)?(h=o.trillion,t/=s.trillion):p<s.trillion&&p>=s.billion||i&&1===f(p/s.billion)?(h=o.billion,t/=s.billion):p<s.billion&&p>=s.million||i&&1===f(p/s.million)?(h=o.million,t/=s.million):(p<s.million&&p>=s.thousand||i&&1===f(p/s.thousand))&&(h=o.thousand,t/=s.thousand),h=h&&(l?" ":"")+h,u){var g=t<0,b=t.toString().split(".")[0],v=g?b.length-1:b.length;m=Math.max(u-v,0)}return{value:t,abbreviation:h,mantissaPrecision:m}}({value:f,forceAverage:A,lowPrecision:T,abbreviations:a.currentAbbreviations(),spaceSeparated:D,roundingFunction:j,totalLength:S});f=z.value,U+=z.abbreviation,S&&(C=z.mantissaPrecision)}if(R){var F=(p=(h={value:f,characteristicPrecision:E}).value,v=void 0===(m=h.characteristicPrecision)?0:m,w=(y=r(p.toExponential().split("e"),2))[0],_=y[1],k=+w,v&&1<v&&(k*=Math.pow(10,v-1),_=0<=(_-=v-1)?"+".concat(_):_),{value:k,abbreviation:"e".concat(_)});f=F.value,U=F.abbreviation+U}var $,G,Z,q=function(e,t,n,i,o,a){if(-1===i)return e;var s=g(t,i,a),l=r(s.toString().split("."),2),c=l[0],u=l[1],d=void 0===u?"":u;if(d.match(/^0+$/)&&(n||o))return c;var f=d.match(/0+$/);return o&&f?"".concat(c,".").concat(d.toString().slice(0,f.index)):s.toString()}(f.toString(),f,I,C,N,j);return q=b(q=function(e,t,n,i){var o=e,a=r(o.toString().split("."),2),s=a[0],l=a[1];if(s.match(/^-?0$/)&&n)return l?"".concat(s.replace("0",""),".").concat(l):s.replace("0","");var c=t<0&&0===s.indexOf("-");if(c&&(s=s.slice(1),o=o.slice(1)),s.length<i)for(var u=i-s.length,d=0;d<u;d++)o="0".concat(o);return c&&(o="-".concat(o)),o.toString()}(q,f,O,E),f,L,a,c),(P||R)&&(q+=U),(B||f<0)&&($=q,Z=M,q=0===(G=f)?$:0==+$?$.replace("-",""):0<G?"+".concat($):"sign"===Z?$:"(".concat($.replace("-",""),")")),q}function y(e,t){if(!e)return t;var n=Object.keys(e);return 1===n.length&&"output"===n[0]?t:e}t.exports=function(e){return{format:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h.apply(void 0,n.concat([e]))},getByteUnit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e){var t=f.general;return p(e._value,t.suffixes,t.scale).suffix}.apply(void 0,n.concat([e]))},getBinaryByteUnit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e){var t=f.binary;return p(e._value,t.suffixes,t.scale).suffix}.apply(void 0,n.concat([e]))},getDecimalByteUnit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e){var t=f.decimal;return p(e._value,t.suffixes,t.scale).suffix}.apply(void 0,n.concat([e]))},formatOrDefault:y}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(e,t,n){var r=e("./en-US"),i=e("./validating"),o=e("./parsing"),a={},s=void 0,l={},c=null,u={};function d(e){s=e}function f(){return l[s]}a.languages=function(){return Object.assign({},l)},a.currentLanguage=function(){return s},a.currentBytes=function(){return f().bytes||{}},a.currentCurrency=function(){return f().currency},a.currentAbbreviations=function(){return f().abbreviations},a.currentDelimiters=function(){return f().delimiters},a.currentOrdinal=function(){return f().ordinal},a.currentDefaults=function(){return Object.assign({},f().defaults,u)},a.currentOrdinalDefaultFormat=function(){return Object.assign({},a.currentDefaults(),f().ordinalFormat)},a.currentByteDefaultFormat=function(){return Object.assign({},a.currentDefaults(),f().byteFormat)},a.currentPercentageDefaultFormat=function(){return Object.assign({},a.currentDefaults(),f().percentageFormat)},a.currentCurrencyDefaultFormat=function(){return Object.assign({},a.currentDefaults(),f().currencyFormat)},a.currentTimeDefaultFormat=function(){return Object.assign({},a.currentDefaults(),f().timeFormat)},a.setDefaults=function(e){e=o.parseFormat(e),i.validateFormat(e)&&(u=e)},a.getZeroFormat=function(){return c},a.setZeroFormat=function(e){return c="string"==typeof e?e:null},a.hasZeroFormat=function(){return null!==c},a.languageData=function(e){if(e){if(l[e])return l[e];throw new Error('Unknown tag "'.concat(e,'"'))}return f()},a.registerLanguage=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!i.validateLanguage(e))throw new Error("Invalid language data");l[e.languageTag]=e,t&&d(e.languageTag)},a.setLanguage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:r.languageTag;if(!l[e]){var n=e.split("-")[0],i=Object.keys(l).find((function(e){return e.split("-")[0]===n}));return l[i]?void d(i):void d(t)}d(e)},a.registerLanguage(r),s=r.languageTag,t.exports=a},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(e,t,n){t.exports=function(t){return{loadLanguagesInNode:function(n){return r=t,void n.forEach((function(t){var n=void 0;try{n=e("../languages/".concat(t))}catch(n){console.error('Unable to load "'.concat(t,'". No matching language file found.'))}n&&r.registerLanguage(n)}));var r}}}},{}],6:[function(e,t,n){var r=e("bignumber.js");function i(e,t,n){var i=new r(e._value),o=t;return n.isNumbro(t)&&(o=t._value),o=new r(o),e._value=i.minus(o).toNumber(),e}t.exports=function(e){return{add:function(t,n){return o=n,a=e,s=new r((i=t)._value),l=o,a.isNumbro(o)&&(l=o._value),l=new r(l),i._value=s.plus(l).toNumber(),i;var i,o,a,s,l},subtract:function(t,n){return i(t,n,e)},multiply:function(t,n){return o=n,a=e,s=new r((i=t)._value),l=o,a.isNumbro(o)&&(l=o._value),l=new r(l),i._value=s.times(l).toNumber(),i;var i,o,a,s,l},divide:function(t,n){return o=n,a=e,s=new r((i=t)._value),l=o,a.isNumbro(o)&&(l=o._value),l=new r(l),i._value=s.dividedBy(l).toNumber(),i;var i,o,a,s,l},set:function(t,n){return r=t,o=i=n,e.isNumbro(i)&&(o=i._value),r._value=o,r;var r,i,o},difference:function(t,n){return r=n,i(a=(o=e)(t._value),r,o),Math.abs(a._value);var r,o,a},BigNumber:r}}},{"bignumber.js":1}],7:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("./globalState"),o=e("./validating"),a=e("./loading")(h),s=e("./unformatting"),l=e("./formatting")(h),c=e("./manipulating")(h),u=e("./parsing"),d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._value=t}var t;return(t=[{key:"clone",value:function(){return h(this._value)}},{key:"format",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};return l.format(this,t)}},{key:"formatCurrency",value:function(e){return"string"==typeof e&&(e=u.parseFormat(e)),(e=l.formatOrDefault(e,i.currentCurrencyDefaultFormat())).output="currency",l.format(this,e)}},{key:"formatTime",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};return t.output="time",l.format(this,t)}},{key:"binaryByteUnits",value:function(){return l.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return l.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return l.getByteUnit(this)}},{key:"difference",value:function(e){return c.difference(this,e)}},{key:"add",value:function(e){return c.add(this,e)}},{key:"subtract",value:function(e){return c.subtract(this,e)}},{key:"multiply",value:function(e){return c.multiply(this,e)}},{key:"divide",value:function(e){return c.divide(this,e)}},{key:"set",value:function(e){return c.set(this,f(e))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&r(e.prototype,t),e}();function f(e){var t=e;return h.isNumbro(e)?t=e._value:"string"==typeof e?t=h.unformat(e):isNaN(e)&&(t=NaN),t}function h(e){return new d(f(e))}h.version="2.3.2",h.isNumbro=function(e){return e instanceof d},h.language=i.currentLanguage,h.registerLanguage=i.registerLanguage,h.setLanguage=i.setLanguage,h.languages=i.languages,h.languageData=i.languageData,h.zeroFormat=i.setZeroFormat,h.defaultFormat=i.currentDefaults,h.setDefaults=i.setDefaults,h.defaultCurrencyFormat=i.currentCurrencyDefaultFormat,h.validate=o.validate,h.loadLanguagesInNode=a.loadLanguagesInNode,h.unformat=s.unformat,h.BigNumber=c.BigNumber,t.exports=h},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(e,t,n){t.exports={parseFormat:function(e){var t,n,r,i,o,a,s,l,c,u,d,f,h,p,m,g,b,v,y,w,_,k,x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof e?e:(n=x,o=x,function(e,t){if(-1===e.indexOf("$")){if(-1===e.indexOf("%"))return-1!==e.indexOf("bd")?(t.output="byte",t.base="general"):-1!==e.indexOf("b")?(t.output="byte",t.base="binary"):-1!==e.indexOf("d")?(t.output="byte",t.base="decimal"):-1===e.indexOf(":")?-1!==e.indexOf("o")&&(t.output="ordinal"):t.output="time";t.output="percent"}else t.output="currency"}(e=(a=(i=e=(r=(t=e).match(/^{([^}]*)}/))?(n.prefix=r[1],t.slice(r[0].length)):t).match(/{([^}]*)}$/))?(o.postfix=a[1],i.slice(0,-a[0].length)):i,x),s=x,(l=e.match(/[1-9]+[0-9]*/))&&(s.totalLength=+l[0]),c=x,(u=e.split(".")[0].match(/0+/))&&(c.characteristic=u[0].length),function(e,t){if(-1!==e.indexOf(".")){var n=e.split(".")[0];t.optionalCharacteristic=-1===n.indexOf("0")}}(e,x),d=x,-1!==e.indexOf("a")&&(d.average=!0),h=x,-1!==(f=e).indexOf("K")?h.forceAverage="thousand":-1!==f.indexOf("M")?h.forceAverage="million":-1!==f.indexOf("B")?h.forceAverage="billion":-1!==f.indexOf("T")&&(h.forceAverage="trillion"),function(e,t){var n=e.split(".")[1];if(n){var r=n.match(/0+/);r&&(t.mantissa=r[0].length)}}(e,x),m=x,(p=e).match(/\[\.]/)?m.optionalMantissa=!0:p.match(/\./)&&(m.optionalMantissa=!1),g=x,(b=e.split(".")[1])&&(g.trimMantissa=-1!==b.indexOf("[")),v=x,-1!==e.indexOf(",")&&(v.thousandSeparated=!0),y=x,-1!==e.indexOf(" ")&&(y.spaceSeparated=!0,y.spaceSeparatedCurrency=!0,(y.average||y.forceAverage)&&(y.spaceSeparatedAbbreviation=!0)),_=x,(w=e).match(/^\+?\([^)]*\)$/)&&(_.negative="parenthesis"),w.match(/^\+?-/)&&(_.negative="sign"),k=x,e.match(/^\+/)&&(k.forceSign=!0),x)}}},{}],9:[function(e,t,n){var r=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function i(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(e,t,n,o,a,s,l){var c=2<arguments.length&&void 0!==n?n:"",u=3<arguments.length?o:void 0,d=4<arguments.length?a:void 0,f=5<arguments.length?s:void 0,h=6<arguments.length?l:void 0;if(""!==e)return e===d?0:function e(t,n,o,a,s,l,c){var u=2<arguments.length&&void 0!==o?o:"",d=3<arguments.length?a:void 0,f=4<arguments.length?s:void 0,h=5<arguments.length?l:void 0,p=6<arguments.length?c:void 0;if(!isNaN(+t))return+t;var m="",g=t.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(g!==t)return-1*e(g,n,u,d,f,h,p);for(var b=0;b<r.length;b++){var v=r[b];if((m=t.replace(v.key,""))!==t)return e(m,n,u,d,f,h,p)*v.factor}if((m=t.replace("%",""))!==t)return e(m,n,u,d,f,h,p)/100;var y=parseFloat(t);if(!isNaN(y)){var w=d(y);if(w&&"."!==w&&(m=t.replace(new RegExp("".concat(i(w),"$")),""))!==t)return e(m,n,u,d,f,h,p);var _={};Object.keys(h).forEach((function(e){_[h[e]]=e}));for(var k=Object.keys(_).sort().reverse(),x=k.length,S=0;S<x;S++){var E=k[S],O=_[E];if((m=t.replace(E,""))!==t){var A=void 0;switch(O){case"thousand":A=Math.pow(10,3);break;case"million":A=Math.pow(10,6);break;case"billion":A=Math.pow(10,9);break;case"trillion":A=Math.pow(10,12)}return e(m,n,u,d,f,h,p)*A}}}}(function(e,t,n){var r=2<arguments.length&&void 0!==n?n:"",o=e.replace(r,"");return(o=o.replace(new RegExp("([0-9])".concat(i(t.thousands),"([0-9])"),"g"),"$1$2")).replace(t.decimal,".")}(e,t,c),t,c,u,d,f,h)}t.exports={unformat:function(t,n){var r,i,a,s=e("./globalState"),l=s.currentDelimiters(),c=s.currentCurrency().symbol,u=s.currentOrdinal(),d=s.getZeroFormat(),f=s.currentAbbreviations(),h=void 0;if("string"==typeof t)h=function(e,t){if(e.indexOf(":")&&":"!==t.thousands){var n=e.split(":");if(3===n.length){var r=+n[0],i=+n[1],o=+n[2];return!isNaN(r)&&!isNaN(i)&&!isNaN(o)}}}(t,l)?(i=+(r=t.split(":"))[0],a=+r[1],+r[2]+60*a+3600*i):o(t,l,c,u,d,f,n);else{if("number"!=typeof t)return;h=t}if(void 0!==h)return h}}},{"./globalState":4}],10:[function(e,t,n){function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=e("./unformatting"),a=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,s={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(e,t){return"byte"===t.output},message:"`base` must be provided only when the output is `byte`",mandatory:function(e){return"byte"===e.output}},characteristic:{type:"number",restriction:function(e){return 0<=e},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",lowPrecision:{type:"boolean",restriction:function(e,t){return!0===t.average},message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(e){return 0<=e},message:"value must be positive"},{restriction:function(e,t){return!t.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(e){return 0<=e},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(e,t){return"percent"===t.output},message:"`prefixSymbol` can be provided only when the output is `percent`"}},l={languageTag:{type:"string",mandatory:!0,restriction:function(e){return e.match(a)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function c(e){return void 0!==o.unformat(e)}function u(e,t,n,o){var a=3<arguments.length&&void 0!==o&&o,l=Object.keys(e).map((function(r){if(!t[r])return console.error("".concat(n," Invalid key: ").concat(r)),!1;var o=e[r],a=t[r];if("string"==typeof a&&(a={type:a}),"format"===a.type){if(!u(o,s,"[Validate ".concat(r,"]"),!0))return!1}else if(i(o)!==a.type)return console.error("".concat(n," ").concat(r,' type mismatched: "').concat(a.type,'" expected, "').concat(i(o),'" provided')),!1;if(a.restrictions&&a.restrictions.length)for(var l=a.restrictions.length,c=0;c<l;c++){var d=a.restrictions[c],f=d.restriction,h=d.message;if(!f(o,e))return console.error("".concat(n," ").concat(r," invalid value: ").concat(h)),!1}return a.restriction&&!a.restriction(o,e)?(console.error("".concat(n," ").concat(r," invalid value: ").concat(a.message)),!1):a.validValues&&-1===a.validValues.indexOf(o)?(console.error("".concat(n," ").concat(r," invalid value: must be among ").concat(JSON.stringify(a.validValues),', "').concat(o,'" provided')),!1):!(a.children&&!u(o,a.children,"[Validate ".concat(r,"]")))}));return a||l.push.apply(l,r(Object.keys(t).map((function(r){var i=t[r];if("string"==typeof i&&(i={type:i}),i.mandatory){var o=i.mandatory;if("function"==typeof o&&(o=o(e)),o&&void 0===e[r])return console.error("".concat(n,' Missing mandatory key "').concat(r,'"')),!1}return!0})))),l.reduce((function(e,t){return e&&t}),!0)}function d(e){return u(e,s,"[Validate format]")}t.exports={validate:function(e,t){var n=c(e),r=d(t);return n&&r},validateFormat:d,validateInput:c,validateLanguage:function(e){return u(e,l,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)})),ve={onCopy:"copy",onCut:"cut",onPaste:"paste",onCompositionEnd:"compositionend",onCompositionStart:"compositionstart",onCompositionUpdate:"compositionupdate",onKeyDown:"keydown",onKeyPress:"keypress",onKeyUp:"keyup",onFocus:"focus",onBlur:"blur",onChange:"change",onInput:"input",onSubmit:"submit",onClick:"click",onContextMenu:"contextmenu",onDoubleClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragEnter:"dragenter",onDragExit:"dragexit",onDragLeave:"dragleave",onDragOver:"dragover",onDragStart:"dragstart",onDrop:"drop",onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onSelect:"select",onTouchCancel:"touchcancel",onTouchEnd:"touchend",onTouchMove:"touchmove",onTouchStart:"touchstart",onScroll:"scroll",onWheel:"wheel",onAbort:"abort",onCanPlay:"canplay",onCanPlayThrough:"canplaythrough",onDurationChange:"durationchange",onEmptied:"emptied",onEncrypted:"encrypted",onEnded:"ended",onError:"error",onLoadedData:"loadeddata",onLoadedMetadata:"loadedmetadata",onLoadStart:"loadstart",onPause:"pause",onPlay:"play",onPlaying:"playing",onProgress:"progress",onRateChange:"ratechange",onSeeked:"seeked",onSeeking:"seeking",onStalled:"stalled",onSuspend:"suspend",onTimeUpdate:"timeupdate",onVolumeChange:"volumechange",onWaiting:"waiting",onLoad:"load",onAnimationStart:"animationstart",onAnimationEnd:"animationend",onAnimationIteration:"animationiteration",onTransitionEnd:"transitionend"},ye=new Set(["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]);function we(e,t,...n){let r=[];for(let e=0;e<n.length;){const t=n[e];switch(typeof t){case"string":case"number":n[e]={text:t},e++;break;case"object":Array.isArray(t)?n.splice(e,1,...t):t?(t.context||(r.push(t),t.ambiguous&&t.ambiguous.length&&(r=r.concat(t.ambiguous))),e++):n.splice(e,1);break;default:throw new Error(`Invalid child node: ${t}`)}}if(t){for(const e in t){const n=ve[e];n&&(t.on||(t.on={}),t.on[n]=t[e])}t.class&&(t.className=t.class)}return{tag:e,props:t,children:n,ambiguous:r}}const _e=["a","abbr","address","article","aside","audio","b","bdi","bdo","blockquote","body","button","canvas","caption","cite","code","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","html","i","iframe","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","noscript","object","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","u","ul","var","video","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];for(const e of _e)we[e]=(t,...n)=>we(e,t,...n);for(const e of ye)we[e]=(t,...n)=>we(e,t,...n);var ke=we,xe=new Map([["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["className","class"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["panose1","panose-1"],["paintOrder","paint-order"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xHeight","x-height"]]),Se=function(e,t,n,r){n!==t&&("function"==typeof t?t(null):t&&r[t]===e&&delete r[t],"function"==typeof n?n(e):n&&(r[n]=e))};var Ee=function(e,t,n,r){const i=t&&t.props,o=n.props;let a,s;r&&(a=r.refs,s=r.listenerContext),Oe(e,t,i,n,o),a&&Se(e,i&&i.ref,o&&o.ref,a),function(e,t,n,r){const i=t&&t.props&&t.props.on,o=n.props&&n.props.on;for(const n in i)if(!o||!(n in o)){let r;r=t&&t.boundListeners&&t.boundListeners[n]?t.boundListeners[n]:i[n],e.removeEventListener(n,r)}for(const a in o){const s=i&&i[a],l=o[a];if(l!==s){if(s){let n;n=t&&t.boundListeners&&t.boundListeners[a]?t.boundListeners[a]:s,e.removeEventListener(a,n)}if(l){let t;r?(t=l.bind(r),n.boundListeners||(n.boundListeners={}),n.boundListeners[a]=t):t=l,e.addEventListener(a,t)}}}}(e,t,n,s)};function Oe(e,t,n,r,i){if(n)for(var o in n)"ref"!==o&&"on"!==o&&(o in ve||i&&o in i||("dataset"===o?Oe(e.dataset,null,n&&n.dataset,null,null):"innerHTML"!==o&&t&&ye.has(t.tag)?e.removeAttribute(xe.get(o)||o):(e[o]="",delete e[o])));if(i)for(var o in i)if("ref"!==o&&"on"!==o&&!(o in ve)){var a=n&&n[o],s=i[o];"dataset"===o?Ae(e.dataset,a,s,!1):"style"===o&&"string"!=typeof s?("string"==typeof a&&(e.style="",a=null),Ae(e.style,a,s,!0)):"attributes"===o?Te(e,a,s):s!==a&&("innerHTML"!==o&&r&&ye.has(r.tag)?e.setAttribute(xe.get(o)||o,s):r&&"input"===r.tag&&"value"===o&&e[o]===s||(e[o]=s))}}function Ae(e,t,n,r){if(t)for(var i in t)n&&i in n||(r?e[i]="":delete e[i]);if(n)for(var i in n){const r=t&&t[i],o=n[i];o!==r&&(e[i]=o)}}function Te(e,t,n){if(t)for(var r in t)n&&r in n||e.removeAttribute(r);if(n)for(var r in n){const i=t&&t[r],o=n[r];o!==i&&e.setAttribute(r,o)}}function Pe(e,t){let n;if(null!=e.text)n=document.createTextNode(e.text);else{const{tag:r,children:i}=e;let{props:o,context:a}=e;if(a&&(t={refs:a.refs,listenerContext:a}),"function"==typeof r){let a;o&&o.ref&&(a=o.ref);const s=new r(o||{},i);e.component=s,n=s.element,"function"==typeof a?a(s):t&&t.refs&&a&&(t.refs[a]=s)}else ye.has(r)?(n=document.createElementNS("http://www.w3.org/2000/svg",r),i&&Ce(n,i,t),o&&Ee(n,null,e,t)):(n=document.createElement(r),i&&Ce(n,i,t),o&&Ee(n,null,e,t))}return e.domNode=n,n}function Ce(e,t,n){for(let r=0;r<t.length;r++)e.appendChild(Pe(t[r],n))}var Ie=Pe;function Ne(e,t,n){const r=e.domNode;if(t===e)return r;if(Me(e,t)){let i;return null!=t.text?(r.nodeValue=t.text,i=r):"function"==typeof t.tag?i=function(e,t,n){const{component:r,props:i}=e;let{props:o,children:a}=t;t.component=r;const s=n&&n.refs;s&&Se(r,i&&i.ref,o&&o.ref,s);return r.update(o||{},a),r.element}(e,t,n):(!function(e,t,n,r){var i,o=0,a=t.length-1,s=t[0],l=t[a],c=0,u=n.length-1,d=n[0],f=n[u];for(;o<=a&&c<=u;)if(s)if(l)if(Me(s,d))Ne(s,d,r),s=t[++o],d=n[++c];else if(Me(l,f))Ne(l,f,r),l=t[--a],f=n[--u];else if(Me(s,f))Ne(s,f,r),e.insertBefore(s.domNode,l.domNode.nextSibling),s=t[++o],f=n[--u];else if(Me(l,d))Ne(l,d,r),e.insertBefore(l.domNode,s.domNode),l=t[--a],d=n[++c];else{i||(Le.length>0?(i=Le.pop()).clear():i=new Map,Re(i,t,o,a));var h=Be(d),p=h?i.get(h):null;if(null==p)e.insertBefore(Ie(d,r),s.domNode),d=n[++c];else{var m=t[p];Ne(m,d,r),t[p]=void 0,e.insertBefore(m.domNode,s.domNode),d=n[++c]}}else l=t[--a];else s=t[++o];if(o>a){var g=n[u+1]?n[u+1].domNode:null;for(let t=c;t<=u;t++)e.insertBefore(Ie(n[t],r),g)}else if(c>u)for(let e=o;e<=a;e++){var b=t[e];b&&De(b,r&&r.refs)}i&&Le.push(i)}(r,e.children,t.children,n),Ee(r,e,t,n),i=r),t.domNode=i,i!==r&&r.parentNode&&r.parentNode.replaceChild(i,r),i}{const i=r.parentNode,o=r.nextSibling;De(e,n&&n.refs);const a=Ie(t,n);return i&&i.insertBefore(a,o),t.domNode=a,a}}let Le=[new Map,new Map,new Map,new Map];function De(e,t,n=!0){const{domNode:r,props:i,children:o,component:a}=e,s=i&&i.ref;if(a)"function"==typeof s?s(null):t&&s&&t[s]===a&&delete t[s],a.destroy&&a.destroy();else if("function"==typeof s?s(null):t&&s&&t[s]===r&&delete t[s],o)for(let e=0;e<o.length;e++)De(o[e],t,!1);n&&r.remove()}function Me(e,t){return Be(e)===Be(t)&&e.tag===t.tag}function Be(e){return e.props?e.props.key:void 0}function Re(e,t,n,r){for(let i=n;i<=r;i++){const n=Be(t[i]);n&&e.set(n,i)}return e}var je=Ne;let Ue=null;var ze={setScheduler:function(e){Ue=e},getScheduler:function(){return Ue||(Ue=new class{constructor(){this.updateRequests=[],this.readRequests=[],this.pendingAnimationFrame=null,this.performUpdates=this.performUpdates.bind(this),this.performingUpdates=!1}updateDocument(e){this.updateRequests.push(e),this.pendingAnimationFrame||(this.pendingAnimationFrame=window.requestAnimationFrame(this.performUpdates))}readDocument(e){this.readRequests.push(e),this.pendingAnimationFrame||(this.pendingAnimationFrame=window.requestAnimationFrame(this.performUpdates))}getNextUpdatePromise(){return this.nextUpdatePromise||(this.nextUpdatePromise=new Promise((e=>{this.resolveNextUpdatePromise=e}))),this.nextUpdatePromise}performUpdates(){for(;this.updateRequests.length>0;)this.updateRequests.shift()();for(this.pendingAnimationFrame=null;this.readRequests.length>0;)this.readRequests.shift()();if(this.nextUpdatePromise){let e=this.resolveNextUpdatePromise;this.nextUpdatePromise=null,this.resolveNextUpdatePromise=null,e()}}}),Ue}};const{getScheduler:Fe}=ze,$e=new WeakSet;let Ge=0,Ze=0;function qe(e){return null!=e&&!1!==e}function He(e,t){t.context=e,t.ambiguous&&(t.ambiguous.forEach((t=>{t.context=e})),delete t.ambiguous)}function Ve(e,t=!0){if(!qe(e.virtualNode))throw new Error(`${e.constructor?e.constructor.name+" instance":e} is not associated with a valid virtualNode. Perhaps this component was never initialized?`);if(null==e.element)throw new Error(`${e.constructor?e.constructor.name+" instance":e} is not associated with a DOM element. Perhaps this component was never initialized?`);let n=e.render();if(!qe(n)){const t=e.constructor&&e.constructor.name?" in "+e.constructor.name:"";throw new Error("invalid falsy value "+n+" returned from render()"+t)}He(e,n),Ge++;let r=e.virtualNode,i=e.element,o=je(r,n,{refs:e.refs,listenerContext:e});if(e.virtualNode=n,o!==i&&!t)throw new Error("The root node type changed on update, but the update was performed with the replaceNode option set to false");e.element=o,"function"==typeof e.writeAfterUpdate&&e.writeAfterUpdate(),"function"==typeof e.readAfterUpdate&&Fe().readDocument((function(){e.readAfterUpdate()})),Ge--}function Ke(e,t=!0){Ze++,We(e.virtualNode),1===Ze&&t&&e.element.remove(),Ze--}function We(e){e.component&&"function"==typeof e.component.destroy?e.component.destroy():e.children&&e.children.forEach(We)}var Ye={initialize:function(e){if("function"!=typeof e.update)throw new Error("Etch components must implement `update(props, children)`.");let t=e.render();if(!qe(t)){let n=e.constructor&&e.constructor.name?" in "+e.constructor.name:"";throw new Error("invalid falsy value "+t+" returned from render()"+n)}He(e,t),e.refs={},e.virtualNode=t,e.element=Ie(e.virtualNode,{refs:e.refs,listenerContext:e})},update:function(e,t=!0){if(Ge>0)return Ve(e,t),Promise.resolve();let n=Fe();return $e.has(e)||($e.add(e),n.updateDocument((function(){$e.delete(e),Ve(e,t)}))),n.getNextUpdatePromise()},updateSync:Ve,destroy:function(e,t=!0){if(Ge>0||Ze>0)return Ke(e,t),Promise.resolve();let n=Fe();return n.updateDocument((function(){Ke(e,t)})),n.getNextUpdatePromise()},destroySync:Ke};const{initialize:Qe,update:Xe,updateSync:Je,destroy:et,destroySync:tt}=Ye,{setScheduler:nt,getScheduler:rt}=ze;var it={dom:ke,render:Ie,initialize:Qe,update:Xe,updateSync:Je,destroy:et,destroySync:tt,setScheduler:nt,getScheduler:rt},ot=me((function(e,t){(function(){var e,n;e=v.default.sep,t.basenameScore=function(n,r,i){var o,a,s,l,c;for(a=n.length-1;n[a]===e;)a--;for(c=0,s=a,o=null;a>=0;)n[a]===e?(c++,null==o&&(o=n.substring(a+1,s+1))):0===a&&(s<n.length-1?null==o&&(o=n.substring(0,s+1)):null==o&&(o=n)),a--;return o===n?i*=2:o&&(i+=t.score(o,r)),l=c+1,i*=.01*Math.max(1,10-l)},t.score=function(t,r){var i,o,a,s,l,c,u,d,f,h,p,m;if(t===r)return 1;if(n(t,r))return 1;for(h=0,u=r.length,f=t.length,a=0,s=0;a<u;){if(i=r[a++],l=t.indexOf(i.toLowerCase()),p=t.indexOf(i.toUpperCase()),-1===(c=Math.min(l,p))&&(c=Math.max(l,p)),-1===(s=c))return 0;o=.1,t[s]===i&&(o+=.1),0===s||t[s-1]===e?o+=.8:"-"!==(m=t[s-1])&&"_"!==m&&" "!==m||(o+=.7),t=t.substring(s+1,f),h+=o}return((d=h/u)*(u/f)+d)/2},n=function(t,n){if(t[t.length-n.length-1]===e)return t.lastIndexOf(n)===t.length-n.length}}).call(fe)})),at=me((function(e){(function(){var t,n,r;n=ot,t=function(e){return e.candidate},r=function(e,t){return t.score-e.score},e.exports=function(e,i,o,a){var s,l,c,u,d,f,h,p,m;if(l=(m=null!=a?a:{}).key,c=m.maxResults,i){for(d=[],h=0,p=e.length;h<p;h++)s=e[h],(f=null!=l?s[l]:s)&&(u=n.score(f,i,o),o||(u=n.basenameScore(f,i,u)),u>0&&d.push({candidate:s,score:u}));d.sort(r),e=d.map(t)}return null!=c&&(e=e.slice(0,c)),e}}).call(fe)})),st=me((function(e,t){(function(){var e;e=v.default.sep,t.basenameMatch=function(n,r){var i,o,a;for(o=n.length-1;n[o]===e;)o--;for(a=o,i=null;o>=0;)n[o]===e?null==i&&(i=n.substring(o+1,a+1)):0===o&&(a<n.length-1?null==i&&(i=n.substring(0,a+1)):null==i&&(i=n)),o--;return t.match(i,r,n.length-i.length)},t.match=function(e,t,n){var r,i,o,a,s,l,c,u,d,f;if(null==n&&(n=0),e===t)return function(){f=[];for(var t=n,r=n+e.length;n<=r?t<r:t>r;n<=r?t++:t--)f.push(t);return f}.apply(this);for(c=t.length,u=e.length,i=0,o=0,s=[];i<c;){if(r=t[i++],a=e.indexOf(r.toLowerCase()),d=e.indexOf(r.toUpperCase()),-1===(l=Math.min(a,d))&&(l=Math.max(a,d)),-1===(o=l))return[];s.push(n+o),n+=o+1,e=e.substring(o+1,u)}return s}}).call(fe)})),lt=me((function(e){(function(){var t,n,r,i,o;o=ot,r=at,i=st,t=v.default.sep,n=/\ /g,e.exports={filter:function(e,i,o){var a;return i&&(a=-1!==i.indexOf(t),i=i.replace(n,"")),r(e,i,a,o)},score:function(e,r){var i,a;return e&&r?e===r?2:(i=-1!==r.indexOf(t),r=r.replace(n,""),a=o.score(e,r),i||(a=o.basenameScore(e,r,a)),a):0},match:function(e,r){var o,a,s,l,c,u;if(!e)return[];if(!r)return[];if(e===r)return function(){u=[];for(var t=0,n=e.length;0<=n?t<n:t>n;0<=n?t++:t--)u.push(t);return u}.apply(this);if(l=-1!==r.indexOf(t),r=r.replace(n,""),s=i.match(e,r),!l)for(o=i.basenameMatch(e,r),s=s.concat(o).sort((function(e,t){return e-t})),c=null,a=0;a<s.length;)a&&c===s[a]?s.splice(a,1):(c=s[a],a++);return s}}}).call(fe)})),ct=fe&&fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const ut=ct(it),dt=ut.default.dom,ft=ct(lt);class ht{constructor(e){this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.didClick=this.didClick.bind(this),this.selected=e.selected,this.onclick=e.onclick,this.element=e.element,this.element.addEventListener("mousedown",this.mouseDown),this.element.addEventListener("mouseup",this.mouseUp),this.element.addEventListener("click",this.didClick),this.selected&&this.element.classList.add("selected"),this.domEventsDisposable=new p.default.Disposable((()=>{this.element.removeEventListener("mousedown",this.mouseDown),this.element.removeEventListener("mouseup",this.mouseUp),this.element.removeEventListener("click",this.didClick)})),ut.default.getScheduler().updateDocument(this.scrollIntoViewIfNeeded.bind(this))}mouseDown(e){e.preventDefault()}mouseUp(e){e.preventDefault()}didClick(e){e.preventDefault(),this.onclick()}destroy(){this.element.remove(),this.domEventsDisposable.dispose()}update(e){this.element.removeEventListener("mousedown",this.mouseDown),this.element.removeEventListener("mouseup",this.mouseUp),this.element.removeEventListener("click",this.didClick),this.element.parentNode.replaceChild(e.element,this.element),this.element=e.element,this.element.addEventListener("mousedown",this.mouseDown),this.element.addEventListener("mouseup",this.mouseUp),this.element.addEventListener("click",this.didClick),e.selected&&this.element.classList.add("selected"),this.selected=e.selected,this.onclick=e.onclick,ut.default.getScheduler().updateDocument(this.scrollIntoViewIfNeeded.bind(this))}scrollIntoViewIfNeeded(){this.selected&&this.element.scrollIntoViewIfNeeded(!1)}}var pt={average:!0,mantissa:1,optionalMantissa:!0};function mt(e){return A(this,void 0,void 0,(function(){var t,n;return T(this,(function(r){switch(r.label){case 0:n=document.activeElement,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,new Promise((function(n,r){var i=new class{constructor(e){this.props=e,this.props.hasOwnProperty("initialSelectionIndex")||(this.props.initialSelectionIndex=0),e.initiallyVisibleItemCount&&this.initializeVisibilityObserver(),this.computeItems(!1),this.disposables=new p.default.CompositeDisposable,ut.default.initialize(this),this.element.classList.add("select-list"),this.disposables.add(this.refs.queryEditor.onDidChange(this.didChangeQuery.bind(this))),e.skipCommandsRegistration||this.disposables.add(this.registerAtomCommands());const t=this.refs.queryEditor.element,n=this.didLoseFocus.bind(this);t.addEventListener("blur",n),this.didClickItemsList=!1,this.element.addEventListener("mousedown",(e=>{e.target===this.refs.items&&(this.didClickItemsList=!0)})),this.disposables.add(new p.default.Disposable((()=>{t.removeEventListener("blur",n)})))}static setScheduler(e){ut.default.setScheduler(e)}static getScheduler(){return ut.default.getScheduler()}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver((e=>{for(const t of e)if(t.intersectionRatio>0){const e=t.target;this.visibilityObserver.unobserve(e);const n=Array.from(this.refs.items.children).indexOf(e);n>=0&&this.renderItemAtIndex(n)}}))}focus(){this.refs.queryEditor.element.focus()}didLoseFocus(e){this.didClickItemsList||this.element.contains(e.relatedTarget)?(this.didClickItemsList=!1,this.refs.queryEditor.element.focus()):document.hasFocus()&&this.cancelSelection()}reset(){this.refs.queryEditor.setText("")}destroy(){return this.disposables.dispose(),this.visibilityObserver&&this.visibilityObserver.disconnect(),ut.default.destroy(this)}registerAtomCommands(){return atom.commands.add(this.element,{"core:move-up":e=>{this.selectPrevious(),e.stopPropagation()},"core:move-down":e=>{this.selectNext(),e.stopPropagation()},"core:move-to-top":e=>{this.selectFirst(),e.stopPropagation()},"core:move-to-bottom":e=>{this.selectLast(),e.stopPropagation()},"core:confirm":e=>{this.confirmSelection(),e.stopPropagation()},"core:cancel":e=>{this.cancelSelection(),e.stopPropagation()}})}update(e){let t=!1;return"items"in e&&(this.props.items=e.items,t=!0),"maxResults"in e&&(this.props.maxResults=e.maxResults,t=!0),"filter"in e&&(this.props.filter=e.filter,t=!0),"filterQuery"in e&&(this.props.filterQuery=e.filterQuery,t=!0),"query"in e&&(this.refs.queryEditor.setText(e.query),t=!1),"selectQuery"in e&&(e.selectQuery?this.refs.queryEditor.selectAll():this.refs.queryEditor.clearSelections()),"order"in e&&(this.props.order=e.order),"emptyMessage"in e&&(this.props.emptyMessage=e.emptyMessage),"errorMessage"in e&&(this.props.errorMessage=e.errorMessage),"infoMessage"in e&&(this.props.infoMessage=e.infoMessage),"loadingMessage"in e&&(this.props.loadingMessage=e.loadingMessage),"loadingBadge"in e&&(this.props.loadingBadge=e.loadingBadge),"itemsClassList"in e&&(this.props.itemsClassList=e.itemsClassList),"initialSelectionIndex"in e&&(this.props.initialSelectionIndex=e.initialSelectionIndex),t&&this.computeItems(),ut.default.update(this)}render(){return dt.div({},dt(p.default.TextEditor,{ref:"queryEditor",mini:!0}),this.renderLoadingMessage(),this.renderInfoMessage(),this.renderErrorMessage(),this.renderItems())}renderItems(){if(this.items.length>0){const e=["list-group"].concat(this.props.itemsClassList||[]).join(" ");return this.visibilityObserver&&ut.default.getScheduler().updateDocument((()=>{Array.from(this.refs.items.children).slice(this.props.initiallyVisibleItemCount).forEach((e=>{this.visibilityObserver.observe(e)}))})),this.listItems=this.items.map(((e,t)=>{const n=this.getSelectedItem()===e,r=!this.props.initiallyVisibleItemCount||t<this.props.initiallyVisibleItemCount;return dt(ht,{element:this.props.elementForItem(e,{selected:n,index:t,visible:r}),selected:n,onclick:()=>this.didClickItem(t)})})),dt.ol({className:e,ref:"items"},...this.listItems)}return!this.props.loadingMessage&&this.props.emptyMessage?dt.span({ref:"emptyMessage"},this.props.emptyMessage):""}renderErrorMessage(){return this.props.errorMessage?dt.span({ref:"errorMessage"},this.props.errorMessage):""}renderInfoMessage(){return this.props.infoMessage?dt.span({ref:"infoMessage"},this.props.infoMessage):""}renderLoadingMessage(){return this.props.loadingMessage?dt.div({className:"loading"},dt.span({ref:"loadingMessage",className:"loading-message"},this.props.loadingMessage),this.props.loadingBadge?dt.span({ref:"loadingBadge",className:"badge"},this.props.loadingBadge):""):""}getQuery(){return this.refs&&this.refs.queryEditor?this.refs.queryEditor.getText():""}getFilterQuery(){return this.props.filterQuery?this.props.filterQuery(this.getQuery()):this.getQuery()}didChangeQuery(){this.props.didChangeQuery&&this.props.didChangeQuery(this.getFilterQuery()),this.computeItems()}didClickItem(e){this.selectIndex(e),this.confirmSelection()}computeItems(e){this.listItems=null,this.visibilityObserver&&this.visibilityObserver.disconnect();const t=this.props.filter||this.fuzzyFilter.bind(this);this.items=t(this.props.items.slice(),this.getFilterQuery()),this.props.order&&this.items.sort(this.props.order),this.props.maxResults&&(this.items=this.items.slice(0,this.props.maxResults)),this.selectIndex(this.props.initialSelectionIndex,e)}fuzzyFilter(e,t){if(0===t.length)return e;{const n=[];for(const r of e){const e=this.props.filterKeyForItem?this.props.filterKeyForItem(r):r,i=ft.default.score(e,t);i>0&&n.push({item:r,score:i})}return n.sort(((e,t)=>t.score-e.score)),n.map((e=>e.item))}}getSelectedItem(){return void 0===this.selectionIndex?null:this.items[this.selectionIndex]}renderItemAtIndex(e){const t=this.items[e],n=this.getSelectedItem()===t,r=this.listItems[e].component;this.visibilityObserver&&this.visibilityObserver.unobserve(r.element),r.update({element:this.props.elementForItem(t,{selected:n,index:e,visible:!0}),selected:n,onclick:()=>this.didClickItem(e)})}selectPrevious(){return void 0===this.selectionIndex?this.selectLast():this.selectIndex(this.selectionIndex-1)}selectNext(){return void 0===this.selectionIndex?this.selectFirst():this.selectIndex(this.selectionIndex+1)}selectFirst(){return this.selectIndex(0)}selectLast(){return this.selectIndex(this.items.length-1)}selectNone(){return this.selectIndex(void 0)}selectIndex(e,t=!0){e>=this.items.length?e=0:e<0&&(e=this.items.length-1);const n=this.selectionIndex;return this.selectionIndex=e,void 0!==e&&this.props.didChangeSelection&&this.props.didChangeSelection(this.getSelectedItem()),t?this.listItems?(n>=0&&this.renderItemAtIndex(n),e>=0&&this.renderItemAtIndex(e),ut.default.getScheduler().getNextUpdatePromise()):ut.default.update(this):Promise.resolve()}selectItem(e){const t=this.items.indexOf(e);if(-1===t)throw new Error("Cannot select the specified item because it does not exist.");return this.selectIndex(t)}confirmSelection(){const e=this.getSelectedItem();null!=e?this.props.didConfirmSelection&&this.props.didConfirmSelection(e):this.props.didConfirmEmptySelection&&this.props.didConfirmEmptySelection()}cancelSelection(){this.props.didCancelSelection&&this.props.didCancelSelection()}}({didCancelSelection:function(){return r("cancelled")},didConfirmSelection:function(e){return n(e.name)},elementForItem:function(e){var t=document.createElement("li"),n=e.version?"v"+e.version:"",r=e.downloads?""+be(e.downloads).format(pt):"",i=e.stars?""+be(e.stars).format(pt):"",o=e.theme?"ui"===e.theme?"browser":"paintcan":"code",a=L("ui"),s="normal"!==a.packageTextStyle?"text-"+a.packageTextStyle:"",l="normal"!==a.versionTextStyle?"text-"+a.versionTextStyle:"",c="normal"!==a.statsTextStyle?"text-"+a.statsTextStyle:"",u="normal"!==a.descriptionTextStyle?"text-"+a.descriptionTextStyle:"",d=a.showPackageTypeIcon?"icon icon-"+o:"",f=a.showPackageStats?'\n              <div class="pull-right '+c+'">\n                <span class="icon icon-cloud-download">'+r+'</span>\n                <span class="icon icon-star">'+i+"</span>\n              </div>\n            ":"";return t.innerHTML='\n            <div class="package-control block">\n              '+f+'\n\n              <span class="'+d+'">\n                <strong class="'+s+'">'+e.name+'</strong>\n                <span class="'+l+'">'+n+'</span>\n                <div class="truncate-text '+u+'">'+(e.description||"")+"</div>\n              </span>\n            </div>\n          ",t},emptyMessage:"No packages found",filterKeyForItem:function(e){return e.name},items:e,maxResults:L("maxResults"),selectQuery:!0});t=atom.workspace.addModalPanel({item:i,visible:!0}),i.focus()}))];case 2:return[2,r.sent()];case 3:return t&&t.destroy(),n&&n.focus(),[7];case 4:return[2]}}))}))}function gt(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function bt(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=gt(n);return(e,n)=>r.then((r=>n(r.transaction(t,e).objectStore(t))))}let vt;function yt(){return vt||(vt=bt("keyval-store","keyval")),vt}function wt(e,t=yt()){return t("readonly",(t=>gt(t.get(e))))}function _t(e,t,n=yt()){return n("readwrite",(n=>(n.put(t,e),gt(n.transaction))))}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function kt(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var xt=new(function(){function e(e){void 0===e&&(e={}),this.name=e.name,this.styleSheet="\n      background-color: "+(e.backgroundColor||"darkgrey")+";\n      border-radius: 2px;\n      color: "+(e.color||"white")+";\n      line-height: 1.5;\n      padding: 1px 4px;\n      text-shadow: 0 1px 0px rgba(0, 0, 0, 0.2);\n    "}return e.prototype.__console__=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(null===atom||void 0===atom?void 0:atom.inDevMode())&&(n.unshift("%c"+this.name+"%c",this.styleSheet,""),(t=window.console)[e].apply(t,n))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,kt(["debug"],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,kt(["error"],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,kt(["info"],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,kt(["log"],e))},e.prototype.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,kt(["trace"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,kt(["warn"],e))},e}())({name:C,backgroundColor:"mediumpurple"}),St=me((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")},e.exports=t.default})),Et=me((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))};var n,r=(n=St)&&n.__esModule?n:{default:n};e.exports=t.default})),Ot=me((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var i=(0,n.default)(e),o=(0,n.default)(t);return i.getTime()-o.getTime()};var n=i(Et),r=i(St);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default})),At=he(me((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var i=(0,n.default)(e,t)/6e4;return i>0?Math.floor(i):Math.ceil(i)};var n=i(Ot),r=i(St);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default})));const Tt=y.default.Readable,Pt=Symbol("buffer"),Ct=Symbol("type");class It{constructor(){this[Ct]="";const e=arguments[0],t=arguments[1],n=[];let r=0;if(e){const t=e,i=Number(t.length);for(let e=0;e<i;e++){const i=t[e];let o;o=i instanceof Buffer?i:ArrayBuffer.isView(i)?Buffer.from(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?Buffer.from(i):i instanceof It?i[Pt]:Buffer.from("string"==typeof i?i:String(i)),r+=o.length,n.push(o)}}this[Pt]=Buffer.concat(n);let i=t&&void 0!==t.type&&String(t.type).toLowerCase();i&&!/[^\u0020-\u007E]/.test(i)&&(this[Ct]=i)}get size(){return this[Pt].length}get type(){return this[Ct]}text(){return Promise.resolve(this[Pt].toString())}arrayBuffer(){const e=this[Pt],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new Tt;return e._read=function(){},e.push(this[Pt]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],n=arguments[1];let r,i;r=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),i=void 0===n?e:n<0?Math.max(e+n,0):Math.min(n,e);const o=Math.max(i-r,0),a=this[Pt].slice(r,r+o),s=new It([],{type:arguments[2]});return s[Pt]=a,s}}function Nt(e,t,n){Error.call(this,e),this.message=e,this.type=t,n&&(this.code=this.errno=n.code),Error.captureStackTrace(this,this.constructor)}let Lt;Object.defineProperties(It.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(It.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),Nt.prototype=Object.create(Error.prototype),Nt.prototype.constructor=Nt,Nt.prototype.name="FetchError";try{Lt=require("encoding").convert}catch(e){}const Dt=Symbol("Body internals"),Mt=y.default.PassThrough;function Bt(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.size;let i=void 0===r?0:r;var o=n.timeout;let a=void 0===o?0:o;null==e?e=null:jt(e)?e=Buffer.from(e.toString()):Ut(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof y.default||(e=Buffer.from(String(e)))),this[Dt]={body:e,disturbed:!1,error:null},this.size=i,this.timeout=a,e instanceof y.default&&e.on("error",(function(e){const n="AbortError"===e.name?e:new Nt(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[Dt].error=n}))}function Rt(){var e=this;if(this[Dt].disturbed)return Bt.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[Dt].disturbed=!0,this[Dt].error)return Bt.Promise.reject(this[Dt].error);let t=this.body;if(null===t)return Bt.Promise.resolve(Buffer.alloc(0));if(Ut(t)&&(t=t.stream()),Buffer.isBuffer(t))return Bt.Promise.resolve(t);if(!(t instanceof y.default))return Bt.Promise.resolve(Buffer.alloc(0));let n=[],r=0,i=!1;return new Bt.Promise((function(o,a){let s;e.timeout&&(s=setTimeout((function(){i=!0,a(new Nt(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(i=!0,a(t)):a(new Nt(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!i&&null!==t){if(e.size&&r+t.length>e.size)return i=!0,void a(new Nt(`content size at ${e.url} over limit: ${e.size}`,"max-size"));r+=t.length,n.push(t)}})),t.on("end",(function(){if(!i){clearTimeout(s);try{o(Buffer.concat(n,r))}catch(t){a(new Nt(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function jt(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function Ut(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function zt(e){let t,n,r=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return r instanceof y.default&&"function"!=typeof r.getBoundary&&(t=new Mt,n=new Mt,r.pipe(t),r.pipe(n),e[Dt].body=t,r=n),r}function Ft(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":jt(e)?"application/x-www-form-urlencoded;charset=UTF-8":Ut(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?`multipart/form-data;boundary=${e.getBoundary()}`:e instanceof y.default?null:"text/plain;charset=UTF-8"}function $t(e){const t=e.body;return null===t?0:Ut(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}Bt.prototype={get body(){return this[Dt].body},get bodyUsed(){return this[Dt].disturbed},arrayBuffer(){return Rt.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return Rt.call(this).then((function(t){return Object.assign(new It([],{type:e.toLowerCase()}),{[Pt]:t})}))},json(){var e=this;return Rt.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return Bt.Promise.reject(new Nt(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return Rt.call(this).then((function(e){return e.toString()}))},buffer(){return Rt.call(this)},textConverted(){var e=this;return Rt.call(this).then((function(t){return function(e,t){if("function"!=typeof Lt)throw new Error("The package `encoding` must be installed to use the textConverted() function");const n=t.get("content-type");let r,i,o="utf-8";n&&(r=/charset=([^;]*)/i.exec(n));i=e.slice(0,1024).toString(),!r&&i&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(i));!r&&i&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(i),r||(r=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(i),r&&r.pop()),r&&(r=/charset=(.*)/i.exec(r.pop())));!r&&i&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(i));r&&(o=r.pop(),"gb2312"!==o&&"gbk"!==o||(o="gb18030"));return Lt(e,"UTF-8",o).toString()}(t,e.headers)}))}},Object.defineProperties(Bt.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),Bt.mixIn=function(e){for(const t of Object.getOwnPropertyNames(Bt.prototype))if(!(t in e)){const n=Object.getOwnPropertyDescriptor(Bt.prototype,t);Object.defineProperty(e,t,n)}},Bt.Promise=global.Promise;const Gt=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,Zt=/[^\t\x20-\x7e\x80-\xff]/;function qt(e){if(e=`${e}`,Gt.test(e)||""===e)throw new TypeError(`${e} is not a legal HTTP header name`)}function Ht(e){if(e=`${e}`,Zt.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)}function Vt(e,t){t=t.toLowerCase();for(const n in e)if(n.toLowerCase()===t)return n}const Kt=Symbol("map");class Wt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[Kt]=Object.create(null),e instanceof Wt){const t=e.raw(),n=Object.keys(t);for(const e of n)for(const n of t[e])this.append(e,n)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const n=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");n.push(Array.from(t))}for(const e of n){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const n=e[t];this.append(t,n)}}}}get(e){qt(e=`${e}`);const t=Vt(this[Kt],e);return void 0===t?null:this[Kt][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=Yt(this),r=0;for(;r<n.length;){var i=n[r];const o=i[0],a=i[1];e.call(t,a,o,this),n=Yt(this),r++}}set(e,t){t=`${t}`,qt(e=`${e}`),Ht(t);const n=Vt(this[Kt],e);this[Kt][void 0!==n?n:e]=[t]}append(e,t){t=`${t}`,qt(e=`${e}`),Ht(t);const n=Vt(this[Kt],e);void 0!==n?this[Kt][n].push(t):this[Kt][e]=[t]}has(e){return qt(e=`${e}`),void 0!==Vt(this[Kt],e)}delete(e){qt(e=`${e}`);const t=Vt(this[Kt],e);void 0!==t&&delete this[Kt][t]}raw(){return this[Kt]}keys(){return Xt(this,"key")}values(){return Xt(this,"value")}[Symbol.iterator](){return Xt(this,"key+value")}}function Yt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const n=Object.keys(e[Kt]).sort();return n.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[Kt][t].join(", ")}:function(t){return[t.toLowerCase(),e[Kt][t].join(", ")]})}Wt.prototype.entries=Wt.prototype[Symbol.iterator],Object.defineProperty(Wt.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Wt.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const Qt=Symbol("internal");function Xt(e,t){const n=Object.create(Jt);return n[Qt]={target:e,kind:t,index:0},n}const Jt=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==Jt)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[Qt];const t=e.target,n=e.kind,r=e.index,i=Yt(t,n);return r>=i.length?{value:void 0,done:!0}:(this[Qt].index=r+1,{value:i[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function en(e){const t=Object.assign({__proto__:null},e[Kt]),n=Vt(e[Kt],"Host");return void 0!==n&&(t[n]=t[n][0]),t}Object.defineProperty(Jt,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const tn=Symbol("Response internals"),nn=w.default.STATUS_CODES;class rn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Bt.call(this,e,t);const n=t.status||200,r=new Wt(t.headers);if(null!=e&&!r.has("Content-Type")){const t=Ft(e);t&&r.append("Content-Type",t)}this[tn]={url:t.url,status:n,statusText:t.statusText||nn[n],headers:r,counter:t.counter}}get url(){return this[tn].url||""}get status(){return this[tn].status}get ok(){return this[tn].status>=200&&this[tn].status<300}get redirected(){return this[tn].counter>0}get statusText(){return this[tn].statusText}get headers(){return this[tn].headers}clone(){return new rn(zt(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}Bt.mixIn(rn.prototype),Object.defineProperties(rn.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(rn.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const on=Symbol("Request internals"),an=_.default.parse,sn=_.default.format,ln="destroy"in y.default.Readable.prototype;function cn(e){return"object"==typeof e&&"object"==typeof e[on]}class un{constructor(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};cn(e)?t=an(e.url):(t=e&&e.href?an(e.href):an(`${e}`),e={});let r=n.method||e.method||"GET";if(r=r.toUpperCase(),(null!=n.body||cn(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");let i=null!=n.body?n.body:cn(e)&&null!==e.body?zt(e):null;Bt.call(this,i,{timeout:n.timeout||e.timeout||0,size:n.size||e.size||0});const o=new Wt(n.headers||e.headers||{});if(null!=i&&!o.has("Content-Type")){const e=Ft(i);e&&o.append("Content-Type",e)}let a=cn(e)?e.signal:null;if("signal"in n&&(a=n.signal),null!=a&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(a))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[on]={method:r,redirect:n.redirect||e.redirect||"follow",headers:o,parsedURL:t,signal:a},this.follow=void 0!==n.follow?n.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==n.compress?n.compress:void 0===e.compress||e.compress,this.counter=n.counter||e.counter||0,this.agent=n.agent||e.agent}get method(){return this[on].method}get url(){return sn(this[on].parsedURL)}get headers(){return this[on].headers}get redirect(){return this[on].redirect}get signal(){return this[on].signal}clone(){return new un(this)}}function dn(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}Bt.mixIn(un.prototype),Object.defineProperty(un.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(un.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),dn.prototype=Object.create(Error.prototype),dn.prototype.constructor=dn,dn.prototype.name="AbortError";const fn=y.default.PassThrough,hn=_.default.resolve;function pn(e,t){if(!pn.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return Bt.Promise=pn.Promise,new pn.Promise((function(n,r){const i=new un(e,t),o=function(e){const t=e[on].parsedURL,n=new Wt(e[on].headers);if(n.has("Accept")||n.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof y.default.Readable&&!ln)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let r=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(r="0"),null!=e.body){const t=$t(e);"number"==typeof t&&(r=String(t))}r&&n.set("Content-Length",r),n.has("User-Agent")||n.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip,deflate");let i=e.agent;return"function"==typeof i&&(i=i(t)),n.has("Connection")||i||n.set("Connection","close"),Object.assign({},t,{method:e.method,headers:en(n),agent:i})}(i),a=("https:"===o.protocol?k.default:w.default).request,s=i.signal;let l=null;const c=function(){let e=new dn("The user aborted a request.");r(e),i.body&&i.body instanceof y.default.Readable&&i.body.destroy(e),l&&l.body&&l.body.emit("error",e)};if(s&&s.aborted)return void c();const u=function(){c(),h()},d=a(o);let f;function h(){d.abort(),s&&s.removeEventListener("abort",u),clearTimeout(f)}s&&s.addEventListener("abort",u),i.timeout&&d.once("socket",(function(e){f=setTimeout((function(){r(new Nt(`network timeout at: ${i.url}`,"request-timeout")),h()}),i.timeout)})),d.on("error",(function(e){r(new Nt(`request to ${i.url} failed, reason: ${e.message}`,"system",e)),h()})),d.on("response",(function(e){clearTimeout(f);const t=function(e){const t=new Wt;for(const n of Object.keys(e))if(!Gt.test(n))if(Array.isArray(e[n]))for(const r of e[n])Zt.test(r)||(void 0===t[Kt][n]?t[Kt][n]=[r]:t[Kt][n].push(r));else Zt.test(e[n])||(t[Kt][n]=[e[n]]);return t}(e.headers);if(pn.isRedirect(e.statusCode)){const o=t.get("Location"),a=null===o?null:hn(i.url,o);switch(i.redirect){case"error":return r(new Nt(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),void h();case"manual":if(null!==a)try{t.set("Location",a)}catch(e){r(e)}break;case"follow":if(null===a)break;if(i.counter>=i.follow)return r(new Nt(`maximum redirect reached at: ${i.url}`,"max-redirect")),void h();const o={headers:new Wt(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:i.body,signal:i.signal,timeout:i.timeout,size:i.size};return 303!==e.statusCode&&i.body&&null===$t(i)?(r(new Nt("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void h()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==i.method)||(o.method="GET",o.body=void 0,o.headers.delete("content-length")),n(pn(new un(a,o))),void h())}}e.once("end",(function(){s&&s.removeEventListener("abort",u)}));let o=e.pipe(new fn);const a={url:i.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:i.size,timeout:i.timeout,counter:i.counter},c=t.get("Content-Encoding");if(!i.compress||"HEAD"===i.method||null===c||204===e.statusCode||304===e.statusCode)return l=new rn(o,a),void n(l);const d={flush:x.default.Z_SYNC_FLUSH,finishFlush:x.default.Z_SYNC_FLUSH};if("gzip"==c||"x-gzip"==c)return o=o.pipe(x.default.createGunzip(d)),l=new rn(o,a),void n(l);if("deflate"!=c&&"x-deflate"!=c){if("br"==c&&"function"==typeof x.default.createBrotliDecompress)return o=o.pipe(x.default.createBrotliDecompress()),l=new rn(o,a),void n(l);l=new rn(o,a),n(l)}else{e.pipe(new fn).once("data",(function(e){o=8==(15&e[0])?o.pipe(x.default.createInflate()):o.pipe(x.default.createInflateRaw()),l=new rn(o,a),n(l)}))}})),function(e,t){const n=t.body;null===n?e.end():Ut(n)?n.stream().pipe(e):Buffer.isBuffer(n)?(e.write(n),e.end()):n.pipe(e)}(d,i)}))}pn.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},pn.Promise=global.Promise;var mn=pe(Object.freeze({__proto__:null,default:pn,Headers:Wt,Request:un,Response:rn,FetchError:Nt})),gn=me((function(e,t){const n=mn.default||mn,r=function(e,t){return/^\/\//.test(e)&&(e="https:"+e),n.call(this,e,t)};r.ponyfill=!0,e.exports=t=r,t.fetch=r,t.Headers=mn.Headers,t.Request=mn.Request,t.Response=mn.Response,t.default=r}));function bn(e){let t=e.length;for(;--t>=0;)e[t]=0}const vn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),yn=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),wn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_n=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),kn=new Array(576);bn(kn);const xn=new Array(60);bn(xn);const Sn=new Array(512);bn(Sn);const En=new Array(256);bn(En);const On=new Array(29);bn(On);const An=new Array(30);function Tn(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let Pn,Cn,In;function Nn(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}bn(An);const Ln=e=>e<256?Sn[e]:Sn[256+(e>>>7)],Dn=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Mn=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Dn(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Bn=(e,t,n)=>{Mn(e,n[2*t],n[2*t+1])},Rn=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},jn=(e,t,n)=>{const r=new Array(16);let i,o,a=0;for(i=1;i<=15;i++)r[i]=a=a+n[i-1]<<1;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=Rn(r[t]++,t))}},Un=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},zn=e=>{e.bi_valid>8?Dn(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Fn=(e,t,n,r)=>{const i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},$n=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Fn(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Fn(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},Gn=(e,t,n)=>{let r,i,o,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?Bn(e,i,t):(o=En[i],Bn(e,o+256+1,t),a=vn[o],0!==a&&(i-=On[o],Mn(e,i,a)),r--,o=Ln(r),Bn(e,o,n),a=yn[o],0!==a&&(r-=An[o],Mn(e,r,a)))}while(s<e.last_lit);Bn(e,256,t)},Zn=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,l,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[2*l+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)$n(e,n,a);l=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$n(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*l]=n[2*a]+n[2*s],e.depth[l]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=l,e.heap[1]=l++,$n(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,d,f,h,p,m=0;for(f=0;f<=15;f++)e.bl_count[f]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)u=e.heap[c],f=n[2*n[2*u+1]+1]+1,f>l&&(f=l,m++),n[2*u+1]=f,u>r||(e.bl_count[f]++,h=0,u>=s&&(h=a[u-s]),p=n[2*u],e.opt_len+=p*(f+h),o&&(e.static_len+=p*(i[2*u+1]+h)));if(0!==m){do{for(f=l-1;0===e.bl_count[f];)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(f=l;0!==f;f--)for(u=e.bl_count[f];0!==u;)d=e.heap[--c],d>r||(n[2*d+1]!==f&&(e.opt_len+=(f-n[2*d+1])*n[2*d],n[2*d+1]=f),u--)}})(e,t),jn(n,c,e.bl_count)},qn=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},Hn=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<c)do{Bn(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(Bn(e,i,e.bl_tree),s--),Bn(e,16,e.bl_tree),Mn(e,s-3,2)):s<=10?(Bn(e,17,e.bl_tree),Mn(e,s-3,3)):(Bn(e,18,e.bl_tree),Mn(e,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}};let Vn=!1;const Kn=(e,t,n,r)=>{Mn(e,0+(r?1:0),3),((e,t,n,r)=>{zn(e),r&&(Dn(e,n),Dn(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n})(e,t,n,!0)};var Wn={_tr_init:e=>{Vn||((()=>{let e,t,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(On[r]=n,e=0;e<1<<vn[r];e++)En[n++]=r;for(En[n-1]=r,i=0,r=0;r<16;r++)for(An[r]=i,e=0;e<1<<yn[r];e++)Sn[i++]=r;for(i>>=7;r<30;r++)for(An[r]=i<<7,e=0;e<1<<yn[r]-7;e++)Sn[256+i++]=r;for(t=0;t<=15;t++)o[t]=0;for(e=0;e<=143;)kn[2*e+1]=8,e++,o[8]++;for(;e<=255;)kn[2*e+1]=9,e++,o[9]++;for(;e<=279;)kn[2*e+1]=7,e++,o[7]++;for(;e<=287;)kn[2*e+1]=8,e++,o[8]++;for(jn(kn,287,o),e=0;e<30;e++)xn[2*e+1]=5,xn[2*e]=Rn(e,5);Pn=new Tn(kn,vn,257,286,15),Cn=new Tn(xn,yn,0,30,15),In=new Tn(new Array(0),wn,0,19,7)})(),Vn=!0),e.l_desc=new Nn(e.dyn_ltree,Pn),e.d_desc=new Nn(e.dyn_dtree,Cn),e.bl_desc=new Nn(e.bl_tree,In),e.bi_buf=0,e.bi_valid=0,Un(e)},_tr_stored_block:Kn,_tr_flush_block:(e,t,n,r)=>{let i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Zn(e,e.l_desc),Zn(e,e.d_desc),a=(e=>{let t;for(qn(e,e.dyn_ltree,e.l_desc.max_code),qn(e,e.dyn_dtree,e.d_desc.max_code),Zn(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*_n[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?Kn(e,t,n,r):4===e.strategy||o===i?(Mn(e,2+(r?1:0),3),Gn(e,kn,xn)):(Mn(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(Mn(e,t-257,5),Mn(e,n-1,5),Mn(e,r-4,4),i=0;i<r;i++)Mn(e,e.bl_tree[2*_n[i]+1],3);Hn(e,e.dyn_ltree,t-1),Hn(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Gn(e,e.dyn_ltree,e.dyn_dtree)),Un(e),r&&zn(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(En[n]+256+1)]++,e.dyn_dtree[2*Ln(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{Mn(e,2,3),Bn(e,256,kn),(e=>{16===e.bi_valid?(Dn(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var Yn=(e,t,n,r)=>{let i=65535&e|0,o=e>>>16&65535|0,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0};const Qn=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var Xn=(e,t,n,r)=>{const i=Qn,o=r+n;e^=-1;for(let n=r;n<o;n++)e=e>>>8^i[255&(e^t[n])];return-1^e},Jn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},er={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:tr,_tr_stored_block:nr,_tr_flush_block:rr,_tr_tally:ir,_tr_align:or}=Wn,{Z_NO_FLUSH:ar,Z_PARTIAL_FLUSH:sr,Z_FULL_FLUSH:lr,Z_FINISH:cr,Z_BLOCK:ur,Z_OK:dr,Z_STREAM_END:fr,Z_STREAM_ERROR:hr,Z_DATA_ERROR:pr,Z_BUF_ERROR:mr,Z_DEFAULT_COMPRESSION:gr,Z_FILTERED:br,Z_HUFFMAN_ONLY:vr,Z_RLE:yr,Z_FIXED:wr,Z_DEFAULT_STRATEGY:_r,Z_UNKNOWN:kr,Z_DEFLATED:xr}=er,Sr=(e,t)=>(e.msg=Jn[t],t),Er=e=>(e<<1)-(e>4?9:0),Or=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let Ar=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Tr=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Pr=(e,t)=>{rr(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Tr(e.strm)},Cr=(e,t)=>{e.pending_buf[e.pending++]=t},Ir=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Nr=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=Yn(e.adler,t,i,n):2===e.state.wrap&&(e.adler=Xn(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},Lr=(e,t)=>{let n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,u=e.w_mask,d=e.prev,f=e.strstart+258;let h=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+a]===p&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=258-(f-o),o=f-258,r>a){if(e.match_start=t,a=r,r>=s)break;h=c[o+a-1],p=c[o+a]}}}while((t=d[t&u])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead},Dr=e=>{const t=e.w_size;let n,r,i,o,a;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-262)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do{i=e.head[--n],e.head[n]=i>=t?i-t:0}while(--r);r=t,n=r;do{i=e.prev[--n],e.prev[n]=i>=t?i-t:0}while(--r);o+=t}if(0===e.strm.avail_in)break;if(r=Nr(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Ar(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Ar(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},Mr=(e,t)=>{let n,r;for(;;){if(e.lookahead<262){if(Dr(e),e.lookahead<262&&t===ar)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ar(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=Lr(e,n)),e.match_length>=3)if(r=ir(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Ar(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ar(e,e.ins_h,e.window[e.strstart+1]);else r=ir(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Pr(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===cr?(Pr(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pr(e,!1),0===e.strm.avail_out)?1:2},Br=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<262){if(Dr(e),e.lookahead<262&&t===ar)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ar(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=Lr(e,n),e.match_length<=5&&(e.strategy===br||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=ir(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=Ar(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Pr(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=ir(e,0,e.window[e.strstart-1]),r&&Pr(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=ir(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===cr?(Pr(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pr(e,!1),0===e.strm.avail_out)?1:2};function Rr(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const jr=[new Rr(0,0,0,0,((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Dr(e),0===e.lookahead&&t===ar)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Pr(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(Pr(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===cr?(Pr(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Pr(e,!1),e.strm.avail_out),1)})),new Rr(4,4,8,4,Mr),new Rr(4,5,16,8,Mr),new Rr(4,6,32,32,Mr),new Rr(4,4,16,16,Br),new Rr(8,16,32,32,Br),new Rr(8,16,128,128,Br),new Rr(8,32,128,256,Br),new Rr(32,128,258,1024,Br),new Rr(32,258,258,4096,Br)];function Ur(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=xr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Or(this.dyn_ltree),Or(this.dyn_dtree),Or(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Or(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Or(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const zr=e=>{if(!e||!e.state)return Sr(e,hr);e.total_in=e.total_out=0,e.data_type=kr;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=ar,tr(t),dr},Fr=e=>{const t=zr(e);var n;return t===dr&&((n=e.state).window_size=2*n.w_size,Or(n.head),n.max_lazy_match=jr[n.level].max_lazy,n.good_match=jr[n.level].good_length,n.nice_match=jr[n.level].nice_length,n.max_chain_length=jr[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},$r=(e,t,n,r,i,o)=>{if(!e)return hr;let a=1;if(t===gr&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==xr||r<8||r>15||t<0||t>9||o<0||o>wr)return Sr(e,hr);8===r&&(r=9);const s=new Ur;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,Fr(e)};var Gr={deflateInit:(e,t)=>$r(e,t,xr,15,8,_r),deflateInit2:$r,deflateReset:Fr,deflateResetKeep:zr,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?hr:(e.state.gzhead=t,dr):hr,deflate:(e,t)=>{let n,r;if(!e||!e.state||t>ur||t<0)return e?Sr(e,hr):hr;const i=e.state;if(!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==cr)return Sr(e,0===e.avail_out?mr:hr);i.strm=e;const o=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,Cr(i,31),Cr(i,139),Cr(i,8),i.gzhead?(Cr(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Cr(i,255&i.gzhead.time),Cr(i,i.gzhead.time>>8&255),Cr(i,i.gzhead.time>>16&255),Cr(i,i.gzhead.time>>24&255),Cr(i,9===i.level?2:i.strategy>=vr||i.level<2?4:0),Cr(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Cr(i,255&i.gzhead.extra.length),Cr(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Xn(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Cr(i,0),Cr(i,0),Cr(i,0),Cr(i,0),Cr(i,0),Cr(i,9===i.level?2:i.strategy>=vr||i.level<2?4:0),Cr(i,3),i.status=113);else{let t=xr+(i.w_bits-8<<4)<<8,n=-1;n=i.strategy>=vr||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,i.status=113,Ir(i,t),0!==i.strstart&&(Ir(i,e.adler>>>16),Ir(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=Xn(e.adler,i.pending_buf,i.pending-n,n)),Tr(e),n=i.pending,i.pending!==i.pending_buf_size));)Cr(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=Xn(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Xn(e.adler,i.pending_buf,i.pending-n,n)),Tr(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Cr(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=Xn(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Xn(e.adler,i.pending_buf,i.pending-n,n)),Tr(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Cr(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=Xn(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Tr(e),i.pending+2<=i.pending_buf_size&&(Cr(i,255&e.adler),Cr(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(Tr(e),0===e.avail_out)return i.last_flush=-1,dr}else if(0===e.avail_in&&Er(t)<=Er(o)&&t!==cr)return Sr(e,mr);if(666===i.status&&0!==e.avail_in)return Sr(e,mr);if(0!==e.avail_in||0!==i.lookahead||t!==ar&&666!==i.status){let n=i.strategy===vr?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Dr(e),0===e.lookahead)){if(t===ar)return 1;break}if(e.match_length=0,n=ir(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Pr(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===cr?(Pr(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pr(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===yr?((e,t)=>{let n,r,i,o;const a=e.window;for(;;){if(e.lookahead<=258){if(Dr(e),e.lookahead<=258&&t===ar)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+258;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=258-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=ir(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ir(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Pr(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===cr?(Pr(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pr(e,!1),0===e.strm.avail_out)?1:2})(i,t):jr[i.level].func(i,t);if(3!==n&&4!==n||(i.status=666),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),dr;if(2===n&&(t===sr?or(i):t!==ur&&(nr(i,0,0,!1),t===lr&&(Or(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Tr(e),0===e.avail_out))return i.last_flush=-1,dr}return t!==cr?dr:i.wrap<=0?fr:(2===i.wrap?(Cr(i,255&e.adler),Cr(i,e.adler>>8&255),Cr(i,e.adler>>16&255),Cr(i,e.adler>>24&255),Cr(i,255&e.total_in),Cr(i,e.total_in>>8&255),Cr(i,e.total_in>>16&255),Cr(i,e.total_in>>24&255)):(Ir(i,e.adler>>>16),Ir(i,65535&e.adler)),Tr(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?dr:fr)},deflateEnd:e=>{if(!e||!e.state)return hr;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?Sr(e,hr):(e.state=null,113===t?Sr(e,pr):dr)},deflateSetDictionary:(e,t)=>{let n=t.length;if(!e||!e.state)return hr;const r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return hr;if(1===i&&(e.adler=Yn(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(Or(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Dr(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Ar(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Dr(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,r.wrap=i,dr},deflateInfo:"pako deflate (from Nodeca project)"};const Zr=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var qr=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Zr(n,t)&&(e[t]=n[t])}}return e},Hr=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];n.set(i,r),r+=i.length}return n};let Vr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Vr=!1}const Kr=new Uint8Array(256);for(let e=0;e<256;e++)Kr[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Kr[254]=Kr[254]=1;var Wr=e=>{let t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},Yr=(e,t)=>{let n,r;const i=t||e.length,o=new Array(2*i);for(r=0,n=0;n<i;){let t=e[n++];if(t<128){o[r++]=t;continue}let a=Kr[t];if(a>4)o[r++]=65533,n+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&n<i;)t=t<<6|63&e[n++],a--;a>1?o[r++]=65533:t<65536?o[r++]=t:(t-=65536,o[r++]=55296|t>>10&1023,o[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Vr)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(o,r)},Qr=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Kr[e[n]]>t?n:t};var Xr=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Jr=Object.prototype.toString,{Z_NO_FLUSH:ei,Z_SYNC_FLUSH:ti,Z_FULL_FLUSH:ni,Z_FINISH:ri,Z_OK:ii,Z_STREAM_END:oi,Z_DEFAULT_COMPRESSION:ai,Z_DEFAULT_STRATEGY:si,Z_DEFLATED:li}=er;function ci(e){this.options=qr({level:ai,method:li,chunkSize:16384,windowBits:15,memLevel:8,strategy:si},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xr,this.strm.avail_out=0;let n=Gr.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==ii)throw new Error(Jn[n]);if(t.header&&Gr.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Wr(t.dictionary):"[object ArrayBuffer]"===Jr.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Gr.deflateSetDictionary(this.strm,e),n!==ii)throw new Error(Jn[n]);this._dict_set=!0}}function ui(e,t){const n=new ci(t);if(n.push(e,!0),n.err)throw n.msg||Jn[n.err];return n.result}ci.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?ri:ei,"string"==typeof e?n.input=Wr(e):"[object ArrayBuffer]"===Jr.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===ti||o===ni)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=Gr.deflate(n,o),i===oi)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Gr.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ii;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},ci.prototype.onData=function(e){this.chunks.push(e)},ci.prototype.onEnd=function(e){e===ii&&(this.result=Hr(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var di={Deflate:ci,deflate:ui,deflateRaw:function(e,t){return(t=t||{}).raw=!0,ui(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,ui(e,t)},constants:er};var fi=function(e,t){let n,r,i,o,a,s,l,c,u,d,f,h,p,m,g,b,v,y,w,_,k,x,S,E;const O=e.state;n=e.next_in,S=e.input,r=n+(e.avail_in-5),i=e.next_out,E=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=O.dmax,l=O.wsize,c=O.whave,u=O.wnext,d=O.window,f=O.hold,h=O.bits,p=O.lencode,m=O.distcode,g=(1<<O.lenbits)-1,b=(1<<O.distbits)-1;e:do{h<15&&(f+=S[n++]<<h,h+=8,f+=S[n++]<<h,h+=8),v=p[f&g];t:for(;;){if(y=v>>>24,f>>>=y,h-=y,y=v>>>16&255,0===y)E[i++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=p[(65535&v)+(f&(1<<y)-1)];continue t}if(32&y){O.mode=12;break e}e.msg="invalid literal/length code",O.mode=30;break e}w=65535&v,y&=15,y&&(h<y&&(f+=S[n++]<<h,h+=8),w+=f&(1<<y)-1,f>>>=y,h-=y),h<15&&(f+=S[n++]<<h,h+=8,f+=S[n++]<<h,h+=8),v=m[f&b];n:for(;;){if(y=v>>>24,f>>>=y,h-=y,y=v>>>16&255,!(16&y)){if(0==(64&y)){v=m[(65535&v)+(f&(1<<y)-1)];continue n}e.msg="invalid distance code",O.mode=30;break e}if(_=65535&v,y&=15,h<y&&(f+=S[n++]<<h,h+=8,h<y&&(f+=S[n++]<<h,h+=8)),_+=f&(1<<y)-1,_>s){e.msg="invalid distance too far back",O.mode=30;break e}if(f>>>=y,h-=y,y=i-o,_>y){if(y=_-y,y>c&&O.sane){e.msg="invalid distance too far back",O.mode=30;break e}if(k=0,x=d,0===u){if(k+=l-y,y<w){w-=y;do{E[i++]=d[k++]}while(--y);k=i-_,x=E}}else if(u<y){if(k+=l+u-y,y-=u,y<w){w-=y;do{E[i++]=d[k++]}while(--y);if(k=0,u<w){y=u,w-=y;do{E[i++]=d[k++]}while(--y);k=i-_,x=E}}}else if(k+=u-y,y<w){w-=y;do{E[i++]=d[k++]}while(--y);k=i-_,x=E}for(;w>2;)E[i++]=x[k++],E[i++]=x[k++],E[i++]=x[k++],w-=3;w&&(E[i++]=x[k++],w>1&&(E[i++]=x[k++]))}else{k=i-_;do{E[i++]=E[k++],E[i++]=E[k++],E[i++]=E[k++],w-=3}while(w>2);w&&(E[i++]=E[k++],w>1&&(E[i++]=E[k++]))}break}}break}}while(n<r&&i<a);w=h>>3,n-=w,h-=w<<3,f&=(1<<h)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),O.hold=f,O.bits=h};const hi=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),pi=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mi=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gi=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var bi=(e,t,n,r,i,o,a,s)=>{const l=s.bits;let c,u,d,f,h,p,m=0,g=0,b=0,v=0,y=0,w=0,_=0,k=0,x=0,S=0,E=null,O=0;const A=new Uint16Array(16),T=new Uint16Array(16);let P,C,I,N=null,L=0;for(m=0;m<=15;m++)A[m]=0;for(g=0;g<r;g++)A[t[n+g]]++;for(y=l,v=15;v>=1&&0===A[v];v--);if(y>v&&(y=v),0===v)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(b=1;b<v&&0===A[b];b++);for(y<b&&(y=b),k=1,m=1;m<=15;m++)if(k<<=1,k-=A[m],k<0)return-1;if(k>0&&(0===e||1!==v))return-1;for(T[1]=0,m=1;m<15;m++)T[m+1]=T[m]+A[m];for(g=0;g<r;g++)0!==t[n+g]&&(a[T[t[n+g]]++]=g);if(0===e?(E=N=a,p=19):1===e?(E=hi,O-=257,N=pi,L-=257,p=256):(E=mi,N=gi,p=-1),S=0,g=0,m=b,h=o,w=y,_=0,d=-1,x=1<<y,f=x-1,1===e&&x>852||2===e&&x>592)return 1;for(;;){P=m-_,a[g]<p?(C=0,I=a[g]):a[g]>p?(C=N[L+a[g]],I=E[O+a[g]]):(C=96,I=0),c=1<<m-_,u=1<<w,b=u;do{u-=c,i[h+(S>>_)+u]=P<<24|C<<16|I|0}while(0!==u);for(c=1<<m-1;S&c;)c>>=1;if(0!==c?(S&=c-1,S+=c):S=0,g++,0==--A[m]){if(m===v)break;m=t[n+a[g]]}if(m>y&&(S&f)!==d){for(0===_&&(_=y),h+=b,w=m-_,k=1<<w;w+_<v&&(k-=A[w+_],!(k<=0));)w++,k<<=1;if(x+=1<<w,1===e&&x>852||2===e&&x>592)return 1;d=S&f,i[d]=y<<24|w<<16|h-o|0}}return 0!==S&&(i[h+S]=m-_<<24|64<<16|0),s.bits=y,0};const{Z_FINISH:vi,Z_BLOCK:yi,Z_TREES:wi,Z_OK:_i,Z_STREAM_END:ki,Z_NEED_DICT:xi,Z_STREAM_ERROR:Si,Z_DATA_ERROR:Ei,Z_MEM_ERROR:Oi,Z_BUF_ERROR:Ai,Z_DEFLATED:Ti}=er,Pi=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Ci(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ii=e=>{if(!e||!e.state)return Si;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,_i},Ni=e=>{if(!e||!e.state)return Si;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Ii(e)},Li=(e,t)=>{let n;if(!e||!e.state)return Si;const r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Si:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Ni(e))},Di=(e,t)=>{if(!e)return Si;const n=new Ci;e.state=n,n.window=null;const r=Li(e,t);return r!==_i&&(e.state=null),r};let Mi,Bi,Ri=!0;const ji=e=>{if(Ri){Mi=new Int32Array(512),Bi=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(bi(1,e.lens,0,288,Mi,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;bi(2,e.lens,0,32,Bi,0,e.work,{bits:5}),Ri=!1}e.lencode=Mi,e.lenbits=9,e.distcode=Bi,e.distbits=5},Ui=(e,t,n,r)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var zi={inflateReset:Ni,inflateReset2:Li,inflateResetKeep:Ii,inflateInit:e=>Di(e,15),inflateInit2:Di,inflate:(e,t)=>{let n,r,i,o,a,s,l,c,u,d,f,h,p,m,g,b,v,y,w,_,k,x,S=0;const E=new Uint8Array(4);let O,A;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Si;n=e.state,12===n.mode&&(n.mode=13),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,d=s,f=l,x=_i;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(2&n.wrap&&35615===c){n.check=0,E[0]=255&c,E[1]=c>>>8&255,n.check=Xn(n.check,E,2,0),c=0,u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=30;break}if((15&c)!==Ti){e.msg="unknown compression method",n.mode=30;break}if(c>>>=4,u-=4,k=8+(15&c),0===n.wbits)n.wbits=k;else if(k>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:12,c=0,u=0;break;case 2:for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==Ti){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=Xn(n.check,E,2,0)),c=0,u=0,n.mode=3;case 3:for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,n.check=Xn(n.check,E,4,0)),c=0,u=0,n.mode=4;case 4:for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=Xn(n.check,E,2,0)),c=0,u=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=Xn(n.check,E,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(h=n.length,h>s&&(h=s),h&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+h),k)),512&n.flags&&(n.check=Xn(n.check,r,h,o)),s-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;h=0;do{k=r[o+h++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&h<s);if(512&n.flags&&(n.check=Xn(n.check,r,h,o)),s-=h,o+=h,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;h=0;do{k=r[o+h++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&h<s);if(512&n.flags&&(n.check=Xn(n.check,r,h,o)),s-=h,o+=h,k)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}e.adler=n.check=Pi(c),c=0,u=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,xi;e.adler=n.check=1,n.mode=12;case 12:if(t===yi||t===wi)break e;case 13:if(n.last){c>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}switch(n.last=1&c,c>>>=1,u-=1,3&c){case 0:n.mode=14;break;case 1:if(ji(n),n.mode=20,t===wi){c>>>=2,u-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}c>>>=2,u-=2;break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,c=0,u=0,n.mode=15,t===wi)break e;case 15:n.mode=16;case 16:if(h=n.length,h){if(h>s&&(h=s),h>l&&(h=l),0===h)break e;i.set(r.subarray(o,o+h),a),s-=h,o+=h,l-=h,a+=h,n.length-=h;break}n.mode=12;break;case 17:for(;u<14;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.lens[T[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},x=bi(0,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,x){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[c&(1<<n.lenbits)-1],g=S>>>24,b=S>>>16&255,v=65535&S,!(g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(v<16)c>>>=g,u-=g,n.lens[n.have++]=v;else{if(16===v){for(A=g+2;u<A;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c>>>=g,u-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}k=n.lens[n.have-1],h=3+(3&c),c>>>=2,u-=2}else if(17===v){for(A=g+3;u<A;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=g,u-=g,k=0,h=3+(7&c),c>>>=3,u-=3}else{for(A=g+7;u<A;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=g,u-=g,k=0,h=11+(127&c),c>>>=7,u-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;h--;)n.lens[n.have++]=k}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,O={bits:n.lenbits},x=bi(1,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,x){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},x=bi(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,x){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,t===wi)break e;case 20:n.mode=21;case 21:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,fi(e,f),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=n.lencode[c&(1<<n.lenbits)-1],g=S>>>24,b=S>>>16&255,v=65535&S,!(g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(b&&0==(240&b)){for(y=g,w=b,_=v;S=n.lencode[_+((c&(1<<y+w)-1)>>y)],g=S>>>24,b=S>>>16&255,v=65535&S,!(y+g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=g,u-=g,n.back+=g,n.length=v,0===b){n.mode=26;break}if(32&b){n.back=-1,n.mode=12;break}if(64&b){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&b,n.mode=22;case 22:if(n.extra){for(A=n.extra;u<A;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=n.distcode[c&(1<<n.distbits)-1],g=S>>>24,b=S>>>16&255,v=65535&S,!(g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(0==(240&b)){for(y=g,w=b,_=v;S=n.distcode[_+((c&(1<<y+w)-1)>>y)],g=S>>>24,b=S>>>16&255,v=65535&S,!(y+g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=g,u-=g,n.back+=g,64&b){e.msg="invalid distance code",n.mode=30;break}n.offset=v,n.extra=15&b,n.mode=24;case 24:if(n.extra){for(A=n.extra;u<A;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break e;if(h=f-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),m=n.window}else m=i,p=a-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do{i[a++]=m[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;i[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===s)break e;s--,c|=r[o++]<<u,u+=8}if(f-=l,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?Xn(n.check,i,f,a-f):Yn(n.check,i,f,a-f)),f=l,(n.flags?c:Pi(c))!==n.check){e.msg="incorrect data check",n.mode=30;break}c=0,u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}c=0,u=0}n.mode=29;case 29:x=ki;break e;case 30:x=Ei;break e;case 31:return Oi;case 32:default:return Si}return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||f!==e.avail_out&&n.mode<30&&(n.mode<27||t!==vi))&&Ui(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?Xn(n.check,i,f,e.next_out-f):Yn(n.check,i,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===d&&0===f||t===vi)&&x===_i&&(x=Ai),x},inflateEnd:e=>{if(!e||!e.state)return Si;let t=e.state;return t.window&&(t.window=null),e.state=null,_i},inflateGetHeader:(e,t)=>{if(!e||!e.state)return Si;const n=e.state;return 0==(2&n.wrap)?Si:(n.head=t,t.done=!1,_i)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,o;return e&&e.state?(r=e.state,0!==r.wrap&&11!==r.mode?Si:11===r.mode&&(i=1,i=Yn(i,t,n,0),i!==r.check)?Ei:(o=Ui(e,t,n,n),o?(r.mode=31,Oi):(r.havedict=1,_i))):Si},inflateInfo:"pako inflate (from Nodeca project)"};var Fi=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const $i=Object.prototype.toString,{Z_NO_FLUSH:Gi,Z_FINISH:Zi,Z_OK:qi,Z_STREAM_END:Hi,Z_NEED_DICT:Vi,Z_STREAM_ERROR:Ki,Z_DATA_ERROR:Wi,Z_MEM_ERROR:Yi}=er;function Qi(e){this.options=qr({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xr,this.strm.avail_out=0;let n=zi.inflateInit2(this.strm,t.windowBits);if(n!==qi)throw new Error(Jn[n]);if(this.header=new Fi,zi.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Wr(t.dictionary):"[object ArrayBuffer]"===$i.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=zi.inflateSetDictionary(this.strm,t.dictionary),n!==qi)))throw new Error(Jn[n])}function Xi(e,t){const n=new Qi(t);if(n.push(e),n.err)throw n.msg||Jn[n.err];return n.result}Qi.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Zi:Gi,"[object ArrayBuffer]"===$i.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=zi.inflate(n,a),o===Vi&&i&&(o=zi.inflateSetDictionary(n,i),o===qi?o=zi.inflate(n,a):o===Wi&&(o=Vi));n.avail_in>0&&o===Hi&&n.state.wrap>0&&0!==e[n.next_in];)zi.inflateReset(n),o=zi.inflate(n,a);switch(o){case Ki:case Wi:case Vi:case Yi:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||o===Hi))if("string"===this.options.to){let e=Qr(n.output,n.next_out),t=n.next_out-e,i=Yr(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==qi||0!==s){if(o===Hi)return o=zi.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Qi.prototype.onData=function(e){this.chunks.push(e)},Qi.prototype.onEnd=function(e){e===qi&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Hr(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Ji={Inflate:Qi,inflate:Xi,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Xi(e,t)},ungzip:Xi,constants:er};const{Deflate:eo,deflate:to,deflateRaw:no,gzip:ro}=di,{Inflate:io,inflate:oo,inflateRaw:ao,ungzip:so}=Ji;var lo={Deflate:eo,deflate:to,deflateRaw:no,gzip:ro,Inflate:io,inflate:oo,inflateRaw:ao,ungzip:so,constants:er},co=bt("package-control","1.0.0"),uo={getPackages:function(e){return A(this,void 0,void 0,(function(){var t,n;return T(this,(function(r){switch(r.label){case 0:return[4,wt("packagesCache",co)];case 1:switch(t=r.sent(),n=String(L("sortPackages")),e){case"install":return[2,"name"===n?Xs(t,n):(i=t,o=n,i.sort((function(e,t){return t[o]-e[o]})))];default:return[2,Xs(t,"name")]}}var i,o}))}))},setPackages:function(e){return A(this,void 0,void 0,(function(){return T(this,(function(t){switch(t.label){case 0:return[4,_t("packagesCache",e,co)];case 1:return t.sent(),[4,_t("lastUpdate",(new Date).toISOString(),co)];case 2:return t.sent(),[2]}}))}))},fetchPackages:function(){return A(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return T(this,(function(s){switch(s.label){case 0:return[4,wt("lastUpdate",co)];case 1:return e=s.sent()||"",(t=At(new Date,new Date(e)))<L("updateInterval")?(xt.log("Skipping package retrieval, last update was "+t+" minutes ago"),[2]):(xt.log("Downloading packages list"),[4,gn("https://idleberg.github.io/atom-package-control-api/all.json.gz")]);case 2:return(n=s.sent()).ok?(o=(i=lo).ungzip,[4,n.arrayBuffer()]):[3,5];case 3:return r=o.apply(i,[s.sent()]),a=JSON.parse((new TextDecoder).decode(r)),[4,this.setPackages(a)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}},fo={browse:null,consumer:function(t){var n=this;return this.browse=t,new e.Disposable((function(){n.browse=null}))},packageView:function(e){return A(this,void 0,void 0,(function(){return T(this,(function(t){switch(t.label){case 0:return[4,atom.workspace.open("atom://config/packages/"+e,{searchAllPanes:!0})];case 1:return t.sent(),[2]}}))}))},reveal:function(e){return A(this,void 0,void 0,(function(){var t;return T(this,(function(n){switch(n.label){case 0:return"packageView"===L("listAction")||atom.packages.isBundledPackage(e)?(xt.log("Opening "+e+" in package view"),[4,this.packageView(e)]):[3,2];case 1:return n.sent(),[2];case 2:return t=atom.packages.getLoadedPackage(e).path,xt.log("Opening "+e+" in file manager"),[4,this.browse(t)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))}},ho=mo;function po(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}(t,n)}function mo(e,t,n){b.default.stat(e,(function(r,i){n(r,!r&&po(i,e,t))}))}mo.sync=function(e,t){return po(b.default.statSync(e),e,t)};var go,bo=vo;function vo(e,t,n){b.default.stat(e,(function(e,r){n(e,!e&&yo(r,t))}))}function yo(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,i=e.gid,o=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),a=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),u=s|l;return n&c||n&l&&i===a||n&s&&r===o||n&u&&0===o}(e,t)}vo.sync=function(e,t){return yo(b.default.statSync(e),t)},go="win32"===process.platform||fe.TESTING_WINDOWS?ho:bo;var wo=_o;function _o(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){_o(e,t||{},(function(e,t){e?r(e):n(t)}))}))}go(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}_o.sync=function(e,t){try{return go.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}};const ko="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,xo=ko?";":":",So=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Eo=(e,t)=>{const n=t.colon||xo,r=e.match(/\//)||ko&&e.match(/\\/)?[""]:[...ko?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],i=ko?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=ko?i.split(n):[""];return ko&&-1!==e.indexOf(".")&&""!==o[0]&&o.unshift(""),{pathEnv:r,pathExt:o,pathExtExe:i}},Oo=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:i,pathExtExe:o}=Eo(e,t),a=[],s=n=>new Promise(((i,o)=>{if(n===r.length)return t.all&&a.length?i(a):o(So(e));const s=r[n],c=/^".*"$/.test(s)?s.slice(1,-1):s,u=v.default.join(c,e),d=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;i(l(d,n,0))})),l=(e,n,r)=>new Promise(((c,u)=>{if(r===i.length)return c(s(n+1));const d=i[r];wo(e+d,{pathExt:o},((i,o)=>{if(!i&&o){if(!t.all)return c(e+d);a.push(e+d)}return c(l(e,n,r+1))}))}));return n?s(0).then((e=>n(null,e)),n):s(0)};var Ao=Oo;Oo.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:i}=Eo(e,t),o=[];for(let a=0;a<n.length;a++){const s=n[a],l=/^".*"$/.test(s)?s.slice(1,-1):s,c=v.default.join(l,e),u=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let e=0;e<r.length;e++){const n=u+r[e];try{if(wo.sync(n,{pathExt:i})){if(!t.all)return n;o.push(n)}}catch(e){}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw So(e)};const To=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"};var Po=To,Co=To;function Io(e,t){const n=e.options.env||process.env,r=process.cwd(),i=null!=e.options.cwd,o=i&&void 0!==process.chdir&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch(e){}let a;try{a=Ao.sync(e.command,{path:n[Po({env:n})],pathExt:t?v.default.delimiter:void 0})}catch(e){}finally{o&&process.chdir(r)}return a&&(a=v.default.resolve(i?e.options.cwd:"",a)),a}Po.default=Co;var No=function(e){return Io(e)||Io(e,!0)};const Lo=/([()\][%!^"`<>&|;, *?])/g;var Do={command:function(e){return e=e.replace(Lo,"^$1")},argument:function(e,t){return e=(e=`"${e=(e=(e=`${e}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(Lo,"^$1"),t&&(e=e.replace(Lo,"^$1")),e}},Mo=/^#!(.*)/;var Bo=function(e){const t=Buffer.alloc(150);let n;try{n=b.default.openSync(e,"r"),b.default.readSync(n,t,0,150,0),b.default.closeSync(n)}catch(e){}return((e="")=>{const t=e.match(Mo);if(!t)return null;const[n,r]=t[0].replace(/#! ?/,"").split(" "),i=n.split("/").pop();return"env"===i?r:r?`${i} ${r}`:i})(t.toString())};const Ro="win32"===process.platform,jo=/\.(?:com|exe)$/i,Uo=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function zo(e){if(!Ro)return e;const t=function(e){e.file=No(e);const t=e.file&&Bo(e.file);return t?(e.args.unshift(e.file),e.command=t,No(e)):e.file}(e),n=!jo.test(t);if(e.options.forceShell||n){const n=Uo.test(t);e.command=v.default.normalize(e.command),e.command=Do.command(e.command),e.args=e.args.map((e=>Do.argument(e,n)));const r=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${r}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}var Fo=function(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null);const r={command:e,args:t=t?t.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:e,args:t}};return n.shell?r:zo(r)};const $o="win32"===process.platform;function Go(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function Zo(e,t){return $o&&1===e&&!t.file?Go(t.original,"spawn"):null}var qo={hookChildProcess:function(e,t){if(!$o)return;const n=e.emit;e.emit=function(r,i){if("exit"===r){const r=Zo(i,t);if(r)return n.call(e,"error",r)}return n.apply(e,arguments)}},verifyENOENT:Zo,verifyENOENTSync:function(e,t){return $o&&1===e&&!t.file?Go(t.original,"spawnSync"):null},notFoundError:Go};function Ho(e,t,n){const r=Fo(e,t,n),i=g.default.spawn(r.command,r.args,r.options);return qo.hookChildProcess(i,r),i}var Vo=Ho,Ko=Ho,Wo=function(e,t,n){const r=Fo(e,t,n),i=g.default.spawnSync(r.command,r.args,r.options);return i.error=i.error||qo.verifyENOENTSync(i.status,r),i},Yo=Fo,Qo=qo;Vo.spawn=Ko,Vo.sync=Wo,Vo._parse=Yo,Vo._enoent=Qo;var Xo=me((function(e){const t=e=>{let t;e={cwd:process.cwd(),path:process.env[Po()],execPath:process.execPath,...e};let n=v.default.resolve(e.cwd);const r=[];for(;t!==n;)r.push(v.default.join(n,"node_modules/.bin")),t=n,n=v.default.resolve(n,"..");const i=v.default.resolve(e.cwd,e.execPath,"..");return r.push(i),r.concat(e.path).join(v.default.delimiter)};e.exports=t,e.exports.default=t,e.exports.env=t=>{const n={...(t={env:process.env,...t}).env},r=Po({env:n});return t.path=n[r],n[r]=e.exports(t),n}}));const Jo=(e,t)=>{for(const n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};var ea=Jo,ta=Jo;ea.default=ta;const na=new WeakMap,ra=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let n,r=0;const i=e.displayName||e.name||"<anonymous>",o=function(...a){if(na.set(o,++r),1===r)n=e.apply(this,a),e=null;else if(!0===t.throw)throw new Error(`Function \`${i}\` can only be called once`);return n};return ea(o,e),na.set(o,r),o};var ia=ra,oa=ra;ia.default=oa,ia.callCount=e=>{if(!na.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return na.get(e)};var aa=me((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNALS=void 0;t.SIGNALS=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}]})),sa=me((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SIGRTMAX=t.getRealtimeSignals=void 0;t.getRealtimeSignals=function(){const e=i-r+1;return Array.from({length:e},n)};const n=function(e,t){return{name:`SIGRT${t+1}`,number:r+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},r=34,i=64;t.SIGRTMAX=i})),la=me((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSignals=void 0;t.getSignals=function(){const e=(0,sa.getRealtimeSignals)();return[...aa.SIGNALS,...e].map(n)};const n=function({name:e,number:t,description:n,action:r,forced:i=!1,standard:o}){const{signals:{[e]:a}}=m.default.constants,s=void 0!==a;return{name:e,number:s?a:t,description:n,supported:s,action:r,forced:i,standard:o}}})),ca=me((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.signalsByNumber=t.signalsByName=void 0;const n=function(e,{name:t,number:n,description:r,supported:i,action:o,forced:a,standard:s}){return{...e,[t]:{name:t,number:n,description:r,supported:i,action:o,forced:a,standard:s}}},r=(0,la.getSignals)().reduce(n,{});t.signalsByName=r;const i=function(e,t){const n=o(e,t);if(void 0===n)return{};const{name:r,description:i,supported:a,action:s,forced:l,standard:c}=n;return{[e]:{name:r,number:e,description:i,supported:a,action:s,forced:l,standard:c}}},o=function(e,t){const n=t.find((({name:t})=>m.default.constants.signals[t]===e));return void 0!==n?n:t.find((t=>t.number===e))},a=function(){const e=(0,la.getSignals)(),t=sa.SIGRTMAX+1,n=Array.from({length:t},((t,n)=>i(n,e)));return Object.assign({},...n)}();t.signalsByNumber=a}));const{signalsByName:ua}=ca;var da=({stdout:e,stderr:t,all:n,error:r,signal:i,exitCode:o,command:a,timedOut:s,isCanceled:l,killed:c,parsed:{options:{timeout:u}}})=>{o=null===o?void 0:o;const d=void 0===(i=null===i?void 0:i)?void 0:ua[i].description,f=`Command ${(({timedOut:e,timeout:t,errorCode:n,signal:r,signalDescription:i,exitCode:o,isCanceled:a})=>e?`timed out after ${t} milliseconds`:a?"was canceled":void 0!==n?`failed with ${n}`:void 0!==r?`was killed with ${r} (${i})`:void 0!==o?`failed with exit code ${o}`:"failed")({timedOut:s,timeout:u,errorCode:r&&r.code,signal:i,signalDescription:d,exitCode:o,isCanceled:l})}: ${a}`,h="[object Error]"===Object.prototype.toString.call(r),p=h?`${f}\n${r.message}`:f,m=[p,t,e].filter(Boolean).join("\n");return h?(r.originalMessage=r.message,r.message=m):r=new Error(m),r.shortMessage=p,r.command=a,r.exitCode=o,r.signal=i,r.signalDescription=d,r.stdout=e,r.stderr=t,void 0!==n&&(r.all=n),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=Boolean(s),r.isCanceled=l,r.killed=c&&!s,r};const fa=["stdin","stdout","stderr"],ha=e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return fa.map((t=>e[t]));if((e=>fa.some((t=>void 0!==e[t])))(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${fa.map((e=>`\`${e}\``)).join(", ")}`);if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const n=Math.max(t.length,fa.length);return Array.from({length:n},((e,n)=>t[n]))};var pa=ha;pa.node=e=>{const t=ha(e);return"ipc"===t?"ipc":void 0===t||"string"==typeof t?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]};var ma,ga=me((function(e){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")})),ba=/^win/i.test(process.platform),va=E.default;"function"!=typeof va&&(va=va.EventEmitter),process.__signal_exit_emitter__?ma=process.__signal_exit_emitter__:((ma=process.__signal_exit_emitter__=new va).count=0,ma.emitted={}),ma.infinite||(ma.setMaxListeners(1/0),ma.infinite=!0);var ya=function(e,t){S.default.equal(typeof e,"function","a callback must be provided for exit handler"),!1===Ea&&Oa();var n="exit";t&&t.alwaysLast&&(n="afterexit");return ma.on(n,e),function(){ma.removeListener(n,e),0===ma.listeners("exit").length&&0===ma.listeners("afterexit").length&&_a()}},wa=_a;function _a(){Ea&&(Ea=!1,ga.forEach((function(e){try{process.removeListener(e,xa[e])}catch(e){}})),process.emit=Pa,process.reallyExit=Aa,ma.count-=1)}function ka(e,t,n){ma.emitted[e]||(ma.emitted[e]=!0,ma.emit(e,t,n))}var xa={};ga.forEach((function(e){xa[e]=function(){process.listeners(e).length===ma.count&&(_a(),ka("exit",null,e),ka("afterexit",null,e),ba&&"SIGHUP"===e&&(e="SIGINT"),process.kill(process.pid,e))}}));var Sa=Oa,Ea=!1;function Oa(){Ea||(Ea=!0,ma.count+=1,ga=ga.filter((function(e){try{return process.on(e,xa[e]),!0}catch(e){return!1}})),process.emit=Ca,process.reallyExit=Ta)}var Aa=process.reallyExit;function Ta(e){process.exitCode=e||0,ka("exit",process.exitCode,null),ka("afterexit",process.exitCode,null),Aa.call(process,process.exitCode)}var Pa=process.emit;function Ca(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var n=Pa.apply(this,arguments);return ka("exit",process.exitCode,null),ka("afterexit",process.exitCode,null),n}return Pa.apply(this,arguments)}ya.unload=wa,ya.signals=function(){return ga},ya.load=Sa;const Ia=(e,t,n,r)=>{if(!Na(t,n,r))return;const i=Da(n),o=setTimeout((()=>{e("SIGKILL")}),i);o.unref&&o.unref()},Na=(e,{forceKillAfterTimeout:t},n)=>La(e)&&!1!==t&&n,La=e=>e===m.default.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase(),Da=({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e};var Ma={spawnedKill:(e,t="SIGTERM",n={})=>{const r=e(t);return Ia(e,t,n,r),r},spawnedCancel:(e,t)=>{e.kill()&&(t.isCanceled=!0)},setupTimeout:(e,{timeout:t,killSignal:n="SIGTERM"},r)=>{if(0===t||void 0===t)return r;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);let i;const o=new Promise(((r,o)=>{i=setTimeout((()=>{((e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,n,o)}),t)})),a=r.finally((()=>{clearTimeout(i)}));return Promise.race([o,a])},setExitHandler:async(e,{cleanup:t,detached:n},r)=>{if(!t||n)return r;const i=ya((()=>{e.kill()}));return r.finally((()=>{i()}))}};const Ba=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;Ba.writable=e=>Ba(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,Ba.readable=e=>Ba(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,Ba.duplex=e=>Ba.writable(e)&&Ba.readable(e),Ba.transform=e=>Ba.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState;var Ra=Ba,ja=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}};var Ua=ja(Fa),za=ja($a);function Fa(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function $a(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}Fa.proto=Fa((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Fa(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return $a(this)},configurable:!0})})),Ua.strict=za;var Ga=function(){},Za=function(e,t,n){if("function"==typeof t)return Za(e,null,t);t||(t={}),n=Ua(n||Ga);var r=e._writableState,i=e._readableState,o=t.readable||!1!==t.readable&&e.readable,a=t.writable||!1!==t.writable&&e.writable,s=!1,l=function(){e.writable||c()},c=function(){a=!1,o||n.call(e)},u=function(){o=!1,a||n.call(e)},d=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},f=function(t){n.call(e,t)},h=function(){process.nextTick(p)},p=function(){if(!s)return(!o||i&&i.ended&&!i.destroyed)&&(!a||r&&r.ended&&!r.destroyed)?void 0:n.call(e,new Error("premature close"))},m=function(){e.req.on("finish",c)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?a&&!r&&(e.on("end",l),e.on("close",l)):(e.on("complete",c),e.on("abort",h),e.req?m():e.on("request",m)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",d),e.on("end",u),e.on("finish",c),!1!==t.error&&e.on("error",f),e.on("close",h),function(){s=!0,e.removeListener("complete",c),e.removeListener("abort",h),e.removeListener("request",m),e.req&&e.req.removeListener("finish",c),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("exit",d),e.removeListener("end",u),e.removeListener("error",f),e.removeListener("close",h)}},qa=Za,Ha=function(){},Va=/^v?\.0/.test(process.version),Ka=function(e){return"function"==typeof e},Wa=function(e,t,n,r){r=Ua(r);var i=!1;e.on("close",(function(){i=!0})),qa(e,{readable:t,writable:n},(function(e){if(e)return r(e);i=!0,r()}));var o=!1;return function(t){if(!i&&!o)return o=!0,function(e){return!!Va&&!!b.default&&(e instanceof(b.default.ReadStream||Ha)||e instanceof(b.default.WriteStream||Ha))&&Ka(e.close)}(e)?e.close(Ha):function(e){return e.setHeader&&Ka(e.abort)}(e)?e.abort():Ka(e.destroy)?e.destroy():void r(t||new Error("stream was destroyed"))}},Ya=function(e){e()},Qa=function(e,t){return e.pipe(t)},Xa=function(){var e,t=Array.prototype.slice.call(arguments),n=Ka(t[t.length-1]||Ha)&&t.pop()||Ha;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(i,o){var a=o<t.length-1;return Wa(i,a,o>0,(function(t){e||(e=t),t&&r.forEach(Ya),a||(r.forEach(Ya),n(e))}))}));return t.reduce(Qa)};const{PassThrough:Ja}=y.default;const{constants:es}=O.default;class ts extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function ns(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};const{maxBuffer:n}=t;let r;return await new Promise(((i,o)=>{const a=e=>{e&&r.getBufferedLength()<=es.MAX_LENGTH&&(e.bufferedData=r.getBufferedValue()),o(e)};r=Xa(e,(e=>{e={...e};const{array:t}=e;let{encoding:n}=e;const r="buffer"===n;let i=!1;t?i=!(n||r):n=n||"utf8",r&&(n=null);const o=new Ja({objectMode:i});n&&o.setEncoding(n);let a=0;const s=[];return o.on("data",(e=>{s.push(e),i?a=s.length:a+=e.length})),o.getBufferedValue=()=>t?s:r?Buffer.concat(s,a):s.join(""),o.getBufferedLength=()=>a,o})(t),(e=>{e?a(e):i()})),r.on("data",(()=>{r.getBufferedLength()>n&&a(new ts)}))})),r.getBufferedValue()}var rs=ns,is=ns,os=ts;rs.default=is,rs.buffer=(e,t)=>ns(e,{...t,encoding:"buffer"}),rs.array=(e,t)=>ns(e,{...t,array:!0}),rs.MaxBufferError=os;const{PassThrough:as}=y.default;const ss=async(e,t)=>{if(e){e.destroy();try{return await t}catch(e){return e.bufferedData}}},ls=(e,{encoding:t,buffer:n,maxBuffer:r})=>{if(e&&n)return t?rs(e,{encoding:t,maxBuffer:r}):rs.buffer(e,{maxBuffer:r})};var cs={handleInput:(e,t)=>{void 0!==t&&void 0!==e.stdin&&(Ra(t)?t.pipe(e.stdin):e.stdin.end(t))},makeAllStream:(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const n=function(){var e=[],t=new as({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=r,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(n),t;function n(r){return Array.isArray(r)?(r.forEach(n),this):(e.push(r),r.once("end",i.bind(null,r)),r.once("error",t.emit.bind(t,"error")),r.pipe(t,{end:!1}),this)}function r(){return 0==e.length}function i(n){!(e=e.filter((function(e){return e!==n}))).length&&t.readable&&t.end()}}();return e.stdout&&n.add(e.stdout),e.stderr&&n.add(e.stderr),n},getSpawnedResult:async({stdout:e,stderr:t,all:n},{encoding:r,buffer:i,maxBuffer:o},a)=>{const s=ls(e,{encoding:r,buffer:i,maxBuffer:o}),l=ls(t,{encoding:r,buffer:i,maxBuffer:o}),c=ls(n,{encoding:r,buffer:i,maxBuffer:2*o});try{return await Promise.all([a,s,l,c])}catch(r){return Promise.all([{error:r,signal:r.signal,timedOut:r.timedOut},ss(e,s),ss(t,l),ss(n,c)])}},validateInputSync:({input:e})=>{if(Ra(e))throw new TypeError("The `input` option cannot be a stream in sync mode")}};const us=(async()=>{})().constructor.prototype,ds=["then","catch","finally"].map((e=>[e,Reflect.getOwnPropertyDescriptor(us,e)]));var fs={mergePromise:(e,t)=>{for(const[n,r]of ds){const i="function"==typeof t?(...e)=>Reflect.apply(r.value,t(),e):r.value.bind(t);Reflect.defineProperty(e,n,{...r,value:i})}return e},getSpawnedPromise:e=>new Promise(((t,n)=>{e.on("exit",((e,n)=>{t({exitCode:e,signal:n})})),e.on("error",(e=>{n(e)})),e.stdin&&e.stdin.on("error",(e=>{n(e)}))}))};const hs=/ +/g;var ps={joinCommand:(e,t=[])=>Array.isArray(t)?[e,...t].join(" "):e,parseCommand:e=>{const t=[];for(const n of e.trim().split(hs)){const e=t[t.length-1];e&&e.endsWith("\\")?t[t.length-1]=`${e.slice(0,-1)} ${n}`:t.push(n)}return t}};const{spawnedKill:ms,spawnedCancel:gs,setupTimeout:bs,setExitHandler:vs}=Ma,{handleInput:ys,getSpawnedResult:ws,makeAllStream:_s,validateInputSync:ks}=cs,{mergePromise:xs,getSpawnedPromise:Ss}=fs,{joinCommand:Es,parseCommand:Os}=ps,As=(e,t,n={})=>{const r=Vo._parse(e,t,n);return e=r.command,t=r.args,(n={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(n=r.options).cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...n}).env=(({env:e,extendEnv:t,preferLocal:n,localDir:r,execPath:i})=>{const o=t?{...process.env,...e}:e;return n?Xo.env({env:o,cwd:r,execPath:i}):o})(n),n.stdio=pa(n),"win32"===process.platform&&"cmd"===v.default.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:n,parsed:r}},Ts=(e,t,n)=>"string"==typeof t||Buffer.isBuffer(t)?e.stripFinalNewline?(e=>{const t="string"==typeof e?"\n":"\n".charCodeAt(),n="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e})(t):t:void 0===n?void 0:"",Ps=(e,t,n)=>{const r=As(e,t,n),i=Es(e,t);let o;try{o=g.default.spawn(r.file,r.args,r.options)}catch(e){const t=new g.default.ChildProcess,n=Promise.reject(da({error:e,stdout:"",stderr:"",all:"",command:i,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return xs(t,n)}const a=Ss(o),s=bs(o,r.options,a),l=vs(o,r.options,s),c={isCanceled:!1};o.kill=ms.bind(null,o.kill.bind(o)),o.cancel=gs.bind(null,o,c);const u=ia((async()=>{const[{error:e,exitCode:t,signal:n,timedOut:a},s,u,d]=await ws(o,r.options,l),f=Ts(r.options,s),h=Ts(r.options,u),p=Ts(r.options,d);if(e||0!==t||null!==n){const s=da({error:e,exitCode:t,signal:n,stdout:f,stderr:h,all:p,command:i,parsed:r,timedOut:a,isCanceled:c.isCanceled,killed:o.killed});if(!r.options.reject)return s;throw s}return{command:i,exitCode:0,stdout:f,stderr:h,all:p,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}));return Vo._enoent.hookChildProcess(o,r.parsed),ys(o,r.options.input),o.all=_s(o,r.options),xs(o,u)};var Cs=Ps;let Is;Cs.sync=(e,t,n)=>{const r=As(e,t,n),i=Es(e,t);let o;ks(r.options);try{o=g.default.spawnSync(r.file,r.args,r.options)}catch(e){throw da({error:e,stdout:"",stderr:"",all:"",command:i,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}const a=Ts(r.options,o.stdout,o.error),s=Ts(r.options,o.stderr,o.error);if(o.error||0!==o.status||null!==o.signal){const e=da({stdout:a,stderr:s,error:o.error,signal:o.signal,exitCode:o.status,command:i,parsed:r,timedOut:o.error&&"ETIMEDOUT"===o.error.code,isCanceled:!1,killed:null!==o.signal});if(!r.options.reject)return e;throw e}return{command:i,exitCode:0,stdout:a,stderr:s,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},Cs.command=(e,t)=>{const[n,...r]=Os(e);return Ps(n,r,t)},Cs.commandSync=(e,t)=>{const[n,...r]=Os(e);return Ps.sync(n,r,t)},Cs.node=(e,t,n={})=>{t&&!Array.isArray(t)&&"object"==typeof t&&(n=t,t=[]);const r=pa.node(n),i=process.execArgv.filter((e=>!e.startsWith("--inspect"))),{nodePath:o=process.execPath,nodeOptions:a=i}=n;return Ps(o,[...a,e,...Array.isArray(t)?t:[]],{...n,stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1})};var Ns=()=>(void 0===Is&&(Is=function(){try{return b.default.statSync("/.dockerenv"),!0}catch(e){return!1}}()||function(){try{return b.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch(e){return!1}}()),Is),Ls=me((function(e){const t=()=>{if("linux"!==process.platform)return!1;if(m.default.release().toLowerCase().includes("microsoft"))return!Ns();try{return!!b.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!Ns()}catch(e){return!1}};process.env.__IS_WSL_TEST__?e.exports=t:e.exports=t()})),Ds=(e,t,n)=>{const r=n=>Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=n();return r(e),e},set(e){r(e)}}),e};const{promises:Ms}=b.default,Bs=v.default.join(__dirname,"xdg-open"),{platform:Rs,arch:js}=process,Us=(()=>{const e="/mnt/";let t;return async function(){if(t)return t;const n="/etc/wsl.conf";let r=!1;try{await Ms.access(n,Ms.constants.F_OK),r=!0}catch{}if(!r)return e;const i=await Ms.readFile(n,{encoding:"utf8"}),o=/root\s*=\s*(?<mountPoint>.*)/g.exec(i);return o?(t=o.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),zs=async(e,t)=>{let n;for(const r of e)try{return await t(r)}catch(e){n=e}throw n},Fs=async(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a `target`");if(t={wait:!1,background:!1,allowNonzeroExitCode:!1,...t},Array.isArray(t.app))return zs(t.app,(n=>Fs(e,{...t,app:n})));let n,{name:r,arguments:i=[]}=t.app||{};if(Array.isArray(r))return zs(r,(n=>Fs(e,{...t,app:{name:n,arguments:i}})));const o=[],a={};if("darwin"===Rs)n="open",t.wait&&o.push("--wait-apps"),t.background&&o.push("--background"),r&&o.push("-a",r);else if("win32"===Rs||Ls&&!Ns()){const s=await Us();n=Ls?`${s}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,o.push("-NoProfile","-NonInteractive","–ExecutionPolicy","Bypass","–WindowStyle","Hidden","-EncodedCommand"),Ls||(a.windowsVerbatimArguments=!0);const l=["Start"];t.wait&&l.push("-Wait"),r?(l.push(`"\`"${r}\`""`,"-ArgumentList"),i.unshift(e)):l.push(`"${e}"`),i.length>0&&(i=i.map((e=>`"\`"${e}\`""`)),l.push(i.join(","))),e=Buffer.from(l.join(" "),"utf16le").toString("base64")}else{if(r)n=r;else{const e=!__dirname||"/"===__dirname;let t=!1;try{await Ms.access(Bs,Ms.constants.X_OK),t=!0}catch{}n=process.versions.electron||"android"===Rs||e||!t?"xdg-open":Bs}i.length>0&&o.push(...i),t.wait||(a.stdio="ignore",a.detached=!0)}o.push(e),"darwin"===Rs&&i.length>0&&o.push("--args",...i);const s=g.default.spawn(n,o,a);return t.wait?new Promise(((e,n)=>{s.once("error",n),s.once("close",(r=>{t.allowNonzeroExitCode&&r>0?n(new Error(`Exited with code ${r}`)):e(s)}))})):(s.unref(),s)};function $s(e){if("string"==typeof e)return e;const{[js]:t}=e;if(!t)throw new Error(`${js} is not supported`);return t}function Gs({[Rs]:e},{wsl:t}){if(t&&Ls)return $s(t);if(!e)throw new Error(`${Rs} is not supported`);return $s(e)}const Zs={};Ds(Zs,"chrome",(()=>Gs({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}))),Ds(Zs,"firefox",(()=>Gs({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}))),Fs.apps=Zs;var qs=Fs,Hs={busySignal:null,serviceName:"busy-signal",consumer:function(t){var n=this;return this.busySignal=t.create(),new e.Disposable((function(){n.busySignal=null}))},add:function(e){try{this.busySignal.add(e)}catch(e){xt.log("Busy Signal has failed",e)}},remove:function(e){void 0===e&&(e="");try{this.busySignal.remove(e)}catch(e){xt.log("Busy Signal has failed",e)}},clear:function(){try{this.busySignal.clear()}catch(e){xt.log("Busy Signal has failed",e)}},dispose:function(){try{this.busySignal.dispose()}catch(e){xt.log("Busy Signal has failed",e)}}};function Vs(e){return A(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l;return T(this,(function(c){switch(c.label){case 0:return[4,uo.getPackages(e)];case 1:return void 0===(t=c.sent())?[2]:(i=atom.packages.getAvailablePackageNames(),o=atom.packages.getLoadedPackages().map((function(e){return e.name})),a=i.filter((function(e){return!o.includes(e)})),"stars"!==e?[3,3]:[4,nl()]);case 2:r=c.sent(),c.label=3;case 3:switch(e){case"install":return[3,4];case"enable":return[3,5];case"disable":return[3,6];case"stars":return[3,7];case"update":return[3,8]}return[3,10];case 4:return n=t.filter((function(e){return!i.includes(e.name)})),[3,11];case 5:return n=t.filter((function(e){return i.includes(e.name)&&a.includes(e.name)})),[3,11];case 6:return n=t.filter((function(e){return i.includes(e.name)&&o.includes(e.name)})),[3,11];case 7:return n=t.filter((function(e){return!i.includes(e.name)&&r.includes(e.name)})),[3,11];case 8:return[4,tl(t)];case 9:return n=c.sent(),[3,11];case 10:return n=t.filter((function(e){return i.includes(e.name)})),[3,11];case 11:if(!n.length)return s="stars"===e?"install":e,xt.log("No packages to "+s),atom.notifications.addInfo("**Package Control**: No packages to "+s),[2];c.label=12;case 12:return c.trys.push([12,14,,15]),[4,mt(n)];case 13:return l=c.sent(),[3,15];case 14:return c.sent(),xt.log("Cancelled selection"),[2];case 15:if(void 0===l)return[2];switch(e){case"install":case"remove":case"disable":case"enable":return[3,16];case"stars":return[3,18];case"update":return[3,19];case"list":return[3,21]}return[3,22];case 16:return[4,Ks(e,l)];case 17:return c.sent(),[3,23];case 18:return Ks("install",l),[3,23];case 19:return[4,Ks(e,l,["--compatible","--no-confirm"])];case 20:return c.sent(),[3,23];case 21:return fo.reveal(l),[3,23];case 22:return[3,23];case 23:return[2]}}))}))}function Ks(e,t,n){return void 0===n&&(n=[]),A(this,void 0,void 0,(function(){var r,i,o,a,s,l;return T(this,(function(c){switch(c.label){case 0:r=(new Date).getTime(),i=atom.packages.getApmPath(),o="Package Control is "+Js(e).continous.toLowerCase()+" the "+t+" package",xt.log(Js(e).continous+" "+t+" package"),Hs.add(o),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Cs(i,P([e,t],n))];case 2:return c.sent(),[3,4];case 3:return a=c.sent(),xt.error(Js(e).noun+" failed: "+a.shortMessage),Hs.add(Js(e).noun+" failed: "+a.shortMessage),atom.notifications.addError("**Package Control**: "+Js(e).noun+" failed",{detail:a.shortMessage,dismissable:!0}),Hs.remove(o),[2];case 4:return s=(new Date).getTime(),l=s-r,xt.log(Js(e).perfect+" "+t+" in "+l/1e3+" seconds"),Hs.remove(o),[2]}}))}))}function Ws(){return A(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return T(this,(function(s){switch(s.label){case 0:e="Package Control updating all packages",t=(new Date).getTime(),n="update",r=atom.packages.getApmPath(),xt.log(Js(n).continous+" all packages"),Hs.add(e),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Cs(r,["update","--no-confirm"])];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),xt.error(Js(n).continous+" all packages failed: "+i.shortMessage),atom.notifications.addError("**Package Control**: "+Js(n).continous+" all packages failed",{detail:i.shortMessage,dismissable:!0}),Hs.remove(e),[2];case 4:return o=(new Date).getTime(),a=o-t,xt.log(Js(n).perfect+" all packages in "+a/1e3+" seconds"),Hs.remove(e),[2]}}))}))}function Ys(){return A(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return T(this,(function(s){switch(s.label){case 0:e="Package Control is installing all starred packages",t=(new Date).getTime(),n="install",r=atom.packages.getApmPath(),xt.log(Js(n).continous+" all packages"),Hs.add(e),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Cs(r,["stars","--install"])];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),xt.error(Js(n).continous+" all starred packages failed: "+i.shortMessage),atom.notifications.addError("**Package Control**: "+Js(n).continous+" all starred packages failed",{detail:i.shortMessage,dismissable:!0}),Hs.remove(e),[2];case 4:return o=(new Date).getTime(),a=o-t,xt.log(Js(n).perfect+" all starred packages in "+a/1e3+" seconds"),Hs.remove(e),[2]}}))}))}function Qs(){return A(this,void 0,void 0,(function(){var e,t,n,r,i,o,a=this;return T(this,(function(s){switch(s.label){case 0:return e="Package Control is satisfying all package dependencies",t=(new Date).getTime(),n="satisfy",r=atom.packages.getLoadedPackages().map((function(e){return e.name})),xt.log(Js(n).continous+" all packages dependencies"),Hs.add(e),[4,Promise.allSettled(r.map((function(e){return A(a,void 0,void 0,(function(){return T(this,(function(t){switch(t.label){case 0:return[4,de(e,!L("confirmSatisfyingDependencies"))];case 1:return[2,t.sent()]}}))}))})))];case 1:return s.sent(),i=(new Date).getTime(),o=i-t,xt.log(Js(n).perfect+" all packages in "+o/1e3+" seconds"),Hs.remove(e),[2]}}))}))}function Xs(e,t){return e.sort((function(e,n){return e[t].localeCompare(n[t])}))}function Js(e){switch(e){case"install":case"stars":return{continous:"Installing",noun:"Installation",perfect:"Installed"};case"remove":return{continous:"Removing",noun:"Removal",perfect:"Removed"};case"enable":return{continous:"Enabling",noun:"Enabling",perfect:"Enabled"};case"disable":return{continous:"Disabling",noun:"Disabling",perfect:"Disabled"};case"list":return{continous:"Listing",noun:"Listing",perfect:"Listed"};case"satisfy":return{continous:"Satisfying",noun:"Satisfying",perfect:"Satisfied"};case"update":return{continous:"Updating",noun:"Update",perfect:"Updated"};default:throw Error("Unsupported action: "+e)}}function el(e){return A(this,void 0,void 0,(function(){return T(this,(function(t){switch(t.label){case 0:return xt.log("Opening https://atom.io/"+e),[4,qs("https://atom.io/"+e)];case 1:return t.sent(),[2]}}))}))}function tl(e){return A(this,void 0,void 0,(function(){var t,n,r,i;return T(this,(function(o){switch(o.label){case 0:t="Package Control is retrieving outdated packages",xt.log("Retrieving outdated packages"),Hs.add(t),n=atom.packages.getApmPath(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,Cs(n,["update","--compatible","--json","--list"])];case 2:return r=o.sent(),[3,5];case 3:throw i=o.sent(),Error(i.message);case 4:return Hs.remove(t),[7];case 5:return[2,JSON.parse(r.stdout).map((function(t){var n=t.name,r=t.version,i=t.latestVersion,o=e.filter((function(e){return e.name===n}))[0];return{description:o.description||"",downloads:o.downloads||0,name:n,stars:o.stars||0,theme:o.theme||void 0,version:r+" &#8594; "+i}}))||[]]}}))}))}function nl(){return A(this,void 0,void 0,(function(){var e,t,n,r;return T(this,(function(i){switch(i.label){case 0:e="Package Control is retrieving starred packages",xt.log("Retrieving starred packages"),Hs.add(e),t=atom.packages.getApmPath(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,Cs(t,["stars","--json"])];case 2:return n=i.sent(),[3,5];case 3:throw r=i.sent(),Error(r.message);case 4:return Hs.remove(e),[7];case 5:return[2,JSON.parse(n.stdout).map((function(e){return e.name}))||[]]}}))}))}var rl={config:N,subscriptions:new e.CompositeDisposable,activate:function(){return A(this,void 0,void 0,(function(){var e=this;return T(this,(function(t){switch(t.label){case 0:return xt.log("Activating package"),[4,uo.fetchPackages()];case 1:return t.sent(),this.subscriptions.add(atom.commands.add("atom-workspace",{"package-control:install-package":function(){return A(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,Vs("install")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:remove-package":function(){return A(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,Vs("remove")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:enable-package":function(){return A(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,Vs("enable")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:disable-package":function(){return A(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,Vs("disable")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:list-packages":function(){return A(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,Vs("list")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:discover-packages":function(){return A(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,el("packages")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:discover-themes":function(){return A(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,el("themes")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:install-starred-package":function(){return A(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,Vs("stars")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:install-all-starred-packages":function(){return A(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,Ys()];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:update-package":function(){return A(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,Vs("update")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:update-all-packages":function(){return A(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,Ws()];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:satisfy-dependencies":function(){return A(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,Qs()];case 1:return e.sent(),[2]}}))}))}})),[2]}}))}))},deactivate:function(){var e;xt.log("Deactivating package"),null===(e=this.subscriptions)||void 0===e||e.dispose()},consumeBrowse:function(e){xt.log("Consuming Browse service"),fo.consumer(e)},consumeSignal:function(e){xt.log("Consuming Busy Signal service"),Hs.consumer(e)}};module.exports=rl;
//# sourceMappingURL=index.js.map

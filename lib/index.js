"use strict";var e=require("atom"),t=require("os"),n=require("child_process"),r=require("fs"),i=require("path"),o=require("stream"),a=require("http"),s=require("url"),l=require("https"),c=require("zlib"),u=require("assert"),d=require("events"),f=require("buffer"),p=require("util");function h(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var m=h(e),g=h(t),b=h(n),v=h(r),y=h(i),w=h(o),_=h(a),x=h(s),k=h(l),S=h(c),E=h(u),O=h(d),A=h(f),T=h(p),P=function(){return(P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function I(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function C(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function N(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var D="package-control",B=D,L=[{value:"normal",description:"Normal"},{value:"subtle",description:"Subtle"},{value:"highlight",description:"Highlighted"},{value:"info",description:"Blue"},{value:"success",description:"Green"},{value:"warning",description:"Yellow"},{value:"error",description:"Red"}],M={schema:{updateInterval:{title:"Update Interval",description:"Interval for how often the packages cache updates, in minutes",type:"integer",default:360,minimum:15,maximum:10080,order:1},maxResults:{title:"Maximum results",description:"Number of results shown in the select view. Lower values result in better UI performance.",type:"integer",default:30,minimum:10,maximum:120,order:2},sortPackages:{title:"Sort Packages",description:"Default sorting for the *Install Packages* command.",type:"string",default:"name",enum:[{value:"downloads",description:"Downloads"},{value:"name",description:"Name"},{value:"stars",description:"Rating"}],order:3},listAction:{title:"List Action",description:"Specifies an action for the selected package in the list view. Bundled packages will always be shown in package view.",type:"string",default:"fileManager",enum:[{value:"fileManager",description:"Show in File Manager"},{value:"packageView",description:"Package View"}],order:4},confirmSatisfyingDependencies:{title:"Confirm Satisfying Dependencies",description:"Display confirmation dialog when satisfying package dependencies",type:"boolean",default:!0,order:5},githubUser:{title:"GitHub User Name",description:"Optional: A user name used for the two *Install Starred Package* commands",type:"string",default:"",order:6},ui:{title:"UI Customization",description:"Basic customization options to change the colours of various text elements and to toggle icons",type:"object",order:7,properties:{packageTextStyle:{title:"Package Text Style",description:"",type:"string",default:"normal",enum:L,order:1},descriptionTextStyle:{title:"Description Text Style",description:"",type:"string",default:"normal",enum:L,order:2},versionTextStyle:{title:"Version Text Style",description:"",type:"string",default:"subtle",enum:L,order:3},statsTextStyle:{title:"Stats Text Style",description:"",type:"string",default:"normal",enum:L,order:4},showPackageTypeIcon:{title:"Show Package Type Icon",description:"",type:"boolean",default:!0,order:5},showPackageStats:{title:"Show Package Stats",description:"",type:"boolean",default:!0,order:6}}}},get:function(e){return void 0===e&&(e=""),(null==e?void 0:e.length)?atom.config.get(D+"."+e):atom.config.get(""+D)},migrate:function(e,t){if(atom.config.get(D+"."+e)&&!atom.config.get(D+"."+t)){try{atom.config.set(D+"."+t,atom.config.get(D+"."+e))}catch(e){return void atom.notifications.addWarning("Failed to migrate configuration, see console for details")}atom.config.unset(D+"."+e)}},unset:function(e){void 0===e&&(e="");var t=(null==e?void 0:e.length)?D+"."+e:D;atom.config.unset(t)},open:function(e){return void 0===e&&(e={}),I(this,void 0,void 0,(function(){return C(this,(function(t){switch(t.label){case 0:return e=P({pending:!0,searchAllPanes:!0},e),[4,atom.workspace.open("atom://config/packages/"+D,e)];case 1:return t.sent(),[2]}}))}))}},R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function j(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function U(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function z(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var F={};Object.defineProperty(F,"__esModule",{value:!0});var $=g.default,G=b.default,Z=v.default,q=y.default;function H(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var V=H($),K=H(Z),W=H(q);const Y=/\s+at.*(?:\(|\s)(.*)\)?/,Q=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,X=void 0===V.default.homedir?"":V.default.homedir();class J extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t=(e=[...e].map((e=>e instanceof Error?e:null!==e&&"object"==typeof e?Object.assign(new Error(e.message),e):new Error(e)))).map((e=>{return"string"==typeof e.stack?(e=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""))((t=e.stack,n=Object.assign({pretty:!1},n),t.replace(/\\/g,"/").split("\n").filter((e=>{const t=e.match(Y);if(null===t||!t[1])return!0;const n=t[1];return!n.includes(".app/Contents/Resources/electron.asar")&&!n.includes(".app/Contents/Resources/default_app.asar")&&!Q.test(n)})).filter((e=>""!==e.trim())).map((e=>n.pretty?e.replace(Y,((e,t)=>e.replace(t,t.replace(X,"~")))):e)).join("\n"))):String(e);var t,n})).join("\n");t="\n"+((e,t=1,n)=>{if(n={indent:" ",includeEmptyLines:!1,...n},"string"!=typeof e)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof n.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof n.indent}\``);if(0===t)return e;const r=n.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(r,n.indent.repeat(t))})(t,4),super(t),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(const e of this._errors)yield e}}var ee=J;const te=(e,t,n)=>new Promise(((r,i)=>{if(n=Object.assign({concurrency:1/0},n),"function"!=typeof t)throw new TypeError("Mapper function is required");const{concurrency:o}=n;if(!("number"==typeof o&&o>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${o}\` (${typeof o})`);const a=[],s=e[Symbol.iterator]();let l=!1,c=!1,u=0,d=0;const f=()=>{if(l)return;const e=s.next(),n=d;if(d++,e.done)return c=!0,void(0===u&&r(a));u++,Promise.resolve(e.value).then((e=>t(e,n))).then((e=>{a[n]=e,u--,f()}),(e=>{l=!0,i(e)}))};for(let e=0;e<o&&(f(),!c);e++);}));var ne=te,re=te;ne.default=re;const ie=async(e,t,n)=>(await ne(e,((e,n)=>Promise.all([t(e,n),e])),n)).filter((e=>Boolean(e[0]))).map((e=>e[1]));var oe=ie,ae=ie;oe.default=ae;const se="undefined"!=typeof atom,le="undefined"!=typeof atom&&(atom.inDevMode()||atom.inSpecMode());
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */
var ce=/["'&<>]/,ue=function(e){var t,n=""+e,r=ce.exec(n);if(!r)return n;var i="",o=0,a=0;for(o=r.index;o<n.length;o++){switch(n.charCodeAt(o)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==o&&(i+=n.substring(a,o)),a=o+1,i+=t}return a!==o?i+n.substring(a,o):i};function de(e,t,n){let r;const i=async function(e,t,n){const r=G.spawn(e,t,n),i=new Promise(((e,t)=>{const i={stdout:r.stdout?[]:null,stderr:r.stderr?[]:null};r.on("error",t),r.stdout&&r.stdout.on("data",(function(e){i.stdout.push(e),n.handleStdout&&n.handleStdout(e)})),r.stderr&&r.stderr.on("data",(function(e){i.stderr.push(e),n.handleStderr&&n.handleStderr(e)})),r.on("close",(t=>{let r=null;null!=i.stdout&&(r=null===n.encoding||"buffer"===n.encoding?Buffer.concat(i.stdout):i.stdout.join(""));let o=null;null!=i.stderr&&(o=null===n.encoding||"buffer"===n.encoding?Buffer.concat(i.stderr):i.stderr.join("")),e({exitCode:t,stdout:r,stderr:o})}))}));return n.handleChildProcess(r),i}(e,t,{...n,handleChildProcess(e){r=e}});return i.kill=function(e){return r.kill(e)},i}async function fe(e){if(se){const t=await async function(e){var t;const n=atom.packages.getLoadedPackage(e.name);return null==n?null:null!==(t=n.metadata.version)&&void 0!==t?t:null}(e);if(t)return t}return async function(e){var t,n;const{directory:r}=e;if(null==r)return null;let i=null;try{i=JSON.parse(await K.default.promises.readFile(W.default.join(r,"package.json"),"utf8"))}catch(e){return null}return null!==(t=null===(n=i)||void 0===n?void 0:n.version)&&void 0!==t?t:null}(e)}const pe=se?async function(e){return atom.packages.resolvePackagePath(e)}:async function(e){var t;const n=W.default.join(null!==(t=process.env.ATOM_HOME)&&void 0!==t?t:W.default.join(V.default.homedir(),".atom"),"packages",e);try{return await K.default.promises.access(n,K.default.constants.R_OK),n}catch(e){return null}};function he(e,t){if(!e)throw new Error(null!=t?t:"Invariant violation")}async function me(e){const t=await(se?async function(e){const t=atom.packages.getLoadedPackage(e),n=t&&t.metadata["package-deps"];return Array.isArray(n)?n:[]}(e):async function(e){let t=null;try{t=await K.default.promises.stat(e)}catch(e){}if(null==t||!t.isDirectory())throw new Error("[Package-Deps] Expected packageName to be a readable directory in Node.js invocation");let n=null;try{const t=await K.default.promises.readFile(W.default.join(e,"package.json"),"utf8");n=JSON.parse(t)}catch(e){}const r=null==n||"object"!=typeof n?[]:n["package-deps"];return Array.isArray(r)?r:[]}(e));return le&&(he(Array.isArray(t),`Dependencies for ${e} are not a valid array`),t.forEach(((t,n)=>{if(Array.isArray(t))t.forEach(((t,r)=>{const i=`Dependency#${n}#${r} for ${e} is invalid`;he("string"==typeof t.name&&t.name.length>0,i),he(null==t.minimumVersion||"string"==typeof t.minimumVersion&&t.minimumVersion.length>0,i)})),he(t.length>0,`Dependency#${n} for ${e} has no group items`);else{const r=`Dependency#${n} for ${e} is invalid`;he("string"==typeof t.name&&t.name.length>0,r),he(null==t.minimumVersion||"string"==typeof t.minimumVersion&&t.minimumVersion.length>0,r)}}))),t}async function ge(e){if(null==e.directory)return!0;if(null==e.minimumVersion)return!1;const t=await fe(e);return null==t||1===function(e,t){for(var n=e.split("."),r=t.split("."),i=0;i<3;i++){var o=Number(n[i]),a=Number(r[i]);if(o>a)return 1;if(a>o)return-1;if(!isNaN(o)&&isNaN(a))return 1;if(isNaN(o)&&!isNaN(a))return-1}return 0}(e.minimumVersion,t)}const be=new Set(["✓","done"]),ve=/(?:Installing|Moving) (.*?) to .* (.*)/;async function ye(e){if("string"==typeof e)return{name:e,directory:await pe(e)};if("name"in e)return{...e,directory:await pe(e.name)};throw console.error("This package-deps entry is not valid. Please see https://github.com/steelbrain/package-deps#how-it-works",{entry:e}),Error("The package-deps entry is not valid. Please see https://github.com/steelbrain/package-deps#how-it-works")}let we=!0;const _e=se?function({packageName:e,dependencies:t}){const n=[],r=atom.notifications.addInfo(`Installing ${e} dependencies`,{detail:`Installing ${t.map((e=>e.name)).join(", ")}`,dismissable:!0}),i=document.createElement("progress");i.max=t.length,i.style.width="100%";try{var o;const e=atom.views.getView(r),t=null!==(o=null==e?void 0:e.element)&&void 0!==o?o:null;if(null==t)throw new Error("Unable to get notification element from view");const n=t.querySelector(".detail-content");if(null==n)throw new Error("Content detail container not found inside the notification");n.appendChild(i)}catch(e){console.error("[Package-Deps] Error during showing installation progress to user",e)}return{handleFailure({dependency:e,error:t}){var r;n.push(e.name),i.value+=1,console.error(`[Package-Deps] Unable to install ${e.name}, Error:`,null!==(r=null==t?void 0:t.stack)&&void 0!==r?r:t)},handleDependencyInstalled(e){i.value+=1},handleComplete(){r.dismiss(),n.length>0?atom.notifications.addWarning(`Failed to install ${e} dependencies`,{detail:`These packages were not installed, check your console\nfor more info.\n${n.join("\n")}`,dismissable:!0}):atom.notifications.addSuccess(`Installed ${e} dependencies`,{detail:`Installed ${t.map((e=>e.name)).join(", ")}`}),Promise.all(t.map((e=>n.includes(e.name)?null:atom.packages.activatePackage(e.name)))).catch((t=>{console.error(`[Package-Deps] Error activating installed packages for ${e}`,t)}))}}}:function({dependencies:e}){let t=!1;return console.log(`Installing dependencies:\n${e.map((e=>`  - ${e.name}`)).join("\n")}`),{handleFailure({dependency:e,error:n}){var r;t=!0,console.error(`Unable to install ${e.name}, Error:`,null!==(r=null==n?void 0:n.stack)&&void 0!==r?r:n)},handleDependencyInstalled(e){console.log("Successfully installed",e.name)},handleComplete(){console.log("Installation complete"),t&&(process.exitCode=1)}}},xe=se?function({packageName:e,dependencies:t}){return new Promise((n=>{const r=t.filter((e=>!Array.isArray(e))),i=t.filter((e=>Array.isArray(e))),o=0===i.length,a=o?r.map((e=>e.name)).join(", "):"Something went wrong. Check your developer console",s=i.map((e=>e[0]));atom.packages.isPackageDisabled("notifications")&&console.warn(`Enable notifications to install dependencies for ${e}`);const l=atom.notifications.addInfo(`${e} needs to install dependencies`,{dismissable:!0,icon:"cloud-download",detail:a,description:`Install dependenc${1===t.length?"y":"ies"}?`,buttons:[{text:"Yes",onDidClick:()=>{n(o?r:r.concat(s)),l.dismiss()}},{text:"No Thanks",onDidClick:()=>{l.dismiss()}},{text:"Never",onDidClick:()=>{!function(e){var t;if(!se)return;const n=new Set(null!==(t=atom.config.get("atom-package-deps.ignored"))&&void 0!==t?t:[]);n.add(e),atom.config.set("atom-package-deps.ignored",Array.from(n))}(e),we&&(we=!1,atom.notifications.addInfo("How to reset package-deps memory",{dismissable:!0,description:"To modify the list of ignored files invoke 'Application: Open Your Config' and change the 'atom-package-deps' section"})),l.dismiss()}}]});if(l.onDidDismiss((()=>n([]))),!o)try{var c;const e=atom.views.getView(l),t=null!==(c=null==e?void 0:e.element)&&void 0!==c?c:null;if(null==t)throw new Error("Unable to get notification element from view");const n=t.querySelector(".detail-content");if(null==n)throw new Error("Content detail container not found inside the notification");if(n.innerHTML="",r.length>0){const e=document.createElement("div");e.innerHTML=`Packages without choices: <br /><ul><li>${r.map((e=>ue(e.name))).join("</li><li>")}</li></ul>`,n.appendChild(e)}const o=document.createElement("div");o.innerHTML="Packages with choices:",n.appendChild(o);const a=document.createElement("ul");i.forEach(((e,t)=>{const n=document.createElement("li"),r=document.createElement("select");r.innerHTML=e.map((e=>`<option>${ue(e.name)}</option>`)).join("\n"),r.addEventListener("change",(()=>{const n=e.find((e=>e.name===r.value));null!=n&&(s[t]=n)})),n.style.marginTop="5px",n.appendChild(r),a.appendChild(n)})),n.appendChild(a)}catch(e){console.error("[Package-Deps] Error during showing package choices to user",e)}}))}:async function({dependencies:e}){return e.map((e=>Array.isArray(e)?e[0]:e))};var ke=F.install=async function(e,t=!1){if(he("string"==typeof e&&e.length>0,"[Package-Deps] Package name is required"),function(e){var t;return!!se&&!!(null!==(t=atom.config.get("atom-package-deps.ignored"))&&void 0!==t?t:[]).includes(e)}(e))return;const n=await me(e);if(0===n.length)return;const r=await Promise.all(n.map((async e=>Array.isArray(e)?Promise.all(e.map(ye)):ye(e)))),i=await oe(r,(async function(e){return Array.isArray(e)?(await Promise.all(e.map((e=>ge(e))))).every(Boolean):ge(e)}));if(0===i.length)return;let o;if(o=t?i.map((e=>Array.isArray(e)?e[0]:e)):await xe({packageName:e,dependencies:i}),0===o.length)return;const a=_e({packageName:e,dependencies:o});await(async(e,t,{concurrency:n=1/0,stopOnError:r=!0}={})=>new Promise(((i,o)=>{if("function"!=typeof t)throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(n)&&n!==1/0||!(n>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${n}\` (${typeof n})`);const a=[],s=[],l=e[Symbol.iterator]();let c=!1,u=!1,d=0,f=0;const p=()=>{if(c)return;const e=l.next(),n=f;if(f++,e.done)return u=!0,void(0===d&&(r||0===s.length?i(a):o(new ee(s))));d++,(async()=>{try{const r=await e.value;a[n]=await t(r,n),d--,p()}catch(e){r?(c=!0,o(e)):(s.push(e),d--,p())}})()};for(let e=0;e<n&&(p(),!u);e++);})))(o,(async function(e){try{await async function(e){const t=se?`"${atom.packages.getApmPath()}"`:"apm",{stdout:n,stderr:r}=await de(t,["install",e.name,"--production","--color","false"],{shell:!0}),i=ve.exec(n.trim());if(null!=i&&be.has(i[2]))return;const o=new Error(`Error installing dependency: ${e.name}`);throw o.stack=r.trim(),o}(e),a.handleDependencyInstalled(e)}catch(t){a.handleFailure({dependency:e,error:t})}}),{concurrency:2}),a.handleComplete()},Se={exports:{}},Ee=Se.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(!s&&z)return z(a);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=z,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=Math.ceil,a=Math.floor,s="[BigNumber Error] ",l=s+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,h=1e9;function m(e){var t=0|e;return 0<e||e===t?t:t-1}function g(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=u-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function b(e,t){var n,r,i=e.c,o=t.c,a=e.s,s=t.s,l=e.e,c=t.e;if(!a||!s)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=l==c,!i||!o)return r?0:!i^n?1:-1;if(!r)return c<l^n?1:-1;for(s=(l=i.length)<(c=o.length)?l:c,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^n?1:-1;return l==c?0:c<l^n?1:-1}function v(e,t,n,r){if(e<t||n<e||e!==a(e))throw Error(s+(r||"Argument")+("number"==typeof e?e<t||n<e?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function y(e){var t=e.c.length-1;return m(e.e/u)==t&&e.c[t]%2!=0}function w(e,t){return(1<e.length?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function _(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(n=function e(t){var n,x,k,S,E,O,A,T,P,I,C,N=q.prototype={constructor:q,toString:null,valueOf:null},D=new q(1),B=20,L=4,M=-7,R=21,j=-1e7,U=1e7,z=!1,F=1,$=0,G={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Z="0123456789abcdefghijklmnopqrstuvwxyz";function q(e,t){var n,i,o,s,c,f,p,h,m=this;if(!(m instanceof q))return new q(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>U?m.c=m.e=null:e.e<j?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,c=e;10<=c;c/=10,s++);return void(U<s?m.c=m.e=null:(m.e=s,m.c=[e]))}h=String(e)}else{if(!r.test(h=String(e)))return k(m,h,f);m.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}-1<(s=h.indexOf("."))&&(h=h.replace(".","")),0<(c=h.search(/e/i))?(s<0&&(s=c),s+=+h.slice(c+1),h=h.substring(0,c)):s<0&&(s=h.length)}else{if(v(t,2,Z.length,"Base"),10==t)return J(m=new q(e),B+m.e+1,L);if(h=String(e),f="number"==typeof e){if(0*e!=0)return k(m,h,f,t);if(m.s=1/e<0?(h=h.slice(1),-1):1,q.DEBUG&&15<h.replace(/^0\.0*|\./,"").length)throw Error(l+e)}else m.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(n=Z.slice(0,t),s=c=0,p=h.length;c<p;c++)if(n.indexOf(i=h.charAt(c))<0){if("."==i){if(s<c){s=p;continue}}else if(!o&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){o=!0,c=-1,s=0;continue}return k(m,String(e),f,t)}f=!1,-1<(s=(h=x(h,t,10,m.s)).indexOf("."))?h=h.replace(".",""):s=h.length}for(c=0;48===h.charCodeAt(c);c++);for(p=h.length;48===h.charCodeAt(--p););if(h=h.slice(c,++p)){if(p-=c,f&&q.DEBUG&&15<p&&(d<e||e!==a(e)))throw Error(l+m.s*e);if((s=s-c-1)>U)m.c=m.e=null;else if(s<j)m.c=[m.e=0];else{if(m.e=s,m.c=[],c=(s+1)%u,s<0&&(c+=u),c<p){for(c&&m.c.push(+h.slice(0,c)),p-=u;c<p;)m.c.push(+h.slice(c,c+=u));c=u-(h=h.slice(c)).length}else c-=p;for(;c--;h+="0");m.c.push(+h)}}else m.c=[m.e=0]}function H(e,t,n,r){for(var i,o,a=[0],s=0,l=e.length;s<l;){for(o=a.length;o--;a[o]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),i=0;i<a.length;i++)a[i]>n-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/n|0,a[i]%=n)}return a.reverse()}function V(e,t,n){var r,i,o,a,s=0,l=e.length,c=t%p,u=t/p|0;for(e=e.slice();l--;)s=((i=c*(o=e[l]%p)+(r=u*o+(a=e[l]/p|0)*c)%p*p+s)/n|0)+(r/p|0)+u*a,e[l]=i%n;return s&&(e=[s].concat(e)),e}function K(e,t,n,r){var i,o;if(n!=r)o=r<n?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function W(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&1<e.length;e.splice(0,1));}function Y(e,t,n,r){var i,o,a,s,l;if(null==n?n=L:v(n,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)l=g(e.c),l=1==r||2==r&&(a<=M||R<=a)?w(l,a):_(l,a,"0");else if(o=(e=J(new q(e),t,n)).e,s=(l=g(e.c)).length,1==r||2==r&&(t<=o||o<=M)){for(;s<t;l+="0",s++);l=w(l,o)}else if(t-=a,l=_(l,o,"0"),s<o+1){if(0<--t)for(l+=".";t--;l+="0");}else if(0<(t+=o-s))for(o+1==s&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function Q(e,t){for(var n,r=1,i=new q(e[0]);r<e.length;r++){if(!(n=new q(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function X(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];10<=i;i/=10,r++);return(n=r+n*u-1)>U?e.c=e.e=null:n<j?e.c=[e.e=0]:(e.e=n,e.c=t),e}function J(e,t,n,r){var i,s,l,d,p,h,m,g=e.c,b=f;if(g){e:{for(i=1,d=g[0];10<=d;d/=10,i++);if((s=t-i)<0)s+=u,l=t,m=(p=g[h=0])/b[i-l-1]%10|0;else if((h=o((s+1)/u))>=g.length){if(!r)break e;for(;g.length<=h;g.push(0));p=m=0,l=(s%=u)-u+(i=1)}else{for(p=d=g[h],i=1;10<=d;d/=10,i++);m=(l=(s%=u)-u+i)<0?0:p/b[i-l-1]%10|0}if(r=r||t<0||null!=g[h+1]||(l<0?p:p%b[i-l-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):5<m||5==m&&(4==n||r||6==n&&(0<s?0<l?p/b[i-l]:0:g[h-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=b[(u-t%u)%u],e.e=-t||0):g[0]=e.e=0,e;if(0==s?(g.length=h,d=1,h--):(g.length=h+1,d=b[u-s],g[h]=0<l?a(p/b[i-l]%b[l])*d:0),r)for(;;){if(0==h){for(s=1,l=g[0];10<=l;l/=10,s++);for(l=g[0]+=d,d=1;10<=l;l/=10,d++);s!=d&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[h]+=d,g[h]!=c)break;g[h--]=0,d=1}for(s=g.length;0===g[--s];g.pop());}e.e>U?e.c=e.e=null:e.e<j&&(e.c=[e.e=0])}return e}function ee(e){var t,n=e.e;return null===n?e.toString():(t=g(e.c),t=n<=M||R<=n?w(t,n):_(t,n,"0"),e.s<0?"-"+t:t)}return q.clone=e,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(v(n=e[t],0,h,t),B=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(v(n=e[t],0,8,t),L=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(v(n[0],-h,0,t),v(n[1],0,h,t),M=n[0],R=n[1]):(v(n,-h,h,t),M=-(R=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)v(n[0],-h,-1,t),v(n[1],1,h,t),j=n[0],U=n[1];else{if(v(n,-h,h,t),!n)throw Error(s+t+" cannot be zero: "+n);j=-(U=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(s+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw z=!n,Error(s+"crypto unavailable");z=n}else z=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(v(n=e[t],0,9,t),F=n),e.hasOwnProperty(t="POW_PRECISION")&&(v(n=e[t],0,h,t),$=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(s+t+" not an object: "+n);G=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(s+t+" invalid: "+n);Z=n}}return{DECIMAL_PLACES:B,ROUNDING_MODE:L,EXPONENTIAL_AT:[M,R],RANGE:[j,U],CRYPTO:z,MODULO_MODE:F,POW_PRECISION:$,FORMAT:G,ALPHABET:Z}},q.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!q.DEBUG)return!0;var t,n,r=e.c,i=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&-h<=i&&i<=h&&i===a(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%u)<1&&(t+=u),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||c<=n||n!==a(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(s+"Invalid BigNumber: "+e)},q.maximum=q.max=function(){return Q(arguments,N.lt)},q.minimum=q.min=function(){return Q(arguments,N.gt)},q.random=(S=9007199254740992,E=Math.random()*S&2097151?function(){return a(Math.random()*S)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,l,c=0,d=[],p=new q(D);if(null==e?e=B:v(e,0,h),i=o(e/u),z)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));c<i;)9e15<=(l=131072*t[c]+(t[c+1]>>>11))?(n=crypto.getRandomValues(new Uint32Array(2)),t[c]=n[0],t[c+1]=n[1]):(d.push(l%1e14),c+=2);c=i/2}else{if(!crypto.randomBytes)throw z=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(i*=7);c<i;)9e15<=(l=281474976710656*(31&t[c])+1099511627776*t[c+1]+4294967296*t[c+2]+16777216*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])?crypto.randomBytes(7).copy(t,c):(d.push(l%1e14),c+=7);c=i/7}if(!z)for(;c<i;)(l=E())<9e15&&(d[c++]=l%1e14);for(i=d[--c],e%=u,i&&e&&(l=f[u-e],d[c]=a(i/l)*l);0===d[c];d.pop(),c--);if(c<0)d=[r=0];else{for(r=-1;0===d[0];d.splice(0,1),r-=u);for(c=1,l=d[0];10<=l;l/=10,c++);c<u&&(r-=u-c)}return p.e=r,p.c=d,p}),q.sum=function(){for(var e=1,t=arguments,n=new q(t[0]);e<t.length;)n=n.plus(t[e++]);return n},O="0123456789",x=function(e,t,r,i,o){var a,s,l,c,u,d,f,p,h=e.indexOf("."),m=B,b=L;for(0<=h&&(c=$,$=0,e=e.replace(".",""),d=(p=new q(t)).pow(e.length-h),$=c,p.c=H(_(g(d.c),d.e,"0"),10,r,O),p.e=p.c.length),l=c=(f=H(e,t,r,o?(a=Z,O):(a=O,Z))).length;0==f[--c];f.pop());if(!f[0])return a.charAt(0);if(h<0?--l:(d.c=f,d.e=l,d.s=i,f=(d=n(d,p,m,b,r)).c,u=d.r,l=d.e),h=f[s=l+m+1],c=r/2,u=u||s<0||null!=f[s+1],u=b<4?(null!=h||u)&&(0==b||b==(d.s<0?3:2)):c<h||h==c&&(4==b||u||6==b&&1&f[s-1]||b==(d.s<0?8:7)),s<1||!f[0])e=u?_(a.charAt(1),-m,a.charAt(0)):a.charAt(0);else{if(f.length=s,u)for(--r;++f[--s]>r;)f[s]=0,s||(++l,f=[1].concat(f));for(c=f.length;!f[--c];);for(h=0,e="";h<=c;e+=a.charAt(f[h++]));e=_(e,l,a.charAt(0))}return e},n=function(e,t,n,r,i){var o,s,l,d,f,p,h,g,b,v,y,w,_,x,k,S,E,O=e.s==t.s?1:-1,A=e.c,T=t.c;if(!(A&&A[0]&&T&&T[0]))return new q(e.s&&t.s&&(A?!T||A[0]!=T[0]:T)?A&&0==A[0]||!T?0*O:O/0:NaN);for(b=(g=new q(O)).c=[],O=n+(s=e.e-t.e)+1,i||(i=c,s=m(e.e/u)-m(t.e/u),O=O/u|0),l=0;T[l]==(A[l]||0);l++);if(T[l]>(A[l]||0)&&s--,O<0)b.push(1),d=!0;else{for(x=A.length,S=T.length,O+=2,1<(f=a(i/(T[l=0]+1)))&&(T=V(T,f,i),A=V(A,f,i),S=T.length,x=A.length),_=S,y=(v=A.slice(0,S)).length;y<S;v[y++]=0);E=T.slice(),E=[0].concat(E),k=T[0],T[1]>=i/2&&k++;do{if(f=0,(o=K(T,v,S,y))<0){if(w=v[0],S!=y&&(w=w*i+(v[1]||0)),1<(f=a(w/k)))for(i<=f&&(f=i-1),h=(p=V(T,f,i)).length,y=v.length;1==K(p,v,h,y);)f--,W(p,S<h?E:T,h,i),h=p.length,o=1;else 0==f&&(o=f=1),h=(p=T.slice()).length;if(h<y&&(p=[0].concat(p)),W(v,p,y,i),y=v.length,-1==o)for(;K(T,v,S,y)<1;)f++,W(v,S<y?E:T,y,i),y=v.length}else 0===o&&(f++,v=[0]);b[l++]=f,v[0]?v[y++]=A[_]||0:(v=[A[_]],y=1)}while((_++<x||null!=v[0])&&O--);d=null!=v[0],b[0]||b.splice(0,1)}if(i==c){for(l=1,O=b[0];10<=O;O/=10,l++);J(g,n+(g.e=l+s*u-1)+1,r,d)}else g.e=s,g.r=+d;return g},A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,P=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,C=/^\s*\+(?=[\w.])|^\s+|\s+$/g,k=function(e,t,n,r){var i,o=n?t:t.replace(C,"");if(I.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(A,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,o=o.replace(T,"$1").replace(P,"0.$1")),t!=o))return new q(o,i);if(q.DEBUG)throw Error(s+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},N.absoluteValue=N.abs=function(){var e=new q(this);return e.s<0&&(e.s=1),e},N.comparedTo=function(e,t){return b(this,new q(e,t))},N.decimalPlaces=N.dp=function(e,t){var n,r,i;if(null!=e)return v(e,0,h),null==t?t=L:v(t,0,8),J(new q(this),e+this.e+1,t);if(!(n=this.c))return null;if(r=((i=n.length-1)-m(this.e/u))*u,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},N.dividedBy=N.div=function(e,t){return n(this,new q(e,t),B,L)},N.dividedToIntegerBy=N.idiv=function(e,t){return n(this,new q(e,t),0,1)},N.exponentiatedBy=N.pow=function(e,t){var n,r,i,l,c,d,f,p,h=this;if((e=new q(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+ee(e));if(null!=t&&(t=new q(t)),c=14<e.e,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return p=new q(Math.pow(+ee(h),c?2-y(e):+ee(e))),t?p.mod(t):p;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new q(NaN);(r=!d&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(9<e.e&&(0<h.e||h.e<-1||(0==h.e?1<h.c[0]||c&&24e7<=h.c[1]:h.c[0]<8e13||c&&h.c[0]<=9999975e7)))return l=h.s<0&&y(e)?-0:0,-1<h.e&&(l=1/l),new q(d?1/l:l);$&&(l=o($/u+2))}for(f=c?(n=new q(.5),d&&(e.s=1),y(e)):(i=Math.abs(+ee(e)))%2,p=new q(D);;){if(f){if(!(p=p.times(h)).c)break;l?p.c.length>l&&(p.c.length=l):r&&(p=p.mod(t))}if(i){if(0===(i=a(i/2)))break;f=i%2}else if(J(e=e.times(n),e.e+1,1),14<e.e)f=y(e);else{if(0==(i=+ee(e)))break;f=i%2}h=h.times(h),l?h.c&&h.c.length>l&&(h.c.length=l):r&&(h=h.mod(t))}return r?p:(d&&(p=D.div(p)),t?p.mod(t):l?J(p,$,L,void 0):p)},N.integerValue=function(e){var t=new q(this);return null==e?e=L:v(e,0,8),J(t,t.e+1,e)},N.isEqualTo=N.eq=function(e,t){return 0===b(this,new q(e,t))},N.isFinite=function(){return!!this.c},N.isGreaterThan=N.gt=function(e,t){return 0<b(this,new q(e,t))},N.isGreaterThanOrEqualTo=N.gte=function(e,t){return 1===(t=b(this,new q(e,t)))||0===t},N.isInteger=function(){return!!this.c&&m(this.e/u)>this.c.length-2},N.isLessThan=N.lt=function(e,t){return b(this,new q(e,t))<0},N.isLessThanOrEqualTo=N.lte=function(e,t){return-1===(t=b(this,new q(e,t)))||0===t},N.isNaN=function(){return!this.s},N.isNegative=function(){return this.s<0},N.isPositive=function(){return 0<this.s},N.isZero=function(){return!!this.c&&0==this.c[0]},N.minus=function(e,t){var n,r,i,o,a=this,s=a.s;if(t=(e=new q(e,t)).s,!s||!t)return new q(NaN);if(s!=t)return e.s=-t,a.plus(e);var l=a.e/u,d=e.e/u,f=a.c,p=e.c;if(!l||!d){if(!f||!p)return f?(e.s=-t,e):new q(p?a:NaN);if(!f[0]||!p[0])return p[0]?(e.s=-t,e):new q(f[0]?a:3==L?-0:0)}if(l=m(l),d=m(d),f=f.slice(),s=l-d){for((i=(o=s<0)?(s=-s,f):(d=l,p)).reverse(),t=s;t--;i.push(0));i.reverse()}else for(r=(o=(s=f.length)<(t=p.length))?s:t,s=t=0;t<r;t++)if(f[t]!=p[t]){o=f[t]<p[t];break}if(o&&(i=f,f=p,p=i,e.s=-e.s),0<(t=(r=p.length)-(n=f.length)))for(;t--;f[n++]=0);for(t=c-1;s<r;){if(f[--r]<p[r]){for(n=r;n&&!f[--n];f[n]=t);--f[n],f[r]+=c}f[r]-=p[r]}for(;0==f[0];f.splice(0,1),--d);return f[0]?X(e,f,d):(e.s=3==L?-1:1,e.c=[e.e=0],e)},N.modulo=N.mod=function(e,t){var r,i,o=this;return e=new q(e,t),!o.c||!e.s||e.c&&!e.c[0]?new q(NaN):!e.c||o.c&&!o.c[0]?new q(o):(9==F?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,F),(e=o.minus(r.times(e))).c[0]||1!=F||(e.s=o.s),e)},N.multipliedBy=N.times=function(e,t){var n,r,i,o,a,s,l,d,f,h,g,b,v,y,w,_=this,x=_.c,k=(e=new q(e,t)).c;if(!(x&&k&&x[0]&&k[0]))return!_.s||!e.s||x&&!x[0]&&!k||k&&!k[0]&&!x?e.c=e.e=e.s=null:(e.s*=_.s,x&&k?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=m(_.e/u)+m(e.e/u),e.s*=_.s,(l=x.length)<(h=k.length)&&(v=x,x=k,k=v,i=l,l=h,h=i),i=l+h,v=[];i--;v.push(0));for(y=c,w=p,i=h;0<=--i;){for(n=0,g=k[i]%w,b=k[i]/w|0,o=i+(a=l);i<o;)n=((d=g*(d=x[--a]%w)+(s=b*d+(f=x[a]/w|0)*g)%w*w+v[o]+n)/y|0)+(s/w|0)+b*f,v[o--]=d%y;v[o]=n}return n?++r:v.splice(0,1),X(e,v,r)},N.negated=function(){var e=new q(this);return e.s=-e.s||null,e},N.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new q(e,t)).s,!i||!t)return new q(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/u,a=e.e/u,s=r.c,l=e.c;if(!o||!a){if(!s||!l)return new q(i/0);if(!s[0]||!l[0])return l[0]?e:new q(s[0]?r:0*i)}if(o=m(o),a=m(a),s=s.slice(),i=o-a){for((n=0<i?(a=o,l):(i=-i,s)).reverse();i--;n.push(0));n.reverse()}for((i=s.length)-(t=l.length)<0&&(n=l,l=s,s=n,t=i),i=0;t;)i=(s[--t]=s[t]+l[t]+i)/c|0,s[t]=c===s[t]?0:s[t]%c;return i&&(s=[i].concat(s),++a),X(e,s,a)},N.precision=N.sd=function(e,t){var n,r,i;if(null!=e&&e!==!!e)return v(e,1,h),null==t?t=L:v(t,0,8),J(new q(this),e,t);if(!(n=this.c))return null;if(r=(i=n.length-1)*u+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];10<=i;i/=10,r++);}return e&&this.e+1>r&&(r=this.e+1),r},N.shiftedBy=function(e){return v(e,-d,d),this.times("1e"+e)},N.squareRoot=N.sqrt=function(){var e,t,r,i,o,a=this,s=a.c,l=a.s,c=a.e,u=B+4,d=new q("0.5");if(1!==l||!s||!s[0])return new q(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);if((r=0==(l=Math.sqrt(+ee(a)))||l==1/0?(((t=g(s)).length+c)%2==0&&(t+="0"),l=Math.sqrt(+t),c=m((c+1)/2)-(c<0||c%2),new q(t=l==1/0?"1e"+c:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+c)):new q(l+"")).c[0])for((l=(c=r.e)+u)<3&&(l=0);;)if(o=r,r=d.times(o.plus(n(a,o,u,1))),g(o.c).slice(0,l)===(t=g(r.c)).slice(0,l)){if(r.e<c&&--l,"9999"!=(t=t.slice(l-3,l+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(J(r,r.e+B+2,1),e=!r.times(r).eq(a));break}if(!i&&(J(o,o.e+B+2,0),o.times(o).eq(a))){r=o;break}u+=4,l+=4,i=1}return J(r,r.e+B+1,L,e)},N.toExponential=function(e,t){return null!=e&&(v(e,0,h),e++),Y(this,e,t,1)},N.toFixed=function(e,t){return null!=e&&(v(e,0,h),e=e+this.e+1),Y(this,e,t)},N.toFormat=function(e,t,n){var r;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=G;else if("object"!=typeof n)throw Error(s+"Argument not an object: "+n);if(r=this.toFixed(e,t),this.c){var i,o=r.split("."),a=+n.groupSize,l=+n.secondaryGroupSize,c=n.groupSeparator||"",u=o[0],d=o[1],f=this.s<0,p=f?u.slice(1):u,h=p.length;if(l&&(i=a,a=l,h-=l=i),0<a&&0<h){for(i=h%a||a,u=p.substr(0,i);i<h;i+=a)u+=c+p.substr(i,a);0<l&&(u+=c+p.slice(i)),f&&(u="-"+u)}r=d?u+(n.decimalSeparator||"")+((l=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):u}return(n.prefix||"")+r+(n.suffix||"")},N.toFraction=function(e){var t,r,i,o,a,l,c,d,p,h,m,b,v=this,y=v.c;if(null!=e&&(!(c=new q(e)).isInteger()&&(c.c||1!==c.s)||c.lt(D)))throw Error(s+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+ee(c));if(!y)return new q(v);for(t=new q(D),p=r=new q(D),i=d=new q(D),b=g(y),a=t.e=b.length-v.e-1,t.c[0]=f[(l=a%u)<0?u+l:l],e=!e||0<c.comparedTo(t)?0<a?t:p:c,l=U,U=1/0,c=new q(b),d.c[0]=0;h=n(c,t,0,1),1!=(o=r.plus(h.times(i))).comparedTo(e);)r=i,i=o,p=d.plus(h.times(o=p)),d=o,t=c.minus(h.times(o=t)),c=o;return o=n(e.minus(r),i,0,1),d=d.plus(o.times(p)),r=r.plus(o.times(i)),d.s=p.s=v.s,m=n(p,i,a*=2,L).minus(v).abs().comparedTo(n(d,r,a,L).minus(v).abs())<1?[p,i]:[d,r],U=l,m},N.toNumber=function(){return+ee(this)},N.toPrecision=function(e,t){return null!=e&&v(e,1,h),Y(this,e,t,2)},N.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(t=null==e?i<=M||R<=i?w(g(n.c),i):_(g(n.c),i,"0"):10===e?_(g((n=J(new q(n),B+i+1,L)).c),n.e,"0"):(v(e,2,Z.length,"Base"),x(_(g(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},N.valueOf=N.toJSON=function(){return ee(this)},N._isBigNumber=!0,i&&(N[Symbol.toStringTag]="BigNumber",N[Symbol.for("nodejs.util.inspect.custom")]=N.valueOf),null!=t&&q.set(t),q}()).default=n.BigNumber=n,void 0!==t&&t.exports?t.exports=n:(e=e||("undefined"!=typeof self&&self?self:window)).BigNumber=n}(this)},{}],2:[function(e,t,n){t.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=e("./globalState"),o=e("./validating"),a=e("./parsing"),s={trillion:Math.pow(10,12),billion:Math.pow(10,9),million:Math.pow(10,6),thousand:Math.pow(10,3)},l={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},c=i.currentBytes(),u=c.binarySuffixes,d=c.decimalSuffixes,f={general:{scale:1024,suffixes:d,marker:"bd"},binary:{scale:1024,suffixes:u,marker:"b"},decimal:{scale:1e3,suffixes:d,marker:"d"}};function p(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if("string"==typeof t&&(t=a.parseFormat(t)),!o.validateFormat(t))return"ERROR: invalid format";var r=t.prefix||"",s=t.postfix||"",c=function(e,t,n){switch(t.output){case"currency":return function(e,t,n){var r=n.currentCurrency(),i=Object.assign({},l,t),o=void 0,a="",s=!!i.totalLength||!!i.forceAverage||i.average,c=t.currencyPosition||r.position,u=t.currencySymbol||r.symbol,d=void 0!==i.spaceSeparatedCurrency?i.spaceSeparatedCurrency:i.spaceSeparated;void 0===t.lowPrecision&&(t.lowPrecision=!1),d&&(a=" "),"infix"===c&&(o=a+u+a);var f=v({instance:e,providedFormat:t,state:n,decimalSeparator:o});return"prefix"===c&&(f=e._value<0&&"sign"===i.negative?"-".concat(a).concat(u).concat(f.slice(1)):0<e._value&&i.forceSign?"+".concat(a).concat(u).concat(f.slice(1)):u+a+f),c&&"postfix"!==c||(f=f+(a=!i.spaceSeparatedAbbreviation&&s?"":a)+u),f}(e,t=y(t,i.currentCurrencyDefaultFormat()),i);case"percent":return function(e,t,n,r){var i=t.prefixSymbol,o=v({instance:r(100*e._value),providedFormat:t,state:n}),a=Object.assign({},l,t);return i?"%".concat(a.spaceSeparated?" ":"").concat(o):"".concat(o).concat(a.spaceSeparated?" ":"","%")}(e,t=y(t,i.currentPercentageDefaultFormat()),i,n);case"byte":return function(e,t,n,r){var i=t.base||"binary",o=Object.assign({},l,t),a=n.currentBytes(),s=a.binarySuffixes,c=a.decimalSuffixes,f={general:{scale:1024,suffixes:c||d,marker:"bd"},binary:{scale:1024,suffixes:s||u,marker:"b"},decimal:{scale:1e3,suffixes:c||d,marker:"d"}}[i],p=h(e._value,f.suffixes,f.scale),m=p.value,g=p.suffix,b=v({instance:r(m),providedFormat:t,state:n,defaults:n.currentByteDefaultFormat()});return"".concat(b).concat(o.spaceSeparated?" ":"").concat(g)}(e,t=y(t,i.currentByteDefaultFormat()),i,n);case"time":return t=y(t,i.currentTimeDefaultFormat()),function(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),r=Math.round(e._value-60*t*60-60*n);return"".concat(t,":").concat(n<10?"0":"").concat(n,":").concat(r<10?"0":"").concat(r)}(e);case"ordinal":return function(e,t,n){var r=n.currentOrdinal(),i=Object.assign({},l,t),o=v({instance:e,providedFormat:t,state:n}),a=r(e._value);return"".concat(o).concat(i.spaceSeparated?" ":"").concat(a)}(e,t=y(t,i.currentOrdinalDefaultFormat()),i);case"number":default:return v({instance:e,providedFormat:t,numbro:n})}}(e,t,n);return(c=r+c)+s}function h(e,t,n){var r=t[0],i=Math.abs(e);if(n<=i){for(var o=1;o<t.length;++o){var a=Math.pow(n,o),s=Math.pow(n,o+1);if(a<=i&&i<s){r=t[o],e/=a;break}}r===t[0]&&(e/=Math.pow(n,t.length-1),r=t[t.length-1])}return{value:e,suffix:r}}function m(e){for(var t="",n=0;n<e;n++)t+="0";return t}function g(e,t,n){var i=2<arguments.length&&void 0!==n?n:Math.round;return-1!==e.toString().indexOf("e")?function(e,t){var n=e.toString(),i=r(n.split("e"),2),o=i[0],a=i[1],s=r(o.split("."),2),l=s[0],c=s[1],u=void 0===c?"":c;if(0<+a)n=l+u+m(a-u.length);else{var d=".";d=+l<0?"-0".concat(d):"0".concat(d);var f=(m(-a-1)+Math.abs(l)+u).substr(0,t);f.length<t&&(f+=m(t-f.length)),n=d+f}return 0<+a&&0<t&&(n+=".".concat(m(t))),n}(e,t):(i(+"".concat(e,"e+").concat(t))/Math.pow(10,t)).toFixed(t)}function b(e,t,n,r,i){var o=r.currentDelimiters(),a=o.thousands;i=i||o.decimal;var s=o.thousandsSize||3,l=e.toString(),c=l.split(".")[0],u=l.split(".")[1],d=t<0&&0===c.indexOf("-");return n&&(d&&(c=c.slice(1)),function(e,t){for(var n=[],r=0,i=e;0<i;i--)r===t&&(n.unshift(i),r=0),r++;return n}(c.length,s).forEach((function(e,t){c=c.slice(0,e+t)+a+c.slice(e+t)})),d&&(c="-".concat(c))),u?c+i+u:c}function v(e){var t=e.instance,n=e.providedFormat,o=e.state,a=void 0===o?i:o,c=e.decimalSeparator,u=e.defaults,d=void 0===u?a.currentDefaults():u,f=t._value;if(0===f&&a.hasZeroFormat())return a.getZeroFormat();if(!isFinite(f))return f.toString();var p,h,m,v,y,w,_,x,k=Object.assign({},l,d,n),S=k.totalLength,E=S?0:k.characteristic,O=k.optionalCharacteristic,A=k.forceAverage,T=k.lowPrecision,P=!!S||!!A||k.average,I=S?-1:P&&void 0===n.mantissa?0:k.mantissa,C=!S&&(void 0===n.optionalMantissa?-1===I:k.optionalMantissa),N=k.trimMantissa,D=k.thousandSeparated,B=k.spaceSeparated,L=k.negative,M=k.forceSign,R=k.exponential,j=k.roundingFunction,U="";if(P){var z=function(e){var t=e.value,n=e.forceAverage,r=e.lowPrecision,i=void 0===r||r,o=e.abbreviations,a=e.spaceSeparated,l=void 0!==a&&a,c=e.totalLength,u=void 0===c?0:c,d=e.roundingFunction,f=void 0===d?Math.round:d,p="",h=Math.abs(t),m=-1;if(n&&o[n]&&s[n]?(p=o[n],t/=s[n]):h>=s.trillion||i&&1===f(h/s.trillion)?(p=o.trillion,t/=s.trillion):h<s.trillion&&h>=s.billion||i&&1===f(h/s.billion)?(p=o.billion,t/=s.billion):h<s.billion&&h>=s.million||i&&1===f(h/s.million)?(p=o.million,t/=s.million):(h<s.million&&h>=s.thousand||i&&1===f(h/s.thousand))&&(p=o.thousand,t/=s.thousand),p=p&&(l?" ":"")+p,u){var g=t<0,b=t.toString().split(".")[0],v=g?b.length-1:b.length;m=Math.max(u-v,0)}return{value:t,abbreviation:p,mantissaPrecision:m}}({value:f,forceAverage:A,lowPrecision:T,abbreviations:a.currentAbbreviations(),spaceSeparated:B,roundingFunction:j,totalLength:S});f=z.value,U+=z.abbreviation,S&&(I=z.mantissaPrecision)}if(R){var F=(h=(p={value:f,characteristicPrecision:E}).value,v=void 0===(m=p.characteristicPrecision)?0:m,w=(y=r(h.toExponential().split("e"),2))[0],_=y[1],x=+w,v&&1<v&&(x*=Math.pow(10,v-1),_=0<=(_-=v-1)?"+".concat(_):_),{value:x,abbreviation:"e".concat(_)});f=F.value,U=F.abbreviation+U}var $,G,Z,q=function(e,t,n,i,o,a){if(-1===i)return e;var s=g(t,i,a),l=r(s.toString().split("."),2),c=l[0],u=l[1],d=void 0===u?"":u;if(d.match(/^0+$/)&&(n||o))return c;var f=d.match(/0+$/);return o&&f?"".concat(c,".").concat(d.toString().slice(0,f.index)):s.toString()}(f.toString(),f,C,I,N,j);return q=b(q=function(e,t,n,i){var o=e,a=r(o.toString().split("."),2),s=a[0],l=a[1];if(s.match(/^-?0$/)&&n)return l?"".concat(s.replace("0",""),".").concat(l):s.replace("0","");var c=t<0&&0===s.indexOf("-");if(c&&(s=s.slice(1),o=o.slice(1)),s.length<i)for(var u=i-s.length,d=0;d<u;d++)o="0".concat(o);return c&&(o="-".concat(o)),o.toString()}(q,f,O,E),f,D,a,c),(P||R)&&(q+=U),(M||f<0)&&($=q,Z=L,q=0===(G=f)?$:0==+$?$.replace("-",""):0<G?"+".concat($):"sign"===Z?$:"(".concat($.replace("-",""),")")),q}function y(e,t){if(!e)return t;var n=Object.keys(e);return 1===n.length&&"output"===n[0]?t:e}t.exports=function(e){return{format:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p.apply(void 0,n.concat([e]))},getByteUnit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e){var t=f.general;return h(e._value,t.suffixes,t.scale).suffix}.apply(void 0,n.concat([e]))},getBinaryByteUnit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e){var t=f.binary;return h(e._value,t.suffixes,t.scale).suffix}.apply(void 0,n.concat([e]))},getDecimalByteUnit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e){var t=f.decimal;return h(e._value,t.suffixes,t.scale).suffix}.apply(void 0,n.concat([e]))},formatOrDefault:y}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(e,t,n){var r=e("./en-US"),i=e("./validating"),o=e("./parsing"),a={},s=void 0,l={},c=null,u={};function d(e){s=e}function f(){return l[s]}a.languages=function(){return Object.assign({},l)},a.currentLanguage=function(){return s},a.currentBytes=function(){return f().bytes||{}},a.currentCurrency=function(){return f().currency},a.currentAbbreviations=function(){return f().abbreviations},a.currentDelimiters=function(){return f().delimiters},a.currentOrdinal=function(){return f().ordinal},a.currentDefaults=function(){return Object.assign({},f().defaults,u)},a.currentOrdinalDefaultFormat=function(){return Object.assign({},a.currentDefaults(),f().ordinalFormat)},a.currentByteDefaultFormat=function(){return Object.assign({},a.currentDefaults(),f().byteFormat)},a.currentPercentageDefaultFormat=function(){return Object.assign({},a.currentDefaults(),f().percentageFormat)},a.currentCurrencyDefaultFormat=function(){return Object.assign({},a.currentDefaults(),f().currencyFormat)},a.currentTimeDefaultFormat=function(){return Object.assign({},a.currentDefaults(),f().timeFormat)},a.setDefaults=function(e){e=o.parseFormat(e),i.validateFormat(e)&&(u=e)},a.getZeroFormat=function(){return c},a.setZeroFormat=function(e){return c="string"==typeof e?e:null},a.hasZeroFormat=function(){return null!==c},a.languageData=function(e){if(e){if(l[e])return l[e];throw new Error('Unknown tag "'.concat(e,'"'))}return f()},a.registerLanguage=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!i.validateLanguage(e))throw new Error("Invalid language data");l[e.languageTag]=e,t&&d(e.languageTag)},a.setLanguage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:r.languageTag;if(!l[e]){var n=e.split("-")[0],i=Object.keys(l).find((function(e){return e.split("-")[0]===n}));return l[i]?void d(i):void d(t)}d(e)},a.registerLanguage(r),s=r.languageTag,t.exports=a},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(e,t,n){t.exports=function(t){return{loadLanguagesInNode:function(n){return r=t,void n.forEach((function(t){var n=void 0;try{n=e("../languages/".concat(t))}catch(n){console.error('Unable to load "'.concat(t,'". No matching language file found.'))}n&&r.registerLanguage(n)}));var r}}}},{}],6:[function(e,t,n){var r=e("bignumber.js");function i(e,t,n){var i=new r(e._value),o=t;return n.isNumbro(t)&&(o=t._value),o=new r(o),e._value=i.minus(o).toNumber(),e}t.exports=function(e){return{add:function(t,n){return o=n,a=e,s=new r((i=t)._value),l=o,a.isNumbro(o)&&(l=o._value),l=new r(l),i._value=s.plus(l).toNumber(),i;var i,o,a,s,l},subtract:function(t,n){return i(t,n,e)},multiply:function(t,n){return o=n,a=e,s=new r((i=t)._value),l=o,a.isNumbro(o)&&(l=o._value),l=new r(l),i._value=s.times(l).toNumber(),i;var i,o,a,s,l},divide:function(t,n){return o=n,a=e,s=new r((i=t)._value),l=o,a.isNumbro(o)&&(l=o._value),l=new r(l),i._value=s.dividedBy(l).toNumber(),i;var i,o,a,s,l},set:function(t,n){return r=t,o=i=n,e.isNumbro(i)&&(o=i._value),r._value=o,r;var r,i,o},difference:function(t,n){return r=n,i(a=(o=e)(t._value),r,o),Math.abs(a._value);var r,o,a},BigNumber:r}}},{"bignumber.js":1}],7:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("./globalState"),o=e("./validating"),a=e("./loading")(p),s=e("./unformatting"),l=e("./formatting")(p),c=e("./manipulating")(p),u=e("./parsing"),d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._value=t}var t;return(t=[{key:"clone",value:function(){return p(this._value)}},{key:"format",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};return l.format(this,t)}},{key:"formatCurrency",value:function(e){return"string"==typeof e&&(e=u.parseFormat(e)),(e=l.formatOrDefault(e,i.currentCurrencyDefaultFormat())).output="currency",l.format(this,e)}},{key:"formatTime",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};return t.output="time",l.format(this,t)}},{key:"binaryByteUnits",value:function(){return l.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return l.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return l.getByteUnit(this)}},{key:"difference",value:function(e){return c.difference(this,e)}},{key:"add",value:function(e){return c.add(this,e)}},{key:"subtract",value:function(e){return c.subtract(this,e)}},{key:"multiply",value:function(e){return c.multiply(this,e)}},{key:"divide",value:function(e){return c.divide(this,e)}},{key:"set",value:function(e){return c.set(this,f(e))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&r(e.prototype,t),e}();function f(e){var t=e;return p.isNumbro(e)?t=e._value:"string"==typeof e?t=p.unformat(e):isNaN(e)&&(t=NaN),t}function p(e){return new d(f(e))}p.version="2.3.2",p.isNumbro=function(e){return e instanceof d},p.language=i.currentLanguage,p.registerLanguage=i.registerLanguage,p.setLanguage=i.setLanguage,p.languages=i.languages,p.languageData=i.languageData,p.zeroFormat=i.setZeroFormat,p.defaultFormat=i.currentDefaults,p.setDefaults=i.setDefaults,p.defaultCurrencyFormat=i.currentCurrencyDefaultFormat,p.validate=o.validate,p.loadLanguagesInNode=a.loadLanguagesInNode,p.unformat=s.unformat,p.BigNumber=c.BigNumber,t.exports=p},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(e,t,n){t.exports={parseFormat:function(e){var t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,b,v,y,w,_,x,k=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof e?e:(n=k,o=k,function(e,t){if(-1===e.indexOf("$")){if(-1===e.indexOf("%"))return-1!==e.indexOf("bd")?(t.output="byte",t.base="general"):-1!==e.indexOf("b")?(t.output="byte",t.base="binary"):-1!==e.indexOf("d")?(t.output="byte",t.base="decimal"):-1===e.indexOf(":")?-1!==e.indexOf("o")&&(t.output="ordinal"):t.output="time";t.output="percent"}else t.output="currency"}(e=(a=(i=e=(r=(t=e).match(/^{([^}]*)}/))?(n.prefix=r[1],t.slice(r[0].length)):t).match(/{([^}]*)}$/))?(o.postfix=a[1],i.slice(0,-a[0].length)):i,k),s=k,(l=e.match(/[1-9]+[0-9]*/))&&(s.totalLength=+l[0]),c=k,(u=e.split(".")[0].match(/0+/))&&(c.characteristic=u[0].length),function(e,t){if(-1!==e.indexOf(".")){var n=e.split(".")[0];t.optionalCharacteristic=-1===n.indexOf("0")}}(e,k),d=k,-1!==e.indexOf("a")&&(d.average=!0),p=k,-1!==(f=e).indexOf("K")?p.forceAverage="thousand":-1!==f.indexOf("M")?p.forceAverage="million":-1!==f.indexOf("B")?p.forceAverage="billion":-1!==f.indexOf("T")&&(p.forceAverage="trillion"),function(e,t){var n=e.split(".")[1];if(n){var r=n.match(/0+/);r&&(t.mantissa=r[0].length)}}(e,k),m=k,(h=e).match(/\[\.]/)?m.optionalMantissa=!0:h.match(/\./)&&(m.optionalMantissa=!1),g=k,(b=e.split(".")[1])&&(g.trimMantissa=-1!==b.indexOf("[")),v=k,-1!==e.indexOf(",")&&(v.thousandSeparated=!0),y=k,-1!==e.indexOf(" ")&&(y.spaceSeparated=!0,y.spaceSeparatedCurrency=!0,(y.average||y.forceAverage)&&(y.spaceSeparatedAbbreviation=!0)),_=k,(w=e).match(/^\+?\([^)]*\)$/)&&(_.negative="parenthesis"),w.match(/^\+?-/)&&(_.negative="sign"),x=k,e.match(/^\+/)&&(x.forceSign=!0),k)}}},{}],9:[function(e,t,n){var r=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function i(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(e,t,n,o,a,s,l){var c=2<arguments.length&&void 0!==n?n:"",u=3<arguments.length?o:void 0,d=4<arguments.length?a:void 0,f=5<arguments.length?s:void 0,p=6<arguments.length?l:void 0;if(""!==e)return e===d?0:function e(t,n,o,a,s,l,c){var u=2<arguments.length&&void 0!==o?o:"",d=3<arguments.length?a:void 0,f=4<arguments.length?s:void 0,p=5<arguments.length?l:void 0,h=6<arguments.length?c:void 0;if(!isNaN(+t))return+t;var m="",g=t.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(g!==t)return-1*e(g,n,u,d,f,p,h);for(var b=0;b<r.length;b++){var v=r[b];if((m=t.replace(v.key,""))!==t)return e(m,n,u,d,f,p,h)*v.factor}if((m=t.replace("%",""))!==t)return e(m,n,u,d,f,p,h)/100;var y=parseFloat(t);if(!isNaN(y)){var w=d(y);if(w&&"."!==w&&(m=t.replace(new RegExp("".concat(i(w),"$")),""))!==t)return e(m,n,u,d,f,p,h);var _={};Object.keys(p).forEach((function(e){_[p[e]]=e}));for(var x=Object.keys(_).sort().reverse(),k=x.length,S=0;S<k;S++){var E=x[S],O=_[E];if((m=t.replace(E,""))!==t){var A=void 0;switch(O){case"thousand":A=Math.pow(10,3);break;case"million":A=Math.pow(10,6);break;case"billion":A=Math.pow(10,9);break;case"trillion":A=Math.pow(10,12)}return e(m,n,u,d,f,p,h)*A}}}}(function(e,t,n){var r=2<arguments.length&&void 0!==n?n:"",o=e.replace(r,"");return(o=o.replace(new RegExp("([0-9])".concat(i(t.thousands),"([0-9])"),"g"),"$1$2")).replace(t.decimal,".")}(e,t,c),t,c,u,d,f,p)}t.exports={unformat:function(t,n){var r,i,a,s=e("./globalState"),l=s.currentDelimiters(),c=s.currentCurrency().symbol,u=s.currentOrdinal(),d=s.getZeroFormat(),f=s.currentAbbreviations(),p=void 0;if("string"==typeof t)p=function(e,t){if(e.indexOf(":")&&":"!==t.thousands){var n=e.split(":");if(3===n.length){var r=+n[0],i=+n[1],o=+n[2];return!isNaN(r)&&!isNaN(i)&&!isNaN(o)}}}(t,l)?(i=+(r=t.split(":"))[0],a=+r[1],+r[2]+60*a+3600*i):o(t,l,c,u,d,f,n);else{if("number"!=typeof t)return;p=t}if(void 0!==p)return p}}},{"./globalState":4}],10:[function(e,t,n){function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=e("./unformatting"),a=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,s={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(e,t){return"byte"===t.output},message:"`base` must be provided only when the output is `byte`",mandatory:function(e){return"byte"===e.output}},characteristic:{type:"number",restriction:function(e){return 0<=e},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",lowPrecision:{type:"boolean",restriction:function(e,t){return!0===t.average},message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(e){return 0<=e},message:"value must be positive"},{restriction:function(e,t){return!t.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(e){return 0<=e},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(e,t){return"percent"===t.output},message:"`prefixSymbol` can be provided only when the output is `percent`"}},l={languageTag:{type:"string",mandatory:!0,restriction:function(e){return e.match(a)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function c(e){return void 0!==o.unformat(e)}function u(e,t,n,o){var a=3<arguments.length&&void 0!==o&&o,l=Object.keys(e).map((function(r){if(!t[r])return console.error("".concat(n," Invalid key: ").concat(r)),!1;var o=e[r],a=t[r];if("string"==typeof a&&(a={type:a}),"format"===a.type){if(!u(o,s,"[Validate ".concat(r,"]"),!0))return!1}else if(i(o)!==a.type)return console.error("".concat(n," ").concat(r,' type mismatched: "').concat(a.type,'" expected, "').concat(i(o),'" provided')),!1;if(a.restrictions&&a.restrictions.length)for(var l=a.restrictions.length,c=0;c<l;c++){var d=a.restrictions[c],f=d.restriction,p=d.message;if(!f(o,e))return console.error("".concat(n," ").concat(r," invalid value: ").concat(p)),!1}return a.restriction&&!a.restriction(o,e)?(console.error("".concat(n," ").concat(r," invalid value: ").concat(a.message)),!1):a.validValues&&-1===a.validValues.indexOf(o)?(console.error("".concat(n," ").concat(r," invalid value: must be among ").concat(JSON.stringify(a.validValues),', "').concat(o,'" provided')),!1):!(a.children&&!u(o,a.children,"[Validate ".concat(r,"]")))}));return a||l.push.apply(l,r(Object.keys(t).map((function(r){var i=t[r];if("string"==typeof i&&(i={type:i}),i.mandatory){var o=i.mandatory;if("function"==typeof o&&(o=o(e)),o&&void 0===e[r])return console.error("".concat(n,' Missing mandatory key "').concat(r,'"')),!1}return!0})))),l.reduce((function(e,t){return e&&t}),!0)}function d(e){return u(e,s,"[Validate format]")}t.exports={validate:function(e,t){var n=c(e),r=d(t);return n&&r},validateFormat:d,validateInput:c,validateLanguage:function(e){return u(e,l,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7),Oe={exports:{}},Ae={onCopy:"copy",onCut:"cut",onPaste:"paste",onCompositionEnd:"compositionend",onCompositionStart:"compositionstart",onCompositionUpdate:"compositionupdate",onKeyDown:"keydown",onKeyPress:"keypress",onKeyUp:"keyup",onFocus:"focus",onBlur:"blur",onChange:"change",onInput:"input",onSubmit:"submit",onClick:"click",onContextMenu:"contextmenu",onDoubleClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragEnter:"dragenter",onDragExit:"dragexit",onDragLeave:"dragleave",onDragOver:"dragover",onDragStart:"dragstart",onDrop:"drop",onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onSelect:"select",onTouchCancel:"touchcancel",onTouchEnd:"touchend",onTouchMove:"touchmove",onTouchStart:"touchstart",onScroll:"scroll",onWheel:"wheel",onAbort:"abort",onCanPlay:"canplay",onCanPlayThrough:"canplaythrough",onDurationChange:"durationchange",onEmptied:"emptied",onEncrypted:"encrypted",onEnded:"ended",onError:"error",onLoadedData:"loadeddata",onLoadedMetadata:"loadedmetadata",onLoadStart:"loadstart",onPause:"pause",onPlay:"play",onPlaying:"playing",onProgress:"progress",onRateChange:"ratechange",onSeeked:"seeked",onSeeking:"seeking",onStalled:"stalled",onSuspend:"suspend",onTimeUpdate:"timeupdate",onVolumeChange:"volumechange",onWaiting:"waiting",onLoad:"load",onAnimationStart:"animationstart",onAnimationEnd:"animationend",onAnimationIteration:"animationiteration",onTransitionEnd:"transitionend"},Te=new Set(["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]);const Pe=Ae,Ie=Te;function Ce(e,t,...n){let r=[];for(let e=0;e<n.length;){const t=n[e];switch(typeof t){case"string":case"number":n[e]={text:t},e++;break;case"object":Array.isArray(t)?n.splice(e,1,...t):t?(t.context||(r.push(t),t.ambiguous&&t.ambiguous.length&&(r=r.concat(t.ambiguous))),e++):n.splice(e,1);break;default:throw new Error(`Invalid child node: ${t}`)}}if(t){for(const e in t){const n=Pe[e];n&&(t.on||(t.on={}),t.on[n]=t[e])}t.class&&(t.className=t.class)}return{tag:e,props:t,children:n,ambiguous:r}}const Ne=["a","abbr","address","article","aside","audio","b","bdi","bdo","blockquote","body","button","canvas","caption","cite","code","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","html","i","iframe","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","noscript","object","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","u","ul","var","video","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];for(const e of Ne)Ce[e]=(t,...n)=>Ce(e,t,...n);for(const e of Ie)Ce[e]=(t,...n)=>Ce(e,t,...n);var De=Ce,Be=new Map([["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["className","class"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["panose1","panose-1"],["paintOrder","paint-order"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xHeight","x-height"]]),Le=function(e,t,n,r){n!==t&&("function"==typeof t?t(null):t&&r[t]===e&&delete r[t],"function"==typeof n?n(e):n&&(r[n]=e))};const Me=Ae,Re=Te,je=Be,Ue=Le;var ze=function(e,t,n,r){const i=t&&t.props,o=n.props;let a,s;r&&(a=r.refs,s=r.listenerContext),Fe(e,t,i,n,o),a&&Ue(e,i&&i.ref,o&&o.ref,a),function(e,t,n,r){const i=t&&t.props&&t.props.on,o=n.props&&n.props.on;for(const n in i)if(!o||!(n in o)){let r;r=t&&t.boundListeners&&t.boundListeners[n]?t.boundListeners[n]:i[n],e.removeEventListener(n,r)}for(const a in o){const s=i&&i[a],l=o[a];if(l!==s){if(s){let n;n=t&&t.boundListeners&&t.boundListeners[a]?t.boundListeners[a]:s,e.removeEventListener(a,n)}if(l){let t;r?(t=l.bind(r),n.boundListeners||(n.boundListeners={}),n.boundListeners[a]=t):t=l,e.addEventListener(a,t)}}}}(e,t,n,s)};function Fe(e,t,n,r,i){if(n)for(var o in n)"ref"!==o&&"on"!==o&&(o in Me||i&&o in i||("dataset"===o?Fe(e.dataset,null,n&&n.dataset,null,null):"innerHTML"!==o&&t&&Re.has(t.tag)?e.removeAttribute(je.get(o)||o):(e[o]="",delete e[o])));if(i)for(var o in i)if("ref"!==o&&"on"!==o&&!(o in Me)){var a=n&&n[o],s=i[o];"dataset"===o?$e(e.dataset,a,s,!1):"style"===o&&"string"!=typeof s?("string"==typeof a&&(e.style="",a=null),$e(e.style,a,s,!0)):"attributes"===o?Ge(e,a,s):s!==a&&("innerHTML"!==o&&r&&Re.has(r.tag)?e.setAttribute(je.get(o)||o,s):r&&"input"===r.tag&&"value"===o&&e[o]===s||(e[o]=s))}}function $e(e,t,n,r){if(t)for(var i in t)n&&i in n||(r?e[i]="":delete e[i]);if(n)for(var i in n){const r=t&&t[i],o=n[i];o!==r&&(e[i]=o)}}function Ge(e,t,n){if(t)for(var r in t)n&&r in n||e.removeAttribute(r);if(n)for(var r in n){const i=t&&t[r],o=n[r];o!==i&&e.setAttribute(r,o)}}const Ze=ze,qe=Te;function He(e,t){let n;if(null!=e.text)n=document.createTextNode(e.text);else{const{tag:r,children:i}=e;let{props:o,context:a}=e;if(a&&(t={refs:a.refs,listenerContext:a}),"function"==typeof r){let a;o&&o.ref&&(a=o.ref);const s=new r(o||{},i);e.component=s,n=s.element,"function"==typeof a?a(s):t&&t.refs&&a&&(t.refs[a]=s)}else qe.has(r)?(n=document.createElementNS("http://www.w3.org/2000/svg",r),i&&Ve(n,i,t),o&&Ze(n,null,e,t)):(n=document.createElement(r),i&&Ve(n,i,t),o&&Ze(n,null,e,t))}return e.domNode=n,n}function Ve(e,t,n){for(let r=0;r<t.length;r++)e.appendChild(He(t[r],n))}var Ke=He;const We=Ke,Ye=ze,Qe=Le;function Xe(e,t,n){const r=e.domNode;if(t===e)return r;if(tt(e,t)){let i;return null!=t.text?(r.nodeValue=t.text,i=r):"function"==typeof t.tag?i=function(e,t,n){const{component:r,props:i}=e;let{props:o,children:a}=t;t.component=r;const s=n&&n.refs;s&&Qe(r,i&&i.ref,o&&o.ref,s);return r.update(o||{},a),r.element}(e,t,n):(!function(e,t,n,r){var i,o=0,a=t.length-1,s=t[0],l=t[a],c=0,u=n.length-1,d=n[0],f=n[u];for(;o<=a&&c<=u;)if(s)if(l)if(tt(s,d))Xe(s,d,r),s=t[++o],d=n[++c];else if(tt(l,f))Xe(l,f,r),l=t[--a],f=n[--u];else if(tt(s,f))Xe(s,f,r),e.insertBefore(s.domNode,l.domNode.nextSibling),s=t[++o],f=n[--u];else if(tt(l,d))Xe(l,d,r),e.insertBefore(l.domNode,s.domNode),l=t[--a],d=n[++c];else{i||(Je.length>0?(i=Je.pop()).clear():i=new Map,rt(i,t,o,a));var p=nt(d),h=p?i.get(p):null;if(null==h)e.insertBefore(We(d,r),s.domNode),d=n[++c];else{var m=t[h];Xe(m,d,r),t[h]=void 0,e.insertBefore(m.domNode,s.domNode),d=n[++c]}}else l=t[--a];else s=t[++o];if(o>a){var g=n[u+1]?n[u+1].domNode:null;for(let t=c;t<=u;t++)e.insertBefore(We(n[t],r),g)}else if(c>u)for(let e=o;e<=a;e++){var b=t[e];b&&et(b,r&&r.refs)}i&&Je.push(i)}(r,e.children,t.children,n),Ye(r,e,t,n),i=r),t.domNode=i,i!==r&&r.parentNode&&r.parentNode.replaceChild(i,r),i}{const i=r.parentNode,o=r.nextSibling;et(e,n&&n.refs);const a=We(t,n);return i&&i.insertBefore(a,o),t.domNode=a,a}}let Je=[new Map,new Map,new Map,new Map];function et(e,t,n=!0){const{domNode:r,props:i,children:o,component:a}=e,s=i&&i.ref;if(a)"function"==typeof s?s(null):t&&s&&t[s]===a&&delete t[s],a.destroy&&a.destroy();else if("function"==typeof s?s(null):t&&s&&t[s]===r&&delete t[s],o)for(let e=0;e<o.length;e++)et(o[e],t,!1);n&&r.remove()}function tt(e,t){return nt(e)===nt(t)&&e.tag===t.tag}function nt(e){return e.props?e.props.key:void 0}function rt(e,t,n,r){for(let i=n;i<=r;i++){const n=nt(t[i]);n&&e.set(n,i)}return e}var it=Xe,ot={};const at=class{constructor(){this.updateRequests=[],this.readRequests=[],this.pendingAnimationFrame=null,this.performUpdates=this.performUpdates.bind(this),this.performingUpdates=!1}updateDocument(e){this.updateRequests.push(e),this.pendingAnimationFrame||(this.pendingAnimationFrame=window.requestAnimationFrame(this.performUpdates))}readDocument(e){this.readRequests.push(e),this.pendingAnimationFrame||(this.pendingAnimationFrame=window.requestAnimationFrame(this.performUpdates))}getNextUpdatePromise(){return this.nextUpdatePromise||(this.nextUpdatePromise=new Promise((e=>{this.resolveNextUpdatePromise=e}))),this.nextUpdatePromise}performUpdates(){for(;this.updateRequests.length>0;)this.updateRequests.shift()();for(this.pendingAnimationFrame=null;this.readRequests.length>0;)this.readRequests.shift()();if(this.nextUpdatePromise){let e=this.resolveNextUpdatePromise;this.nextUpdatePromise=null,this.resolveNextUpdatePromise=null,e()}}};let st=null;ot.setScheduler=function(e){st=e},ot.getScheduler=function(){return st||(st=new at),st};const lt=Ke,ct=it,{getScheduler:ut}=ot,dt=new WeakSet;let ft=0,pt=0;function ht(e){return null!=e&&!1!==e}function mt(e,t){t.context=e,t.ambiguous&&(t.ambiguous.forEach((t=>{t.context=e})),delete t.ambiguous)}function gt(e,t=!0){if(!ht(e.virtualNode))throw new Error(`${e.constructor?e.constructor.name+" instance":e} is not associated with a valid virtualNode. Perhaps this component was never initialized?`);if(null==e.element)throw new Error(`${e.constructor?e.constructor.name+" instance":e} is not associated with a DOM element. Perhaps this component was never initialized?`);let n=e.render();if(!ht(n)){const t=e.constructor&&e.constructor.name?" in "+e.constructor.name:"";throw new Error("invalid falsy value "+n+" returned from render()"+t)}mt(e,n),ft++;let r=e.virtualNode,i=e.element,o=ct(r,n,{refs:e.refs,listenerContext:e});if(e.virtualNode=n,o!==i&&!t)throw new Error("The root node type changed on update, but the update was performed with the replaceNode option set to false");e.element=o,"function"==typeof e.writeAfterUpdate&&e.writeAfterUpdate(),"function"==typeof e.readAfterUpdate&&ut().readDocument((function(){e.readAfterUpdate()})),ft--}function bt(e,t=!0){pt++,vt(e.virtualNode),1===pt&&t&&e.element.remove(),pt--}function vt(e){e.component&&"function"==typeof e.component.destroy?e.component.destroy():e.children&&e.children.forEach(vt)}var yt={initialize:function(e){if("function"!=typeof e.update)throw new Error("Etch components must implement `update(props, children)`.");let t=e.render();if(!ht(t)){let n=e.constructor&&e.constructor.name?" in "+e.constructor.name:"";throw new Error("invalid falsy value "+t+" returned from render()"+n)}mt(e,t),e.refs={},e.virtualNode=t,e.element=lt(e.virtualNode,{refs:e.refs,listenerContext:e})},update:function(e,t=!0){if(ft>0)return gt(e,t),Promise.resolve();let n=ut();return dt.has(e)||(dt.add(e),n.updateDocument((function(){dt.delete(e),gt(e,t)}))),n.getNextUpdatePromise()},updateSync:gt,destroy:function(e,t=!0){if(ft>0||pt>0)return bt(e,t),Promise.resolve();let n=ut();return n.updateDocument((function(){bt(e,t)})),n.getNextUpdatePromise()},destroySync:bt};const wt=De,_t=Ke,{initialize:xt,update:kt,updateSync:St,destroy:Et,destroySync:Ot}=yt,{setScheduler:At,getScheduler:Tt}=ot;var Pt,It={dom:wt,render:_t,initialize:xt,update:kt,updateSync:St,destroy:Et,destroySync:Ot,setScheduler:At,getScheduler:Tt},Ct={exports:{}},Nt={};Pt=Nt,function(){var e,t;e=y.default.sep,Pt.basenameScore=function(t,n,r){var i,o,a,s,l;for(o=t.length-1;t[o]===e;)o--;for(l=0,a=o,i=null;o>=0;)t[o]===e?(l++,null==i&&(i=t.substring(o+1,a+1))):0===o&&(a<t.length-1?null==i&&(i=t.substring(0,a+1)):null==i&&(i=t)),o--;return i===t?r*=2:i&&(r+=Pt.score(i,n)),s=l+1,r*=.01*Math.max(1,10-s)},Pt.score=function(n,r){var i,o,a,s,l,c,u,d,f,p,h,m;if(n===r)return 1;if(t(n,r))return 1;for(p=0,u=r.length,f=n.length,a=0,s=0;a<u;){if(i=r[a++],l=n.indexOf(i.toLowerCase()),h=n.indexOf(i.toUpperCase()),-1===(c=Math.min(l,h))&&(c=Math.max(l,h)),-1===(s=c))return 0;o=.1,n[s]===i&&(o+=.1),0===s||n[s-1]===e?o+=.8:"-"!==(m=n[s-1])&&"_"!==m&&" "!==m||(o+=.7),n=n.substring(s+1,f),p+=o}return((d=p/u)*(u/f)+d)/2},t=function(t,n){if(t[t.length-n.length-1]===e)return t.lastIndexOf(n)===t.length-n.length}}.call(R);var Dt={exports:{}};(function(){var e,t,n;t=Nt,e=function(e){return e.candidate},n=function(e,t){return t.score-e.score},Dt.exports=function(r,i,o,a){var s,l,c,u,d,f,p,h,m;if(l=(m=null!=a?a:{}).key,c=m.maxResults,i){for(d=[],p=0,h=r.length;p<h;p++)s=r[p],(f=null!=l?s[l]:s)&&(u=t.score(f,i,o),o||(u=t.basenameScore(f,i,u)),u>0&&d.push({candidate:s,score:u}));d.sort(n),r=d.map(e)}return null!=c&&(r=r.slice(0,c)),r}}).call(R);var Bt={};!function(e){(function(){var t;t=y.default.sep,e.basenameMatch=function(n,r){var i,o,a;for(o=n.length-1;n[o]===t;)o--;for(a=o,i=null;o>=0;)n[o]===t?null==i&&(i=n.substring(o+1,a+1)):0===o&&(a<n.length-1?null==i&&(i=n.substring(0,a+1)):null==i&&(i=n)),o--;return e.match(i,r,n.length-i.length)},e.match=function(e,t,n){var r,i,o,a,s,l,c,u,d,f;if(null==n&&(n=0),e===t)return function(){f=[];for(var t=n,r=n+e.length;n<=r?t<r:t>r;n<=r?t++:t--)f.push(t);return f}.apply(this);for(c=t.length,u=e.length,i=0,o=0,s=[];i<c;){if(r=t[i++],a=e.indexOf(r.toLowerCase()),d=e.indexOf(r.toUpperCase()),-1===(l=Math.min(a,d))&&(l=Math.max(a,d)),-1===(o=l))return[];s.push(n+o),n+=o+1,e=e.substring(o+1,u)}return s}}).call(R)}(Bt),function(){var e,t,n,r,i;i=Nt,n=Dt.exports,r=Bt,e=y.default.sep,t=/\ /g,Ct.exports={filter:function(r,i,o){var a;return i&&(a=-1!==i.indexOf(e),i=i.replace(t,"")),n(r,i,a,o)},score:function(n,r){var o,a;return n&&r?n===r?2:(o=-1!==r.indexOf(e),r=r.replace(t,""),a=i.score(n,r),o||(a=i.basenameScore(n,r,a)),a):0},match:function(n,i){var o,a,s,l,c,u;if(!n)return[];if(!i)return[];if(n===i)return function(){u=[];for(var e=0,t=n.length;0<=t?e<t:e>t;0<=t?e++:e--)u.push(e);return u}.apply(this);if(l=-1!==i.indexOf(e),i=i.replace(t,""),s=r.match(n,i),!l)for(o=r.basenameMatch(n,i),s=s.concat(o).sort((function(e,t){return e-t})),c=null,a=0;a<s.length;)a&&c===s[a]?s.splice(a,1):(c=s[a],a++);return s}}}.call(R);var Lt=R&&R.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oe.exports,"__esModule",{value:!0});const Mt=m.default,Rt=Lt(It),jt=Rt.default.dom,Ut=Lt(Ct.exports);Oe.exports=class{constructor(e){this.props=e,this.props.hasOwnProperty("initialSelectionIndex")||(this.props.initialSelectionIndex=0),e.initiallyVisibleItemCount&&this.initializeVisibilityObserver(),this.computeItems(!1),this.disposables=new Mt.CompositeDisposable,Rt.default.initialize(this),this.element.classList.add("select-list"),this.disposables.add(this.refs.queryEditor.onDidChange(this.didChangeQuery.bind(this))),e.skipCommandsRegistration||this.disposables.add(this.registerAtomCommands());const t=this.refs.queryEditor.element,n=this.didLoseFocus.bind(this);t.addEventListener("blur",n),this.didClickItemsList=!1,this.element.addEventListener("mousedown",(e=>{e.target===this.refs.items&&(this.didClickItemsList=!0)})),this.disposables.add(new Mt.Disposable((()=>{t.removeEventListener("blur",n)})))}static setScheduler(e){Rt.default.setScheduler(e)}static getScheduler(){return Rt.default.getScheduler()}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver((e=>{for(const t of e)if(t.intersectionRatio>0){const e=t.target;this.visibilityObserver.unobserve(e);const n=Array.from(this.refs.items.children).indexOf(e);n>=0&&this.renderItemAtIndex(n)}}))}focus(){this.refs.queryEditor.element.focus()}didLoseFocus(e){this.didClickItemsList||this.element.contains(e.relatedTarget)?(this.didClickItemsList=!1,this.refs.queryEditor.element.focus()):document.hasFocus()&&this.cancelSelection()}reset(){this.refs.queryEditor.setText("")}destroy(){return this.disposables.dispose(),this.visibilityObserver&&this.visibilityObserver.disconnect(),Rt.default.destroy(this)}registerAtomCommands(){return atom.commands.add(this.element,{"core:move-up":e=>{this.selectPrevious(),e.stopPropagation()},"core:move-down":e=>{this.selectNext(),e.stopPropagation()},"core:move-to-top":e=>{this.selectFirst(),e.stopPropagation()},"core:move-to-bottom":e=>{this.selectLast(),e.stopPropagation()},"core:confirm":e=>{this.confirmSelection(),e.stopPropagation()},"core:cancel":e=>{this.cancelSelection(),e.stopPropagation()}})}update(e){let t=!1;return"items"in e&&(this.props.items=e.items,t=!0),"maxResults"in e&&(this.props.maxResults=e.maxResults,t=!0),"filter"in e&&(this.props.filter=e.filter,t=!0),"filterQuery"in e&&(this.props.filterQuery=e.filterQuery,t=!0),"query"in e&&(this.refs.queryEditor.setText(e.query),t=!1),"selectQuery"in e&&(e.selectQuery?this.refs.queryEditor.selectAll():this.refs.queryEditor.clearSelections()),"order"in e&&(this.props.order=e.order),"emptyMessage"in e&&(this.props.emptyMessage=e.emptyMessage),"errorMessage"in e&&(this.props.errorMessage=e.errorMessage),"infoMessage"in e&&(this.props.infoMessage=e.infoMessage),"loadingMessage"in e&&(this.props.loadingMessage=e.loadingMessage),"loadingBadge"in e&&(this.props.loadingBadge=e.loadingBadge),"itemsClassList"in e&&(this.props.itemsClassList=e.itemsClassList),"initialSelectionIndex"in e&&(this.props.initialSelectionIndex=e.initialSelectionIndex),t&&this.computeItems(),Rt.default.update(this)}render(){return jt.div({},jt(Mt.TextEditor,{ref:"queryEditor",mini:!0}),this.renderLoadingMessage(),this.renderInfoMessage(),this.renderErrorMessage(),this.renderItems())}renderItems(){if(this.items.length>0){const e=["list-group"].concat(this.props.itemsClassList||[]).join(" ");return this.visibilityObserver&&Rt.default.getScheduler().updateDocument((()=>{Array.from(this.refs.items.children).slice(this.props.initiallyVisibleItemCount).forEach((e=>{this.visibilityObserver.observe(e)}))})),this.listItems=this.items.map(((e,t)=>{const n=this.getSelectedItem()===e,r=!this.props.initiallyVisibleItemCount||t<this.props.initiallyVisibleItemCount;return jt(zt,{element:this.props.elementForItem(e,{selected:n,index:t,visible:r}),selected:n,onclick:()=>this.didClickItem(t)})})),jt.ol({className:e,ref:"items"},...this.listItems)}return!this.props.loadingMessage&&this.props.emptyMessage?jt.span({ref:"emptyMessage"},this.props.emptyMessage):""}renderErrorMessage(){return this.props.errorMessage?jt.span({ref:"errorMessage"},this.props.errorMessage):""}renderInfoMessage(){return this.props.infoMessage?jt.span({ref:"infoMessage"},this.props.infoMessage):""}renderLoadingMessage(){return this.props.loadingMessage?jt.div({className:"loading"},jt.span({ref:"loadingMessage",className:"loading-message"},this.props.loadingMessage),this.props.loadingBadge?jt.span({ref:"loadingBadge",className:"badge"},this.props.loadingBadge):""):""}getQuery(){return this.refs&&this.refs.queryEditor?this.refs.queryEditor.getText():""}getFilterQuery(){return this.props.filterQuery?this.props.filterQuery(this.getQuery()):this.getQuery()}didChangeQuery(){this.props.didChangeQuery&&this.props.didChangeQuery(this.getFilterQuery()),this.computeItems()}didClickItem(e){this.selectIndex(e),this.confirmSelection()}computeItems(e){this.listItems=null,this.visibilityObserver&&this.visibilityObserver.disconnect();const t=this.props.filter||this.fuzzyFilter.bind(this);this.items=t(this.props.items.slice(),this.getFilterQuery()),this.props.order&&this.items.sort(this.props.order),this.props.maxResults&&(this.items=this.items.slice(0,this.props.maxResults)),this.selectIndex(this.props.initialSelectionIndex,e)}fuzzyFilter(e,t){if(0===t.length)return e;{const n=[];for(const r of e){const e=this.props.filterKeyForItem?this.props.filterKeyForItem(r):r,i=Ut.default.score(e,t);i>0&&n.push({item:r,score:i})}return n.sort(((e,t)=>t.score-e.score)),n.map((e=>e.item))}}getSelectedItem(){return void 0===this.selectionIndex?null:this.items[this.selectionIndex]}renderItemAtIndex(e){const t=this.items[e],n=this.getSelectedItem()===t,r=this.listItems[e].component;this.visibilityObserver&&this.visibilityObserver.unobserve(r.element),r.update({element:this.props.elementForItem(t,{selected:n,index:e,visible:!0}),selected:n,onclick:()=>this.didClickItem(e)})}selectPrevious(){return void 0===this.selectionIndex?this.selectLast():this.selectIndex(this.selectionIndex-1)}selectNext(){return void 0===this.selectionIndex?this.selectFirst():this.selectIndex(this.selectionIndex+1)}selectFirst(){return this.selectIndex(0)}selectLast(){return this.selectIndex(this.items.length-1)}selectNone(){return this.selectIndex(void 0)}selectIndex(e,t=!0){e>=this.items.length?e=0:e<0&&(e=this.items.length-1);const n=this.selectionIndex;return this.selectionIndex=e,void 0!==e&&this.props.didChangeSelection&&this.props.didChangeSelection(this.getSelectedItem()),t?this.listItems?(n>=0&&this.renderItemAtIndex(n),e>=0&&this.renderItemAtIndex(e),Rt.default.getScheduler().getNextUpdatePromise()):Rt.default.update(this):Promise.resolve()}selectItem(e){const t=this.items.indexOf(e);if(-1===t)throw new Error("Cannot select the specified item because it does not exist.");return this.selectIndex(t)}confirmSelection(){const e=this.getSelectedItem();null!=e?this.props.didConfirmSelection&&this.props.didConfirmSelection(e):this.props.didConfirmEmptySelection&&this.props.didConfirmEmptySelection()}cancelSelection(){this.props.didCancelSelection&&this.props.didCancelSelection()}};class zt{constructor(e){this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.didClick=this.didClick.bind(this),this.selected=e.selected,this.onclick=e.onclick,this.element=e.element,this.element.addEventListener("mousedown",this.mouseDown),this.element.addEventListener("mouseup",this.mouseUp),this.element.addEventListener("click",this.didClick),this.selected&&this.element.classList.add("selected"),this.domEventsDisposable=new Mt.Disposable((()=>{this.element.removeEventListener("mousedown",this.mouseDown),this.element.removeEventListener("mouseup",this.mouseUp),this.element.removeEventListener("click",this.didClick)})),Rt.default.getScheduler().updateDocument(this.scrollIntoViewIfNeeded.bind(this))}mouseDown(e){e.preventDefault()}mouseUp(e){e.preventDefault()}didClick(e){e.preventDefault(),this.onclick()}destroy(){this.element.remove(),this.domEventsDisposable.dispose()}update(e){this.element.removeEventListener("mousedown",this.mouseDown),this.element.removeEventListener("mouseup",this.mouseUp),this.element.removeEventListener("click",this.didClick),this.element.parentNode.replaceChild(e.element,this.element),this.element=e.element,this.element.addEventListener("mousedown",this.mouseDown),this.element.addEventListener("mouseup",this.mouseUp),this.element.addEventListener("click",this.didClick),e.selected&&this.element.classList.add("selected"),this.selected=e.selected,this.onclick=e.onclick,Rt.default.getScheduler().updateDocument(this.scrollIntoViewIfNeeded.bind(this))}scrollIntoViewIfNeeded(){this.selected&&this.element.scrollIntoViewIfNeeded(!1)}}var Ft=j(Oe.exports),$t={average:!0,mantissa:1,optionalMantissa:!0};function Gt(e){return I(this,void 0,void 0,(function(){var t,n;return C(this,(function(r){switch(r.label){case 0:n=document.activeElement,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,new Promise((function(n,r){var i=new Ft({didCancelSelection:function(){return r("cancelled")},didConfirmSelection:function(e){return n(e.name)},elementForItem:function(e){var t=document.createElement("li"),n=e.version?"v"+e.version:"",r=e.downloads?""+Ee(e.downloads).format($t):"",i=e.stars?""+Ee(e.stars).format($t):"",o=e.theme?"ui"===e.theme?"browser":"paintcan":"code",a=M.get("ui"),s="normal"!==a.packageTextStyle?"text-"+a.packageTextStyle:"",l="normal"!==a.versionTextStyle?"text-"+a.versionTextStyle:"",c="normal"!==a.statsTextStyle?"text-"+a.statsTextStyle:"",u="normal"!==a.descriptionTextStyle?"text-"+a.descriptionTextStyle:"",d=a.showPackageTypeIcon?"icon icon-"+o:"",f=a.showPackageStats?'\n              <div class="pull-right '+c+'">\n                <span class="icon icon-cloud-download">'+r+'</span>\n                <span class="icon icon-star">'+i+"</span>\n              </div>\n            ":"";return t.innerHTML='\n            <div class="package-control block">\n              '+f+'\n\n              <span class="'+d+'">\n                <strong class="'+s+'">'+e.name+'</strong>\n                <span class="'+l+'">'+n+'</span>\n                <div class="truncate-text '+u+'">'+(e.description||"")+"</div>\n              </span>\n            </div>\n          ",t},emptyMessage:"No packages found",filterKeyForItem:function(e){return e.name},items:e,maxResults:M.get("maxResults"),selectQuery:!0});t=atom.workspace.addModalPanel({item:i,visible:!0}),i.focus()}))];case 2:return[2,r.sent()];case 3:return t&&t.destroy(),n&&n.focus(),[7];case 4:return[2]}}))}))}function Zt(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function qt(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Zt(n);return(e,n)=>r.then((r=>n(r.transaction(t,e).objectStore(t))))}let Ht;function Vt(){return Ht||(Ht=qt("keyval-store","keyval")),Ht}function Kt(e,t=Vt()){return t("readonly",(t=>Zt(t.get(e))))}function Wt(e,t,n=Vt()){return n("readwrite",(n=>(n.put(t,e),Zt(n.transaction))))}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Yt(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var Qt=new(function(){function e(e){void 0===e&&(e={}),this.name=e.name,this.styleSheet="\n      background-color: "+(e.backgroundColor||"darkgrey")+";\n      border-radius: 2px;\n      color: "+(e.color||"white")+";\n      line-height: 1.5;\n      padding: 1px 4px;\n      text-shadow: 0 1px 0px rgba(0, 0, 0, 0.2);\n    "}return e.prototype.__console__=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(null===atom||void 0===atom?void 0:atom.inDevMode())&&(n.unshift("%c"+this.name+"%c",this.styleSheet,""),(t=window.console)[e].apply(t,n))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,Yt(["debug"],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,Yt(["error"],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,Yt(["info"],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,Yt(["log"],e))},e.prototype.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,Yt(["trace"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,Yt(["warn"],e))},e}())({name:B,backgroundColor:"mediumpurple"});function Xt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Jt(e){Xt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function en(e,t){Xt(2,arguments);var n=Jt(e),r=Jt(t);return n.getTime()-r.getTime()}var tn={exports:{}};const nn=w.default.Readable,rn=Symbol("buffer"),on=Symbol("type");class an{constructor(){this[on]="";const e=arguments[0],t=arguments[1],n=[];let r=0;if(e){const t=e,i=Number(t.length);for(let e=0;e<i;e++){const i=t[e];let o;o=i instanceof Buffer?i:ArrayBuffer.isView(i)?Buffer.from(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?Buffer.from(i):i instanceof an?i[rn]:Buffer.from("string"==typeof i?i:String(i)),r+=o.length,n.push(o)}}this[rn]=Buffer.concat(n);let i=t&&void 0!==t.type&&String(t.type).toLowerCase();i&&!/[^\u0020-\u007E]/.test(i)&&(this[on]=i)}get size(){return this[rn].length}get type(){return this[on]}text(){return Promise.resolve(this[rn].toString())}arrayBuffer(){const e=this[rn],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new nn;return e._read=function(){},e.push(this[rn]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],n=arguments[1];let r,i;r=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),i=void 0===n?e:n<0?Math.max(e+n,0):Math.min(n,e);const o=Math.max(i-r,0),a=this[rn].slice(r,r+o),s=new an([],{type:arguments[2]});return s[rn]=a,s}}function sn(e,t,n){Error.call(this,e),this.message=e,this.type=t,n&&(this.code=this.errno=n.code),Error.captureStackTrace(this,this.constructor)}let ln;Object.defineProperties(an.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(an.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),sn.prototype=Object.create(Error.prototype),sn.prototype.constructor=sn,sn.prototype.name="FetchError";try{ln=require("encoding").convert}catch(e){}const cn=Symbol("Body internals"),un=w.default.PassThrough;function dn(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.size;let i=void 0===r?0:r;var o=n.timeout;let a=void 0===o?0:o;null==e?e=null:pn(e)?e=Buffer.from(e.toString()):hn(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof w.default||(e=Buffer.from(String(e)))),this[cn]={body:e,disturbed:!1,error:null},this.size=i,this.timeout=a,e instanceof w.default&&e.on("error",(function(e){const n="AbortError"===e.name?e:new sn(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[cn].error=n}))}function fn(){var e=this;if(this[cn].disturbed)return dn.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[cn].disturbed=!0,this[cn].error)return dn.Promise.reject(this[cn].error);let t=this.body;if(null===t)return dn.Promise.resolve(Buffer.alloc(0));if(hn(t)&&(t=t.stream()),Buffer.isBuffer(t))return dn.Promise.resolve(t);if(!(t instanceof w.default))return dn.Promise.resolve(Buffer.alloc(0));let n=[],r=0,i=!1;return new dn.Promise((function(o,a){let s;e.timeout&&(s=setTimeout((function(){i=!0,a(new sn(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(i=!0,a(t)):a(new sn(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!i&&null!==t){if(e.size&&r+t.length>e.size)return i=!0,void a(new sn(`content size at ${e.url} over limit: ${e.size}`,"max-size"));r+=t.length,n.push(t)}})),t.on("end",(function(){if(!i){clearTimeout(s);try{o(Buffer.concat(n,r))}catch(t){a(new sn(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function pn(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function hn(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function mn(e){let t,n,r=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return r instanceof w.default&&"function"!=typeof r.getBoundary&&(t=new un,n=new un,r.pipe(t),r.pipe(n),e[cn].body=t,r=n),r}function gn(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":pn(e)?"application/x-www-form-urlencoded;charset=UTF-8":hn(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?`multipart/form-data;boundary=${e.getBoundary()}`:e instanceof w.default?null:"text/plain;charset=UTF-8"}function bn(e){const t=e.body;return null===t?0:hn(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}dn.prototype={get body(){return this[cn].body},get bodyUsed(){return this[cn].disturbed},arrayBuffer(){return fn.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return fn.call(this).then((function(t){return Object.assign(new an([],{type:e.toLowerCase()}),{[rn]:t})}))},json(){var e=this;return fn.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return dn.Promise.reject(new sn(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return fn.call(this).then((function(e){return e.toString()}))},buffer(){return fn.call(this)},textConverted(){var e=this;return fn.call(this).then((function(t){return function(e,t){if("function"!=typeof ln)throw new Error("The package `encoding` must be installed to use the textConverted() function");const n=t.get("content-type");let r,i,o="utf-8";n&&(r=/charset=([^;]*)/i.exec(n));i=e.slice(0,1024).toString(),!r&&i&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(i));!r&&i&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(i),r||(r=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(i),r&&r.pop()),r&&(r=/charset=(.*)/i.exec(r.pop())));!r&&i&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(i));r&&(o=r.pop(),"gb2312"!==o&&"gbk"!==o||(o="gb18030"));return ln(e,"UTF-8",o).toString()}(t,e.headers)}))}},Object.defineProperties(dn.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),dn.mixIn=function(e){for(const t of Object.getOwnPropertyNames(dn.prototype))if(!(t in e)){const n=Object.getOwnPropertyDescriptor(dn.prototype,t);Object.defineProperty(e,t,n)}},dn.Promise=global.Promise;const vn=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,yn=/[^\t\x20-\x7e\x80-\xff]/;function wn(e){if(e=`${e}`,vn.test(e)||""===e)throw new TypeError(`${e} is not a legal HTTP header name`)}function _n(e){if(e=`${e}`,yn.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)}function xn(e,t){t=t.toLowerCase();for(const n in e)if(n.toLowerCase()===t)return n}const kn=Symbol("map");class Sn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[kn]=Object.create(null),e instanceof Sn){const t=e.raw(),n=Object.keys(t);for(const e of n)for(const n of t[e])this.append(e,n)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const n=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");n.push(Array.from(t))}for(const e of n){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const n=e[t];this.append(t,n)}}}}get(e){wn(e=`${e}`);const t=xn(this[kn],e);return void 0===t?null:this[kn][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=En(this),r=0;for(;r<n.length;){var i=n[r];const o=i[0],a=i[1];e.call(t,a,o,this),n=En(this),r++}}set(e,t){t=`${t}`,wn(e=`${e}`),_n(t);const n=xn(this[kn],e);this[kn][void 0!==n?n:e]=[t]}append(e,t){t=`${t}`,wn(e=`${e}`),_n(t);const n=xn(this[kn],e);void 0!==n?this[kn][n].push(t):this[kn][e]=[t]}has(e){return wn(e=`${e}`),void 0!==xn(this[kn],e)}delete(e){wn(e=`${e}`);const t=xn(this[kn],e);void 0!==t&&delete this[kn][t]}raw(){return this[kn]}keys(){return An(this,"key")}values(){return An(this,"value")}[Symbol.iterator](){return An(this,"key+value")}}function En(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const n=Object.keys(e[kn]).sort();return n.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[kn][t].join(", ")}:function(t){return[t.toLowerCase(),e[kn][t].join(", ")]})}Sn.prototype.entries=Sn.prototype[Symbol.iterator],Object.defineProperty(Sn.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Sn.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const On=Symbol("internal");function An(e,t){const n=Object.create(Tn);return n[On]={target:e,kind:t,index:0},n}const Tn=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==Tn)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[On];const t=e.target,n=e.kind,r=e.index,i=En(t,n);return r>=i.length?{value:void 0,done:!0}:(this[On].index=r+1,{value:i[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function Pn(e){const t=Object.assign({__proto__:null},e[kn]),n=xn(e[kn],"Host");return void 0!==n&&(t[n]=t[n][0]),t}Object.defineProperty(Tn,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const In=Symbol("Response internals"),Cn=_.default.STATUS_CODES;class Nn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dn.call(this,e,t);const n=t.status||200,r=new Sn(t.headers);if(null!=e&&!r.has("Content-Type")){const t=gn(e);t&&r.append("Content-Type",t)}this[In]={url:t.url,status:n,statusText:t.statusText||Cn[n],headers:r,counter:t.counter}}get url(){return this[In].url||""}get status(){return this[In].status}get ok(){return this[In].status>=200&&this[In].status<300}get redirected(){return this[In].counter>0}get statusText(){return this[In].statusText}get headers(){return this[In].headers}clone(){return new Nn(mn(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}dn.mixIn(Nn.prototype),Object.defineProperties(Nn.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(Nn.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const Dn=Symbol("Request internals"),Bn=x.default.parse,Ln=x.default.format,Mn="destroy"in w.default.Readable.prototype;function Rn(e){return"object"==typeof e&&"object"==typeof e[Dn]}class jn{constructor(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Rn(e)?t=Bn(e.url):(t=e&&e.href?Bn(e.href):Bn(`${e}`),e={});let r=n.method||e.method||"GET";if(r=r.toUpperCase(),(null!=n.body||Rn(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");let i=null!=n.body?n.body:Rn(e)&&null!==e.body?mn(e):null;dn.call(this,i,{timeout:n.timeout||e.timeout||0,size:n.size||e.size||0});const o=new Sn(n.headers||e.headers||{});if(null!=i&&!o.has("Content-Type")){const e=gn(i);e&&o.append("Content-Type",e)}let a=Rn(e)?e.signal:null;if("signal"in n&&(a=n.signal),null!=a&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(a))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[Dn]={method:r,redirect:n.redirect||e.redirect||"follow",headers:o,parsedURL:t,signal:a},this.follow=void 0!==n.follow?n.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==n.compress?n.compress:void 0===e.compress||e.compress,this.counter=n.counter||e.counter||0,this.agent=n.agent||e.agent}get method(){return this[Dn].method}get url(){return Ln(this[Dn].parsedURL)}get headers(){return this[Dn].headers}get redirect(){return this[Dn].redirect}get signal(){return this[Dn].signal}clone(){return new jn(this)}}function Un(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}dn.mixIn(jn.prototype),Object.defineProperty(jn.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(jn.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),Un.prototype=Object.create(Error.prototype),Un.prototype.constructor=Un,Un.prototype.name="AbortError";const zn=w.default.PassThrough,Fn=x.default.resolve;function $n(e,t){if(!$n.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return dn.Promise=$n.Promise,new $n.Promise((function(n,r){const i=new jn(e,t),o=function(e){const t=e[Dn].parsedURL,n=new Sn(e[Dn].headers);if(n.has("Accept")||n.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof w.default.Readable&&!Mn)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let r=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(r="0"),null!=e.body){const t=bn(e);"number"==typeof t&&(r=String(t))}r&&n.set("Content-Length",r),n.has("User-Agent")||n.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip,deflate");let i=e.agent;return"function"==typeof i&&(i=i(t)),n.has("Connection")||i||n.set("Connection","close"),Object.assign({},t,{method:e.method,headers:Pn(n),agent:i})}(i),a=("https:"===o.protocol?k.default:_.default).request,s=i.signal;let l=null;const c=function(){let e=new Un("The user aborted a request.");r(e),i.body&&i.body instanceof w.default.Readable&&i.body.destroy(e),l&&l.body&&l.body.emit("error",e)};if(s&&s.aborted)return void c();const u=function(){c(),p()},d=a(o);let f;function p(){d.abort(),s&&s.removeEventListener("abort",u),clearTimeout(f)}s&&s.addEventListener("abort",u),i.timeout&&d.once("socket",(function(e){f=setTimeout((function(){r(new sn(`network timeout at: ${i.url}`,"request-timeout")),p()}),i.timeout)})),d.on("error",(function(e){r(new sn(`request to ${i.url} failed, reason: ${e.message}`,"system",e)),p()})),d.on("response",(function(e){clearTimeout(f);const t=function(e){const t=new Sn;for(const n of Object.keys(e))if(!vn.test(n))if(Array.isArray(e[n]))for(const r of e[n])yn.test(r)||(void 0===t[kn][n]?t[kn][n]=[r]:t[kn][n].push(r));else yn.test(e[n])||(t[kn][n]=[e[n]]);return t}(e.headers);if($n.isRedirect(e.statusCode)){const o=t.get("Location"),a=null===o?null:Fn(i.url,o);switch(i.redirect){case"error":return r(new sn(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),void p();case"manual":if(null!==a)try{t.set("Location",a)}catch(e){r(e)}break;case"follow":if(null===a)break;if(i.counter>=i.follow)return r(new sn(`maximum redirect reached at: ${i.url}`,"max-redirect")),void p();const o={headers:new Sn(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:i.body,signal:i.signal,timeout:i.timeout,size:i.size};return 303!==e.statusCode&&i.body&&null===bn(i)?(r(new sn("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void p()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==i.method)||(o.method="GET",o.body=void 0,o.headers.delete("content-length")),n($n(new jn(a,o))),void p())}}e.once("end",(function(){s&&s.removeEventListener("abort",u)}));let o=e.pipe(new zn);const a={url:i.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:i.size,timeout:i.timeout,counter:i.counter},c=t.get("Content-Encoding");if(!i.compress||"HEAD"===i.method||null===c||204===e.statusCode||304===e.statusCode)return l=new Nn(o,a),void n(l);const d={flush:S.default.Z_SYNC_FLUSH,finishFlush:S.default.Z_SYNC_FLUSH};if("gzip"==c||"x-gzip"==c)return o=o.pipe(S.default.createGunzip(d)),l=new Nn(o,a),void n(l);if("deflate"!=c&&"x-deflate"!=c){if("br"==c&&"function"==typeof S.default.createBrotliDecompress)return o=o.pipe(S.default.createBrotliDecompress()),l=new Nn(o,a),void n(l);l=new Nn(o,a),n(l)}else{e.pipe(new zn).once("data",(function(e){o=8==(15&e[0])?o.pipe(S.default.createInflate()):o.pipe(S.default.createInflateRaw()),l=new Nn(o,a),n(l)}))}})),function(e,t){const n=t.body;null===n?e.end():hn(n)?n.stream().pipe(e):Buffer.isBuffer(n)?(e.write(n),e.end()):n.pipe(e)}(d,i)}))}$n.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},$n.Promise=global.Promise;var Gn=U(Object.freeze({__proto__:null,default:$n,Headers:Sn,Request:jn,Response:Nn,FetchError:sn}));!function(e,t){const n=Gn,r=n.default||n,i=function(e,t){return/^\/\//.test(e)&&(e="https:"+e),r.call(this,e,t)};i.ponyfill=!0,e.exports=t=i,t.fetch=i,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,t.default=i}(tn,tn.exports);var Zn=tn.exports;
/*! pako 2.0.3 https://github.com/nodeca/pako @license (MIT AND Zlib) */function qn(e){let t=e.length;for(;--t>=0;)e[t]=0}const Hn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Vn=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Kn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Wn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Yn=new Array(576);qn(Yn);const Qn=new Array(60);qn(Qn);const Xn=new Array(512);qn(Xn);const Jn=new Array(256);qn(Jn);const er=new Array(29);qn(er);const tr=new Array(30);function nr(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let rr,ir,or;function ar(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}qn(tr);const sr=e=>e<256?Xn[e]:Xn[256+(e>>>7)],lr=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},cr=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,lr(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},ur=(e,t,n)=>{cr(e,n[2*t],n[2*t+1])},dr=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},fr=(e,t,n)=>{const r=new Array(16);let i,o,a=0;for(i=1;i<=15;i++)r[i]=a=a+n[i-1]<<1;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=dr(r[t]++,t))}},pr=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},hr=e=>{e.bi_valid>8?lr(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},mr=(e,t,n,r)=>{const i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},gr=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&mr(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!mr(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},br=(e,t,n)=>{let r,i,o,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?ur(e,i,t):(o=Jn[i],ur(e,o+256+1,t),a=Hn[o],0!==a&&(i-=er[o],cr(e,i,a)),r--,o=sr(r),ur(e,o,n),a=Vn[o],0!==a&&(r-=tr[o],cr(e,r,a)))}while(s<e.last_lit);ur(e,256,t)},vr=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,l,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[2*l+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)gr(e,n,a);l=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],gr(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*l]=n[2*a]+n[2*s],e.depth[l]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=l,e.heap[1]=l++,gr(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,d,f,p,h,m=0;for(f=0;f<=15;f++)e.bl_count[f]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)u=e.heap[c],f=n[2*n[2*u+1]+1]+1,f>l&&(f=l,m++),n[2*u+1]=f,u>r||(e.bl_count[f]++,p=0,u>=s&&(p=a[u-s]),h=n[2*u],e.opt_len+=h*(f+p),o&&(e.static_len+=h*(i[2*u+1]+p)));if(0!==m){do{for(f=l-1;0===e.bl_count[f];)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(f=l;0!==f;f--)for(u=e.bl_count[f];0!==u;)d=e.heap[--c],d>r||(n[2*d+1]!==f&&(e.opt_len+=(f-n[2*d+1])*n[2*d],n[2*d+1]=f),u--)}})(e,t),fr(n,c,e.bl_count)},yr=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},wr=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<c)do{ur(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(ur(e,i,e.bl_tree),s--),ur(e,16,e.bl_tree),cr(e,s-3,2)):s<=10?(ur(e,17,e.bl_tree),cr(e,s-3,3)):(ur(e,18,e.bl_tree),cr(e,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}};let _r=!1;const xr=(e,t,n,r)=>{cr(e,0+(r?1:0),3),((e,t,n,r)=>{hr(e),r&&(lr(e,n),lr(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n})(e,t,n,!0)};var kr={_tr_init:e=>{_r||((()=>{let e,t,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(er[r]=n,e=0;e<1<<Hn[r];e++)Jn[n++]=r;for(Jn[n-1]=r,i=0,r=0;r<16;r++)for(tr[r]=i,e=0;e<1<<Vn[r];e++)Xn[i++]=r;for(i>>=7;r<30;r++)for(tr[r]=i<<7,e=0;e<1<<Vn[r]-7;e++)Xn[256+i++]=r;for(t=0;t<=15;t++)o[t]=0;for(e=0;e<=143;)Yn[2*e+1]=8,e++,o[8]++;for(;e<=255;)Yn[2*e+1]=9,e++,o[9]++;for(;e<=279;)Yn[2*e+1]=7,e++,o[7]++;for(;e<=287;)Yn[2*e+1]=8,e++,o[8]++;for(fr(Yn,287,o),e=0;e<30;e++)Qn[2*e+1]=5,Qn[2*e]=dr(e,5);rr=new nr(Yn,Hn,257,286,15),ir=new nr(Qn,Vn,0,30,15),or=new nr(new Array(0),Kn,0,19,7)})(),_r=!0),e.l_desc=new ar(e.dyn_ltree,rr),e.d_desc=new ar(e.dyn_dtree,ir),e.bl_desc=new ar(e.bl_tree,or),e.bi_buf=0,e.bi_valid=0,pr(e)},_tr_stored_block:xr,_tr_flush_block:(e,t,n,r)=>{let i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),vr(e,e.l_desc),vr(e,e.d_desc),a=(e=>{let t;for(yr(e,e.dyn_ltree,e.l_desc.max_code),yr(e,e.dyn_dtree,e.d_desc.max_code),vr(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*Wn[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?xr(e,t,n,r):4===e.strategy||o===i?(cr(e,2+(r?1:0),3),br(e,Yn,Qn)):(cr(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(cr(e,t-257,5),cr(e,n-1,5),cr(e,r-4,4),i=0;i<r;i++)cr(e,e.bl_tree[2*Wn[i]+1],3);wr(e,e.dyn_ltree,t-1),wr(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),br(e,e.dyn_ltree,e.dyn_dtree)),pr(e),r&&hr(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(Jn[n]+256+1)]++,e.dyn_dtree[2*sr(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{cr(e,2,3),ur(e,256,Yn),(e=>{16===e.bi_valid?(lr(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var Sr=(e,t,n,r)=>{let i=65535&e|0,o=e>>>16&65535|0,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0};const Er=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var Or=(e,t,n,r)=>{const i=Er,o=r+n;e^=-1;for(let n=r;n<o;n++)e=e>>>8^i[255&(e^t[n])];return-1^e},Ar={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Tr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Pr,_tr_stored_block:Ir,_tr_flush_block:Cr,_tr_tally:Nr,_tr_align:Dr}=kr,{Z_NO_FLUSH:Br,Z_PARTIAL_FLUSH:Lr,Z_FULL_FLUSH:Mr,Z_FINISH:Rr,Z_BLOCK:jr,Z_OK:Ur,Z_STREAM_END:zr,Z_STREAM_ERROR:Fr,Z_DATA_ERROR:$r,Z_BUF_ERROR:Gr,Z_DEFAULT_COMPRESSION:Zr,Z_FILTERED:qr,Z_HUFFMAN_ONLY:Hr,Z_RLE:Vr,Z_FIXED:Kr,Z_DEFAULT_STRATEGY:Wr,Z_UNKNOWN:Yr,Z_DEFLATED:Qr}=Tr,Xr=(e,t)=>(e.msg=Ar[t],t),Jr=e=>(e<<1)-(e>4?9:0),ei=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let ti=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const ni=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},ri=(e,t)=>{Cr(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ni(e.strm)},ii=(e,t)=>{e.pending_buf[e.pending++]=t},oi=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},ai=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=Sr(e.adler,t,i,n):2===e.state.wrap&&(e.adler=Or(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},si=(e,t)=>{let n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,u=e.w_mask,d=e.prev,f=e.strstart+258;let p=c[o+a-1],h=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+a]===h&&c[n+a-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=258-(f-o),o=f-258,r>a){if(e.match_start=t,a=r,r>=s)break;p=c[o+a-1],h=c[o+a]}}}while((t=d[t&u])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead},li=e=>{const t=e.w_size;let n,r,i,o,a;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-262)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do{i=e.head[--n],e.head[n]=i>=t?i-t:0}while(--r);r=t,n=r;do{i=e.prev[--n],e.prev[n]=i>=t?i-t:0}while(--r);o+=t}if(0===e.strm.avail_in)break;if(r=ai(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=ti(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=ti(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},ci=(e,t)=>{let n,r;for(;;){if(e.lookahead<262){if(li(e),e.lookahead<262&&t===Br)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ti(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=si(e,n)),e.match_length>=3)if(r=Nr(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=ti(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ti(e,e.ins_h,e.window[e.strstart+1]);else r=Nr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ri(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Rr?(ri(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ri(e,!1),0===e.strm.avail_out)?1:2},ui=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<262){if(li(e),e.lookahead<262&&t===Br)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ti(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=si(e,n),e.match_length<=5&&(e.strategy===qr||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=Nr(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=ti(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(ri(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=Nr(e,0,e.window[e.strstart-1]),r&&ri(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Nr(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Rr?(ri(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ri(e,!1),0===e.strm.avail_out)?1:2};function di(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const fi=[new di(0,0,0,0,((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(li(e),0===e.lookahead&&t===Br)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,ri(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(ri(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Rr?(ri(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(ri(e,!1),e.strm.avail_out),1)})),new di(4,4,8,4,ci),new di(4,5,16,8,ci),new di(4,6,32,32,ci),new di(4,4,16,16,ui),new di(8,16,32,32,ui),new di(8,16,128,128,ui),new di(8,32,128,256,ui),new di(32,128,258,1024,ui),new di(32,258,258,4096,ui)];function pi(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Qr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ei(this.dyn_ltree),ei(this.dyn_dtree),ei(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ei(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ei(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const hi=e=>{if(!e||!e.state)return Xr(e,Fr);e.total_in=e.total_out=0,e.data_type=Yr;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=Br,Pr(t),Ur},mi=e=>{const t=hi(e);var n;return t===Ur&&((n=e.state).window_size=2*n.w_size,ei(n.head),n.max_lazy_match=fi[n.level].max_lazy,n.good_match=fi[n.level].good_length,n.nice_match=fi[n.level].nice_length,n.max_chain_length=fi[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},gi=(e,t,n,r,i,o)=>{if(!e)return Fr;let a=1;if(t===Zr&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==Qr||r<8||r>15||t<0||t>9||o<0||o>Kr)return Xr(e,Fr);8===r&&(r=9);const s=new pi;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,mi(e)};var bi={deflateInit:(e,t)=>gi(e,t,Qr,15,8,Wr),deflateInit2:gi,deflateReset:mi,deflateResetKeep:hi,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?Fr:(e.state.gzhead=t,Ur):Fr,deflate:(e,t)=>{let n,r;if(!e||!e.state||t>jr||t<0)return e?Xr(e,Fr):Fr;const i=e.state;if(!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==Rr)return Xr(e,0===e.avail_out?Gr:Fr);i.strm=e;const o=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,ii(i,31),ii(i,139),ii(i,8),i.gzhead?(ii(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ii(i,255&i.gzhead.time),ii(i,i.gzhead.time>>8&255),ii(i,i.gzhead.time>>16&255),ii(i,i.gzhead.time>>24&255),ii(i,9===i.level?2:i.strategy>=Hr||i.level<2?4:0),ii(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(ii(i,255&i.gzhead.extra.length),ii(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Or(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(ii(i,0),ii(i,0),ii(i,0),ii(i,0),ii(i,0),ii(i,9===i.level?2:i.strategy>=Hr||i.level<2?4:0),ii(i,3),i.status=113);else{let t=Qr+(i.w_bits-8<<4)<<8,n=-1;n=i.strategy>=Hr||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,i.status=113,oi(i,t),0!==i.strstart&&(oi(i,e.adler>>>16),oi(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=Or(e.adler,i.pending_buf,i.pending-n,n)),ni(e),n=i.pending,i.pending!==i.pending_buf_size));)ii(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=Or(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Or(e.adler,i.pending_buf,i.pending-n,n)),ni(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,ii(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=Or(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Or(e.adler,i.pending_buf,i.pending-n,n)),ni(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,ii(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=Or(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ni(e),i.pending+2<=i.pending_buf_size&&(ii(i,255&e.adler),ii(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(ni(e),0===e.avail_out)return i.last_flush=-1,Ur}else if(0===e.avail_in&&Jr(t)<=Jr(o)&&t!==Rr)return Xr(e,Gr);if(666===i.status&&0!==e.avail_in)return Xr(e,Gr);if(0!==e.avail_in||0!==i.lookahead||t!==Br&&666!==i.status){let n=i.strategy===Hr?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(li(e),0===e.lookahead)){if(t===Br)return 1;break}if(e.match_length=0,n=Nr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(ri(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Rr?(ri(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ri(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===Vr?((e,t)=>{let n,r,i,o;const a=e.window;for(;;){if(e.lookahead<=258){if(li(e),e.lookahead<=258&&t===Br)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+258;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=258-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Nr(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Nr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(ri(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Rr?(ri(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ri(e,!1),0===e.strm.avail_out)?1:2})(i,t):fi[i.level].func(i,t);if(3!==n&&4!==n||(i.status=666),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),Ur;if(2===n&&(t===Lr?Dr(i):t!==jr&&(Ir(i,0,0,!1),t===Mr&&(ei(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ni(e),0===e.avail_out))return i.last_flush=-1,Ur}return t!==Rr?Ur:i.wrap<=0?zr:(2===i.wrap?(ii(i,255&e.adler),ii(i,e.adler>>8&255),ii(i,e.adler>>16&255),ii(i,e.adler>>24&255),ii(i,255&e.total_in),ii(i,e.total_in>>8&255),ii(i,e.total_in>>16&255),ii(i,e.total_in>>24&255)):(oi(i,e.adler>>>16),oi(i,65535&e.adler)),ni(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?Ur:zr)},deflateEnd:e=>{if(!e||!e.state)return Fr;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?Xr(e,Fr):(e.state=null,113===t?Xr(e,$r):Ur)},deflateSetDictionary:(e,t)=>{let n=t.length;if(!e||!e.state)return Fr;const r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return Fr;if(1===i&&(e.adler=Sr(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(ei(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,li(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=ti(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,li(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,r.wrap=i,Ur},deflateInfo:"pako deflate (from Nodeca project)"};const vi=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var yi=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)vi(n,t)&&(e[t]=n[t])}}return e},wi=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];n.set(i,r),r+=i.length}return n};let _i=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){_i=!1}const xi=new Uint8Array(256);for(let e=0;e<256;e++)xi[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;xi[254]=xi[254]=1;var ki=e=>{let t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},Si=(e,t)=>{let n,r;const i=t||e.length,o=new Array(2*i);for(r=0,n=0;n<i;){let t=e[n++];if(t<128){o[r++]=t;continue}let a=xi[t];if(a>4)o[r++]=65533,n+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&n<i;)t=t<<6|63&e[n++],a--;a>1?o[r++]=65533:t<65536?o[r++]=t:(t-=65536,o[r++]=55296|t>>10&1023,o[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&_i)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(o,r)},Ei=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+xi[e[n]]>t?n:t};var Oi=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ai=Object.prototype.toString,{Z_NO_FLUSH:Ti,Z_SYNC_FLUSH:Pi,Z_FULL_FLUSH:Ii,Z_FINISH:Ci,Z_OK:Ni,Z_STREAM_END:Di,Z_DEFAULT_COMPRESSION:Bi,Z_DEFAULT_STRATEGY:Li,Z_DEFLATED:Mi}=Tr;function Ri(e){this.options=yi({level:Bi,method:Mi,chunkSize:16384,windowBits:15,memLevel:8,strategy:Li},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oi,this.strm.avail_out=0;let n=bi.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Ni)throw new Error(Ar[n]);if(t.header&&bi.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?ki(t.dictionary):"[object ArrayBuffer]"===Ai.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=bi.deflateSetDictionary(this.strm,e),n!==Ni)throw new Error(Ar[n]);this._dict_set=!0}}function ji(e,t){const n=new Ri(t);if(n.push(e,!0),n.err)throw n.msg||Ar[n.err];return n.result}Ri.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?Ci:Ti,"string"==typeof e?n.input=ki(e):"[object ArrayBuffer]"===Ai.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===Pi||o===Ii)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=bi.deflate(n,o),i===Di)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=bi.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Ni;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},Ri.prototype.onData=function(e){this.chunks.push(e)},Ri.prototype.onEnd=function(e){e===Ni&&(this.result=wi(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Ui={Deflate:Ri,deflate:ji,deflateRaw:function(e,t){return(t=t||{}).raw=!0,ji(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,ji(e,t)},constants:Tr};var zi=function(e,t){let n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,b,v,y,w,_,x,k,S,E;const O=e.state;n=e.next_in,S=e.input,r=n+(e.avail_in-5),i=e.next_out,E=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=O.dmax,l=O.wsize,c=O.whave,u=O.wnext,d=O.window,f=O.hold,p=O.bits,h=O.lencode,m=O.distcode,g=(1<<O.lenbits)-1,b=(1<<O.distbits)-1;e:do{p<15&&(f+=S[n++]<<p,p+=8,f+=S[n++]<<p,p+=8),v=h[f&g];t:for(;;){if(y=v>>>24,f>>>=y,p-=y,y=v>>>16&255,0===y)E[i++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=h[(65535&v)+(f&(1<<y)-1)];continue t}if(32&y){O.mode=12;break e}e.msg="invalid literal/length code",O.mode=30;break e}w=65535&v,y&=15,y&&(p<y&&(f+=S[n++]<<p,p+=8),w+=f&(1<<y)-1,f>>>=y,p-=y),p<15&&(f+=S[n++]<<p,p+=8,f+=S[n++]<<p,p+=8),v=m[f&b];n:for(;;){if(y=v>>>24,f>>>=y,p-=y,y=v>>>16&255,!(16&y)){if(0==(64&y)){v=m[(65535&v)+(f&(1<<y)-1)];continue n}e.msg="invalid distance code",O.mode=30;break e}if(_=65535&v,y&=15,p<y&&(f+=S[n++]<<p,p+=8,p<y&&(f+=S[n++]<<p,p+=8)),_+=f&(1<<y)-1,_>s){e.msg="invalid distance too far back",O.mode=30;break e}if(f>>>=y,p-=y,y=i-o,_>y){if(y=_-y,y>c&&O.sane){e.msg="invalid distance too far back",O.mode=30;break e}if(x=0,k=d,0===u){if(x+=l-y,y<w){w-=y;do{E[i++]=d[x++]}while(--y);x=i-_,k=E}}else if(u<y){if(x+=l+u-y,y-=u,y<w){w-=y;do{E[i++]=d[x++]}while(--y);if(x=0,u<w){y=u,w-=y;do{E[i++]=d[x++]}while(--y);x=i-_,k=E}}}else if(x+=u-y,y<w){w-=y;do{E[i++]=d[x++]}while(--y);x=i-_,k=E}for(;w>2;)E[i++]=k[x++],E[i++]=k[x++],E[i++]=k[x++],w-=3;w&&(E[i++]=k[x++],w>1&&(E[i++]=k[x++]))}else{x=i-_;do{E[i++]=E[x++],E[i++]=E[x++],E[i++]=E[x++],w-=3}while(w>2);w&&(E[i++]=E[x++],w>1&&(E[i++]=E[x++]))}break}}break}}while(n<r&&i<a);w=p>>3,n-=w,p-=w<<3,f&=(1<<p)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),O.hold=f,O.bits=p};const Fi=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$i=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Gi=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zi=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var qi=(e,t,n,r,i,o,a,s)=>{const l=s.bits;let c,u,d,f,p,h,m=0,g=0,b=0,v=0,y=0,w=0,_=0,x=0,k=0,S=0,E=null,O=0;const A=new Uint16Array(16),T=new Uint16Array(16);let P,I,C,N=null,D=0;for(m=0;m<=15;m++)A[m]=0;for(g=0;g<r;g++)A[t[n+g]]++;for(y=l,v=15;v>=1&&0===A[v];v--);if(y>v&&(y=v),0===v)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(b=1;b<v&&0===A[b];b++);for(y<b&&(y=b),x=1,m=1;m<=15;m++)if(x<<=1,x-=A[m],x<0)return-1;if(x>0&&(0===e||1!==v))return-1;for(T[1]=0,m=1;m<15;m++)T[m+1]=T[m]+A[m];for(g=0;g<r;g++)0!==t[n+g]&&(a[T[t[n+g]]++]=g);if(0===e?(E=N=a,h=19):1===e?(E=Fi,O-=257,N=$i,D-=257,h=256):(E=Gi,N=Zi,h=-1),S=0,g=0,m=b,p=o,w=y,_=0,d=-1,k=1<<y,f=k-1,1===e&&k>852||2===e&&k>592)return 1;for(;;){P=m-_,a[g]<h?(I=0,C=a[g]):a[g]>h?(I=N[D+a[g]],C=E[O+a[g]]):(I=96,C=0),c=1<<m-_,u=1<<w,b=u;do{u-=c,i[p+(S>>_)+u]=P<<24|I<<16|C|0}while(0!==u);for(c=1<<m-1;S&c;)c>>=1;if(0!==c?(S&=c-1,S+=c):S=0,g++,0==--A[m]){if(m===v)break;m=t[n+a[g]]}if(m>y&&(S&f)!==d){for(0===_&&(_=y),p+=b,w=m-_,x=1<<w;w+_<v&&(x-=A[w+_],!(x<=0));)w++,x<<=1;if(k+=1<<w,1===e&&k>852||2===e&&k>592)return 1;d=S&f,i[d]=y<<24|w<<16|p-o|0}}return 0!==S&&(i[p+S]=m-_<<24|64<<16|0),s.bits=y,0};const{Z_FINISH:Hi,Z_BLOCK:Vi,Z_TREES:Ki,Z_OK:Wi,Z_STREAM_END:Yi,Z_NEED_DICT:Qi,Z_STREAM_ERROR:Xi,Z_DATA_ERROR:Ji,Z_MEM_ERROR:eo,Z_BUF_ERROR:to,Z_DEFLATED:no}=Tr,ro=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function io(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const oo=e=>{if(!e||!e.state)return Xi;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Wi},ao=e=>{if(!e||!e.state)return Xi;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,oo(e)},so=(e,t)=>{let n;if(!e||!e.state)return Xi;const r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Xi:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,ao(e))},lo=(e,t)=>{if(!e)return Xi;const n=new io;e.state=n,n.window=null;const r=so(e,t);return r!==Wi&&(e.state=null),r};let co,uo,fo=!0;const po=e=>{if(fo){co=new Int32Array(512),uo=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(qi(1,e.lens,0,288,co,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;qi(2,e.lens,0,32,uo,0,e.work,{bits:5}),fo=!1}e.lencode=co,e.lenbits=9,e.distcode=uo,e.distbits=5},ho=(e,t,n,r)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var mo={inflateReset:ao,inflateReset2:so,inflateResetKeep:oo,inflateInit:e=>lo(e,15),inflateInit2:lo,inflate:(e,t)=>{let n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,b,v,y,w,_,x,k,S=0;const E=new Uint8Array(4);let O,A;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Xi;n=e.state,12===n.mode&&(n.mode=13),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,d=s,f=l,k=Wi;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(2&n.wrap&&35615===c){n.check=0,E[0]=255&c,E[1]=c>>>8&255,n.check=Or(n.check,E,2,0),c=0,u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=30;break}if((15&c)!==no){e.msg="unknown compression method",n.mode=30;break}if(c>>>=4,u-=4,x=8+(15&c),0===n.wbits)n.wbits=x;else if(x>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:12,c=0,u=0;break;case 2:for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==no){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=Or(n.check,E,2,0)),c=0,u=0,n.mode=3;case 3:for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,n.check=Or(n.check,E,4,0)),c=0,u=0,n.mode=4;case 4:for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=Or(n.check,E,2,0)),c=0,u=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=Or(n.check,E,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(p=n.length,p>s&&(p=s),p&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+p),x)),512&n.flags&&(n.check=Or(n.check,r,p,o)),s-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;p=0;do{x=r[o+p++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x))}while(x&&p<s);if(512&n.flags&&(n.check=Or(n.check,r,p,o)),s-=p,o+=p,x)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;p=0;do{x=r[o+p++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x))}while(x&&p<s);if(512&n.flags&&(n.check=Or(n.check,r,p,o)),s-=p,o+=p,x)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}e.adler=n.check=ro(c),c=0,u=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,Qi;e.adler=n.check=1,n.mode=12;case 12:if(t===Vi||t===Ki)break e;case 13:if(n.last){c>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}switch(n.last=1&c,c>>>=1,u-=1,3&c){case 0:n.mode=14;break;case 1:if(po(n),n.mode=20,t===Ki){c>>>=2,u-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}c>>>=2,u-=2;break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,c=0,u=0,n.mode=15,t===Ki)break e;case 15:n.mode=16;case 16:if(p=n.length,p){if(p>s&&(p=s),p>l&&(p=l),0===p)break e;i.set(r.subarray(o,o+p),a),s-=p,o+=p,l-=p,a+=p,n.length-=p;break}n.mode=12;break;case 17:for(;u<14;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.lens[T[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},k=qi(0,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,k){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[c&(1<<n.lenbits)-1],g=S>>>24,b=S>>>16&255,v=65535&S,!(g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(v<16)c>>>=g,u-=g,n.lens[n.have++]=v;else{if(16===v){for(A=g+2;u<A;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c>>>=g,u-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}x=n.lens[n.have-1],p=3+(3&c),c>>>=2,u-=2}else if(17===v){for(A=g+3;u<A;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=g,u-=g,x=0,p=3+(7&c),c>>>=3,u-=3}else{for(A=g+7;u<A;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=g,u-=g,x=0,p=11+(127&c),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;p--;)n.lens[n.have++]=x}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,O={bits:n.lenbits},k=qi(1,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,k){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},k=qi(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,k){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,t===Ki)break e;case 20:n.mode=21;case 21:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,zi(e,f),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=n.lencode[c&(1<<n.lenbits)-1],g=S>>>24,b=S>>>16&255,v=65535&S,!(g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(b&&0==(240&b)){for(y=g,w=b,_=v;S=n.lencode[_+((c&(1<<y+w)-1)>>y)],g=S>>>24,b=S>>>16&255,v=65535&S,!(y+g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=g,u-=g,n.back+=g,n.length=v,0===b){n.mode=26;break}if(32&b){n.back=-1,n.mode=12;break}if(64&b){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&b,n.mode=22;case 22:if(n.extra){for(A=n.extra;u<A;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=n.distcode[c&(1<<n.distbits)-1],g=S>>>24,b=S>>>16&255,v=65535&S,!(g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(0==(240&b)){for(y=g,w=b,_=v;S=n.distcode[_+((c&(1<<y+w)-1)>>y)],g=S>>>24,b=S>>>16&255,v=65535&S,!(y+g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=g,u-=g,n.back+=g,64&b){e.msg="invalid distance code",n.mode=30;break}n.offset=v,n.extra=15&b,n.mode=24;case 24:if(n.extra){for(A=n.extra;u<A;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break e;if(p=f-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}p>n.wnext?(p-=n.wnext,h=n.wsize-p):h=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=i,h=a-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{i[a++]=m[h++]}while(--p);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;i[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===s)break e;s--,c|=r[o++]<<u,u+=8}if(f-=l,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?Or(n.check,i,f,a-f):Sr(n.check,i,f,a-f)),f=l,(n.flags?c:ro(c))!==n.check){e.msg="incorrect data check",n.mode=30;break}c=0,u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}c=0,u=0}n.mode=29;case 29:k=Yi;break e;case 30:k=Ji;break e;case 31:return eo;case 32:default:return Xi}return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||f!==e.avail_out&&n.mode<30&&(n.mode<27||t!==Hi))&&ho(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?Or(n.check,i,f,e.next_out-f):Sr(n.check,i,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===d&&0===f||t===Hi)&&k===Wi&&(k=to),k},inflateEnd:e=>{if(!e||!e.state)return Xi;let t=e.state;return t.window&&(t.window=null),e.state=null,Wi},inflateGetHeader:(e,t)=>{if(!e||!e.state)return Xi;const n=e.state;return 0==(2&n.wrap)?Xi:(n.head=t,t.done=!1,Wi)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,o;return e&&e.state?(r=e.state,0!==r.wrap&&11!==r.mode?Xi:11===r.mode&&(i=1,i=Sr(i,t,n,0),i!==r.check)?Ji:(o=ho(e,t,n,n),o?(r.mode=31,eo):(r.havedict=1,Wi))):Xi},inflateInfo:"pako inflate (from Nodeca project)"};var go=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const bo=Object.prototype.toString,{Z_NO_FLUSH:vo,Z_FINISH:yo,Z_OK:wo,Z_STREAM_END:_o,Z_NEED_DICT:xo,Z_STREAM_ERROR:ko,Z_DATA_ERROR:So,Z_MEM_ERROR:Eo}=Tr;function Oo(e){this.options=yi({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oi,this.strm.avail_out=0;let n=mo.inflateInit2(this.strm,t.windowBits);if(n!==wo)throw new Error(Ar[n]);if(this.header=new go,mo.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=ki(t.dictionary):"[object ArrayBuffer]"===bo.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=mo.inflateSetDictionary(this.strm,t.dictionary),n!==wo)))throw new Error(Ar[n])}function Ao(e,t){const n=new Oo(t);if(n.push(e),n.err)throw n.msg||Ar[n.err];return n.result}Oo.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?yo:vo,"[object ArrayBuffer]"===bo.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=mo.inflate(n,a),o===xo&&i&&(o=mo.inflateSetDictionary(n,i),o===wo?o=mo.inflate(n,a):o===So&&(o=xo));n.avail_in>0&&o===_o&&n.state.wrap>0&&0!==e[n.next_in];)mo.inflateReset(n),o=mo.inflate(n,a);switch(o){case ko:case So:case xo:case Eo:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||o===_o))if("string"===this.options.to){let e=Ei(n.output,n.next_out),t=n.next_out-e,i=Si(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==wo||0!==s){if(o===_o)return o=mo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Oo.prototype.onData=function(e){this.chunks.push(e)},Oo.prototype.onEnd=function(e){e===wo&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=wi(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var To={Inflate:Oo,inflate:Ao,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Ao(e,t)},ungzip:Ao,constants:Tr};const{Deflate:Po,deflate:Io,deflateRaw:Co,gzip:No}=Ui,{Inflate:Do,inflate:Bo,inflateRaw:Lo,ungzip:Mo}=To;var Ro={Deflate:Po,deflate:Io,deflateRaw:Co,gzip:No,Inflate:Do,inflate:Bo,inflateRaw:Lo,ungzip:Mo,constants:Tr},jo=qt("package-control","1.0.0"),Uo={getPackages:function(e){return I(this,void 0,void 0,(function(){var t,n;return C(this,(function(r){switch(r.label){case 0:return[4,Kt("packagesCache",jo)];case 1:switch(t=r.sent(),n=String(M.get("sortPackages")),e){case"install":return[2,"name"===n?lc(t,n):(i=t,o=n,i.sort((function(e,t){return t[o]-e[o]})))];default:return[2,lc(t,"name")]}}var i,o}))}))},setPackages:function(e){return I(this,void 0,void 0,(function(){return C(this,(function(t){switch(t.label){case 0:return Qt.log("Saving package cache"),[4,Wt("packagesCache",e,jo)];case 1:return t.sent(),[4,Wt("lastUpdate",(new Date).toISOString(),jo)];case 2:return t.sent(),[2]}}))}))},fetchPackages:function(){return I(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return C(this,(function(s){switch(s.label){case 0:return[4,Kt("lastUpdate",jo)];case 1:return e=s.sent()||"",(t=function(e,t){Xt(2,arguments);var n=en(e,t)/6e4;return n>0?Math.floor(n):Math.ceil(n)}(new Date,new Date(e)))<Number(M.get("updateInterval"))?(Qt.log("Skipping package retrieval, last update was "+t+" minutes ago"),[2]):(Qt.log("Downloading packages list"),[4,Zn("https://idleberg.github.io/atom-package-control-api/all.json.gz")]);case 2:return(n=s.sent()).ok?(o=(i=Ro).ungzip,[4,n.arrayBuffer()]):[3,5];case 3:return r=o.apply(i,[s.sent()]),a=JSON.parse((new TextDecoder).decode(r)),[4,this.setPackages(a)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}},zo={browse:null,consumer:function(t){var n=this;return this.browse=t,new e.Disposable((function(){n.browse=null}))},packageView:function(e){return I(this,void 0,void 0,(function(){return C(this,(function(t){switch(t.label){case 0:return[4,atom.workspace.open("atom://config/packages/"+e,{searchAllPanes:!0})];case 1:return t.sent(),[2]}}))}))},reveal:function(e){return I(this,void 0,void 0,(function(){var t;return C(this,(function(n){switch(n.label){case 0:return"packageView"===String(M.get("listAction"))||atom.packages.isBundledPackage(e)?(Qt.log("Opening "+e+" in package view"),[4,this.packageView(e)]):[3,2];case 1:return n.sent(),[2];case 2:return t=atom.packages.getLoadedPackage(e).path,Qt.log("Opening "+e+" in file manager"),[4,this.browse(t)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))}},Fo={exports:{}},$o={exports:{}},Go=Ho;Ho.sync=function(e,t){return qo(Zo.statSync(e),e,t)};var Zo=v.default;function qo(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}(t,n)}function Ho(e,t,n){Zo.stat(e,(function(r,i){n(r,!r&&qo(i,e,t))}))}var Vo=Yo;Yo.sync=function(e,t){return Qo(Wo.statSync(e),t)};var Ko,Wo=v.default;function Yo(e,t,n){Wo.stat(e,(function(e,r){n(e,!e&&Qo(r,t))}))}function Qo(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,i=e.gid,o=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),a=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),u=s|l;return n&c||n&l&&i===a||n&s&&r===o||n&u&&0===o}(e,t)}Ko="win32"===process.platform||R.TESTING_WINDOWS?Go:Vo;var Xo=Jo;function Jo(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){Jo(e,t||{},(function(e,t){e?r(e):n(t)}))}))}Ko(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}Jo.sync=function(e,t){try{return Ko.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}};const ea="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,ta=y.default,na=ea?";":":",ra=Xo,ia=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),oa=(e,t)=>{const n=t.colon||na,r=e.match(/\//)||ea&&e.match(/\\/)?[""]:[...ea?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],i=ea?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=ea?i.split(n):[""];return ea&&-1!==e.indexOf(".")&&""!==o[0]&&o.unshift(""),{pathEnv:r,pathExt:o,pathExtExe:i}},aa=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:i,pathExtExe:o}=oa(e,t),a=[],s=n=>new Promise(((i,o)=>{if(n===r.length)return t.all&&a.length?i(a):o(ia(e));const s=r[n],c=/^".*"$/.test(s)?s.slice(1,-1):s,u=ta.join(c,e),d=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;i(l(d,n,0))})),l=(e,n,r)=>new Promise(((c,u)=>{if(r===i.length)return c(s(n+1));const d=i[r];ra(e+d,{pathExt:o},((i,o)=>{if(!i&&o){if(!t.all)return c(e+d);a.push(e+d)}return c(l(e,n,r+1))}))}));return n?s(0).then((e=>n(null,e)),n):s(0)};var sa=aa;aa.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:i}=oa(e,t),o=[];for(let a=0;a<n.length;a++){const s=n[a],l=/^".*"$/.test(s)?s.slice(1,-1):s,c=ta.join(l,e),u=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let e=0;e<r.length;e++){const n=u+r[e];try{if(ra.sync(n,{pathExt:i})){if(!t.all)return n;o.push(n)}}catch(e){}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw ia(e)};var la={exports:{}};const ca=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"};la.exports=ca,la.exports.default=ca;const ua=y.default,da=sa,fa=la.exports;function pa(e,t){const n=e.options.env||process.env,r=process.cwd(),i=null!=e.options.cwd,o=i&&void 0!==process.chdir&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch(e){}let a;try{a=da.sync(e.command,{path:n[fa({env:n})],pathExt:t?ua.delimiter:void 0})}catch(e){}finally{o&&process.chdir(r)}return a&&(a=ua.resolve(i?e.options.cwd:"",a)),a}var ha=function(e){return pa(e)||pa(e,!0)},ma={};const ga=/([()\][%!^"`<>&|;, *?])/g;ma.command=function(e){return e=e.replace(ga,"^$1")},ma.argument=function(e,t){return e=(e=`"${e=(e=(e=`${e}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(ga,"^$1"),t&&(e=e.replace(ga,"^$1")),e};const ba=/^#!(.*)/;const va=v.default,ya=(e="")=>{const t=e.match(ba);if(!t)return null;const[n,r]=t[0].replace(/#! ?/,"").split(" "),i=n.split("/").pop();return"env"===i?r:r?`${i} ${r}`:i};var wa=function(e){const t=Buffer.alloc(150);let n;try{n=va.openSync(e,"r"),va.readSync(n,t,0,150,0),va.closeSync(n)}catch(e){}return ya(t.toString())};const _a=y.default,xa=ha,ka=ma,Sa=wa,Ea="win32"===process.platform,Oa=/\.(?:com|exe)$/i,Aa=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Ta(e){if(!Ea)return e;const t=function(e){e.file=xa(e);const t=e.file&&Sa(e.file);return t?(e.args.unshift(e.file),e.command=t,xa(e)):e.file}(e),n=!Oa.test(t);if(e.options.forceShell||n){const n=Aa.test(t);e.command=_a.normalize(e.command),e.command=ka.command(e.command),e.args=e.args.map((e=>ka.argument(e,n)));const r=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${r}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}var Pa=function(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null);const r={command:e,args:t=t?t.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:e,args:t}};return n.shell?r:Ta(r)};const Ia="win32"===process.platform;function Ca(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function Na(e,t){return Ia&&1===e&&!t.file?Ca(t.original,"spawn"):null}var Da={hookChildProcess:function(e,t){if(!Ia)return;const n=e.emit;e.emit=function(r,i){if("exit"===r){const r=Na(i,t);if(r)return n.call(e,"error",r)}return n.apply(e,arguments)}},verifyENOENT:Na,verifyENOENTSync:function(e,t){return Ia&&1===e&&!t.file?Ca(t.original,"spawnSync"):null},notFoundError:Ca};const Ba=b.default,La=Pa,Ma=Da;function Ra(e,t,n){const r=La(e,t,n),i=Ba.spawn(r.command,r.args,r.options);return Ma.hookChildProcess(i,r),i}$o.exports=Ra,$o.exports.spawn=Ra,$o.exports.sync=function(e,t,n){const r=La(e,t,n),i=Ba.spawnSync(r.command,r.args,r.options);return i.error=i.error||Ma.verifyENOENTSync(i.status,r),i},$o.exports._parse=La,$o.exports._enoent=Ma;var ja={exports:{}};!function(e){const t=y.default,n=la.exports,r=e=>{let r;e={cwd:process.cwd(),path:process.env[n()],execPath:process.execPath,...e};let i=t.resolve(e.cwd);const o=[];for(;r!==i;)o.push(t.join(i,"node_modules/.bin")),r=i,i=t.resolve(i,"..");const a=t.resolve(e.cwd,e.execPath,"..");return o.push(a),o.concat(e.path).join(t.delimiter)};e.exports=r,e.exports.default=r,e.exports.env=t=>{const r={...(t={env:process.env,...t}).env},i=n({env:r});return t.path=r[i],r[i]=e.exports(t),r}}(ja);var Ua={exports:{}},za={exports:{}};const Fa=(e,t)=>{for(const n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};za.exports=Fa,za.exports.default=Fa;const $a=za.exports,Ga=new WeakMap,Za=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let n,r=0;const i=e.displayName||e.name||"<anonymous>",o=function(...a){if(Ga.set(o,++r),1===r)n=e.apply(this,a),e=null;else if(!0===t.throw)throw new Error(`Function \`${i}\` can only be called once`);return n};return $a(o,e),Ga.set(o,r),o};Ua.exports=Za,Ua.exports.default=Za,Ua.exports.callCount=e=>{if(!Ga.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Ga.get(e)};var qa={},Ha={},Va={};Object.defineProperty(Va,"__esModule",{value:!0}),Va.SIGNALS=void 0;Va.SIGNALS=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.SIGRTMAX=Ka.getRealtimeSignals=void 0;Ka.getRealtimeSignals=function(){const e=Qa-Ya+1;return Array.from({length:e},Wa)};const Wa=function(e,t){return{name:`SIGRT${t+1}`,number:Ya+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Ya=34,Qa=64;Ka.SIGRTMAX=Qa,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.getSignals=void 0;var Xa=g.default,Ja=Va,es=Ka;Ha.getSignals=function(){const e=(0,es.getRealtimeSignals)();return[...Ja.SIGNALS,...e].map(ts)};const ts=function({name:e,number:t,description:n,action:r,forced:i=!1,standard:o}){const{signals:{[e]:a}}=Xa.constants,s=void 0!==a;return{name:e,number:s?a:t,description:n,supported:s,action:r,forced:i,standard:o}};Object.defineProperty(qa,"__esModule",{value:!0}),qa.signalsByNumber=qa.signalsByName=void 0;var ns=g.default,rs=Ha,is=Ka;const os=function(e,{name:t,number:n,description:r,supported:i,action:o,forced:a,standard:s}){return{...e,[t]:{name:t,number:n,description:r,supported:i,action:o,forced:a,standard:s}}},as=(0,rs.getSignals)().reduce(os,{});qa.signalsByName=as;const ss=function(e,t){const n=ls(e,t);if(void 0===n)return{};const{name:r,description:i,supported:o,action:a,forced:s,standard:l}=n;return{[e]:{name:r,number:e,description:i,supported:o,action:a,forced:s,standard:l}}},ls=function(e,t){const n=t.find((({name:t})=>ns.constants.signals[t]===e));return void 0!==n?n:t.find((t=>t.number===e))},cs=function(){const e=(0,rs.getSignals)(),t=is.SIGRTMAX+1,n=Array.from({length:t},((t,n)=>ss(n,e)));return Object.assign({},...n)}();qa.signalsByNumber=cs;const{signalsByName:us}=qa;var ds=({stdout:e,stderr:t,all:n,error:r,signal:i,exitCode:o,command:a,timedOut:s,isCanceled:l,killed:c,parsed:{options:{timeout:u}}})=>{o=null===o?void 0:o;const d=void 0===(i=null===i?void 0:i)?void 0:us[i].description,f=`Command ${(({timedOut:e,timeout:t,errorCode:n,signal:r,signalDescription:i,exitCode:o,isCanceled:a})=>e?`timed out after ${t} milliseconds`:a?"was canceled":void 0!==n?`failed with ${n}`:void 0!==r?`was killed with ${r} (${i})`:void 0!==o?`failed with exit code ${o}`:"failed")({timedOut:s,timeout:u,errorCode:r&&r.code,signal:i,signalDescription:d,exitCode:o,isCanceled:l})}: ${a}`,p="[object Error]"===Object.prototype.toString.call(r),h=p?`${f}\n${r.message}`:f,m=[h,t,e].filter(Boolean).join("\n");return p?(r.originalMessage=r.message,r.message=m):r=new Error(m),r.shortMessage=h,r.command=a,r.exitCode=o,r.signal=i,r.signalDescription=d,r.stdout=e,r.stderr=t,void 0!==n&&(r.all=n),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=Boolean(s),r.isCanceled=l,r.killed=c&&!s,r},fs={exports:{}};const ps=["stdin","stdout","stderr"],hs=e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return ps.map((t=>e[t]));if((e=>ps.some((t=>void 0!==e[t])))(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${ps.map((e=>`\`${e}\``)).join(", ")}`);if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const n=Math.max(t.length,ps.length);return Array.from({length:n},((e,n)=>t[n]))};fs.exports=hs,fs.exports.node=e=>{const t=hs(e);return"ipc"===t?"ipc":void 0===t||"string"==typeof t?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]};var ms={exports:{}},gs={exports:{}};!function(e){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}(gs);var bs,vs=E.default,ys=gs.exports,ws=/^win/i.test(process.platform),_s=O.default;function xs(){Es&&(Es=!1,ys.forEach((function(e){try{process.removeListener(e,Ss[e])}catch(e){}})),process.emit=Ps,process.reallyExit=As,bs.count-=1)}function ks(e,t,n){bs.emitted[e]||(bs.emitted[e]=!0,bs.emit(e,t,n))}"function"!=typeof _s&&(_s=_s.EventEmitter),process.__signal_exit_emitter__?bs=process.__signal_exit_emitter__:((bs=process.__signal_exit_emitter__=new _s).count=0,bs.emitted={}),bs.infinite||(bs.setMaxListeners(1/0),bs.infinite=!0),ms.exports=function(e,t){vs.equal(typeof e,"function","a callback must be provided for exit handler"),!1===Es&&Os();var n="exit";t&&t.alwaysLast&&(n="afterexit");return bs.on(n,e),function(){bs.removeListener(n,e),0===bs.listeners("exit").length&&0===bs.listeners("afterexit").length&&xs()}},ms.exports.unload=xs;var Ss={};ys.forEach((function(e){Ss[e]=function(){process.listeners(e).length===bs.count&&(xs(),ks("exit",null,e),ks("afterexit",null,e),ws&&"SIGHUP"===e&&(e="SIGINT"),process.kill(process.pid,e))}})),ms.exports.signals=function(){return ys},ms.exports.load=Os;var Es=!1;function Os(){Es||(Es=!0,bs.count+=1,ys=ys.filter((function(e){try{return process.on(e,Ss[e]),!0}catch(e){return!1}})),process.emit=Is,process.reallyExit=Ts)}var As=process.reallyExit;function Ts(e){process.exitCode=e||0,ks("exit",process.exitCode,null),ks("afterexit",process.exitCode,null),As.call(process,process.exitCode)}var Ps=process.emit;function Is(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var n=Ps.apply(this,arguments);return ks("exit",process.exitCode,null),ks("afterexit",process.exitCode,null),n}return Ps.apply(this,arguments)}const Cs=g.default,Ns=ms.exports,Ds=(e,t,n,r)=>{if(!Bs(t,n,r))return;const i=Ms(n),o=setTimeout((()=>{e("SIGKILL")}),i);o.unref&&o.unref()},Bs=(e,{forceKillAfterTimeout:t},n)=>Ls(e)&&!1!==t&&n,Ls=e=>e===Cs.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase(),Ms=({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e};var Rs={spawnedKill:(e,t="SIGTERM",n={})=>{const r=e(t);return Ds(e,t,n,r),r},spawnedCancel:(e,t)=>{e.kill()&&(t.isCanceled=!0)},setupTimeout:(e,{timeout:t,killSignal:n="SIGTERM"},r)=>{if(0===t||void 0===t)return r;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);let i;const o=new Promise(((r,o)=>{i=setTimeout((()=>{((e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,n,o)}),t)})),a=r.finally((()=>{clearTimeout(i)}));return Promise.race([o,a])},setExitHandler:async(e,{cleanup:t,detached:n},r)=>{if(!t||n)return r;const i=Ns((()=>{e.kill()}));return r.finally((()=>{i()}))}};const js=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;js.writable=e=>js(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,js.readable=e=>js(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,js.duplex=e=>js.writable(e)&&js.readable(e),js.transform=e=>js.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState;var Us=js,zs={exports:{}};const{PassThrough:Fs}=w.default;const{constants:$s}=A.default,Gs=w.default,{promisify:Zs}=T.default,qs=e=>{e={...e};const{array:t}=e;let{encoding:n}=e;const r="buffer"===n;let i=!1;t?i=!(n||r):n=n||"utf8",r&&(n=null);const o=new Fs({objectMode:i});n&&o.setEncoding(n);let a=0;const s=[];return o.on("data",(e=>{s.push(e),i?a=s.length:a+=e.length})),o.getBufferedValue=()=>t?s:r?Buffer.concat(s,a):s.join(""),o.getBufferedLength=()=>a,o},Hs=Zs(Gs.pipeline);class Vs extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function Ks(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};const{maxBuffer:n}=t,r=qs(t);return await new Promise(((t,i)=>{const o=e=>{e&&r.getBufferedLength()<=$s.MAX_LENGTH&&(e.bufferedData=r.getBufferedValue()),i(e)};(async()=>{try{await Hs(e,r),t()}catch(e){o(e)}})(),r.on("data",(()=>{r.getBufferedLength()>n&&o(new Vs)}))})),r.getBufferedValue()}zs.exports=Ks,zs.exports.buffer=(e,t)=>Ks(e,{...t,encoding:"buffer"}),zs.exports.array=(e,t)=>Ks(e,{...t,array:!0}),zs.exports.MaxBufferError=Vs;const{PassThrough:Ws}=w.default;const Ys=Us,Qs=zs.exports,Xs=function(){var e=[],t=new Ws({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=r,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(n),t;function n(r){return Array.isArray(r)?(r.forEach(n),this):(e.push(r),r.once("end",i.bind(null,r)),r.once("error",t.emit.bind(t,"error")),r.pipe(t,{end:!1}),this)}function r(){return 0==e.length}function i(n){!(e=e.filter((function(e){return e!==n}))).length&&t.readable&&t.end()}},Js=async(e,t)=>{if(e){e.destroy();try{return await t}catch(e){return e.bufferedData}}},el=(e,{encoding:t,buffer:n,maxBuffer:r})=>{if(e&&n)return t?Qs(e,{encoding:t,maxBuffer:r}):Qs.buffer(e,{maxBuffer:r})};var tl={handleInput:(e,t)=>{void 0!==t&&void 0!==e.stdin&&(Ys(t)?t.pipe(e.stdin):e.stdin.end(t))},makeAllStream:(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const n=Xs();return e.stdout&&n.add(e.stdout),e.stderr&&n.add(e.stderr),n},getSpawnedResult:async({stdout:e,stderr:t,all:n},{encoding:r,buffer:i,maxBuffer:o},a)=>{const s=el(e,{encoding:r,buffer:i,maxBuffer:o}),l=el(t,{encoding:r,buffer:i,maxBuffer:o}),c=el(n,{encoding:r,buffer:i,maxBuffer:2*o});try{return await Promise.all([a,s,l,c])}catch(r){return Promise.all([{error:r,signal:r.signal,timedOut:r.timedOut},Js(e,s),Js(t,l),Js(n,c)])}},validateInputSync:({input:e})=>{if(Ys(e))throw new TypeError("The `input` option cannot be a stream in sync mode")}};const nl=(async()=>{})().constructor.prototype,rl=["then","catch","finally"].map((e=>[e,Reflect.getOwnPropertyDescriptor(nl,e)]));var il={mergePromise:(e,t)=>{for(const[n,r]of rl){const i="function"==typeof t?(...e)=>Reflect.apply(r.value,t(),e):r.value.bind(t);Reflect.defineProperty(e,n,{...r,value:i})}return e},getSpawnedPromise:e=>new Promise(((t,n)=>{e.on("exit",((e,n)=>{t({exitCode:e,signal:n})})),e.on("error",(e=>{n(e)})),e.stdin&&e.stdin.on("error",(e=>{n(e)}))}))};const ol=/ +/g;var al={joinCommand:(e,t=[])=>Array.isArray(t)?[e,...t].join(" "):e,parseCommand:e=>{const t=[];for(const n of e.trim().split(ol)){const e=t[t.length-1];e&&e.endsWith("\\")?t[t.length-1]=`${e.slice(0,-1)} ${n}`:t.push(n)}return t}};const sl=y.default,ll=b.default,cl=$o.exports,ul=e=>{const t="string"==typeof e?"\n":"\n".charCodeAt(),n="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e},dl=ja.exports,fl=Ua.exports,pl=ds,hl=fs.exports,{spawnedKill:ml,spawnedCancel:gl,setupTimeout:bl,setExitHandler:vl}=Rs,{handleInput:yl,getSpawnedResult:wl,makeAllStream:_l,validateInputSync:xl}=tl,{mergePromise:kl,getSpawnedPromise:Sl}=il,{joinCommand:El,parseCommand:Ol}=al,Al=(e,t,n={})=>{const r=cl._parse(e,t,n);return e=r.command,t=r.args,(n={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(n=r.options).cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...n}).env=(({env:e,extendEnv:t,preferLocal:n,localDir:r,execPath:i})=>{const o=t?{...process.env,...e}:e;return n?dl.env({env:o,cwd:r,execPath:i}):o})(n),n.stdio=hl(n),"win32"===process.platform&&"cmd"===sl.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:n,parsed:r}},Tl=(e,t,n)=>"string"==typeof t||Buffer.isBuffer(t)?e.stripFinalNewline?ul(t):t:void 0===n?void 0:"",Pl=(e,t,n)=>{const r=Al(e,t,n),i=El(e,t);let o;try{o=ll.spawn(r.file,r.args,r.options)}catch(e){const t=new ll.ChildProcess,n=Promise.reject(pl({error:e,stdout:"",stderr:"",all:"",command:i,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return kl(t,n)}const a=Sl(o),s=bl(o,r.options,a),l=vl(o,r.options,s),c={isCanceled:!1};o.kill=ml.bind(null,o.kill.bind(o)),o.cancel=gl.bind(null,o,c);const u=fl((async()=>{const[{error:e,exitCode:t,signal:n,timedOut:a},s,u,d]=await wl(o,r.options,l),f=Tl(r.options,s),p=Tl(r.options,u),h=Tl(r.options,d);if(e||0!==t||null!==n){const s=pl({error:e,exitCode:t,signal:n,stdout:f,stderr:p,all:h,command:i,parsed:r,timedOut:a,isCanceled:c.isCanceled,killed:o.killed});if(!r.options.reject)return s;throw s}return{command:i,exitCode:0,stdout:f,stderr:p,all:h,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}));return yl(o,r.options.input),o.all=_l(o,r.options),kl(o,u)};Fo.exports=Pl,Fo.exports.sync=(e,t,n)=>{const r=Al(e,t,n),i=El(e,t);let o;xl(r.options);try{o=ll.spawnSync(r.file,r.args,r.options)}catch(e){throw pl({error:e,stdout:"",stderr:"",all:"",command:i,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}const a=Tl(r.options,o.stdout,o.error),s=Tl(r.options,o.stderr,o.error);if(o.error||0!==o.status||null!==o.signal){const e=pl({stdout:a,stderr:s,error:o.error,signal:o.signal,exitCode:o.status,command:i,parsed:r,timedOut:o.error&&"ETIMEDOUT"===o.error.code,isCanceled:!1,killed:null!==o.signal});if(!r.options.reject)return e;throw e}return{command:i,exitCode:0,stdout:a,stderr:s,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},Fo.exports.command=(e,t)=>{const[n,...r]=Ol(e);return Pl(n,r,t)},Fo.exports.commandSync=(e,t)=>{const[n,...r]=Ol(e);return Pl.sync(n,r,t)},Fo.exports.node=(e,t,n={})=>{t&&!Array.isArray(t)&&"object"==typeof t&&(n=t,t=[]);const r=hl.node(n),i=process.execArgv.filter((e=>!e.startsWith("--inspect"))),{nodePath:o=process.execPath,nodeOptions:a=i}=n;return Pl(o,[...a,e,...Array.isArray(t)?t:[]],{...n,stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1})};var Il=Fo.exports,Cl={exports:{}};const Nl=v.default;let Dl;var Bl=()=>(void 0===Dl&&(Dl=function(){try{return Nl.statSync("/.dockerenv"),!0}catch(e){return!1}}()||function(){try{return Nl.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch(e){return!1}}()),Dl);const Ll=g.default,Ml=v.default,Rl=Bl,jl=()=>{if("linux"!==process.platform)return!1;if(Ll.release().toLowerCase().includes("microsoft"))return!Rl();try{return!!Ml.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!Rl()}catch(e){return!1}};process.env.__IS_WSL_TEST__?Cl.exports=jl:Cl.exports=jl();const Ul=y.default,zl=b.default,{promises:Fl,constants:$l}=v.default,Gl=Cl.exports,Zl=Bl,ql=(e,t,n)=>{const r=n=>Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=n();return r(e),e},set(e){r(e)}}),e},Hl=Ul.join(__dirname,"xdg-open"),{platform:Vl,arch:Kl}=process,Wl=(()=>{const e="/mnt/";let t;return async function(){if(t)return t;const n="/etc/wsl.conf";let r=!1;try{await Fl.access(n,$l.F_OK),r=!0}catch{}if(!r)return e;const i=await Fl.readFile(n,{encoding:"utf8"}),o=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return o?(t=o.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),Yl=async(e,t)=>{let n;for(const r of e)try{return await t(r)}catch(e){n=e}throw n},Ql=async(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a `target`");if(t={wait:!1,background:!1,allowNonzeroExitCode:!1,...t},Array.isArray(t.app))return Yl(t.app,(n=>Ql(e,{...t,app:n})));let n,{name:r,arguments:i=[]}=t.app||{};if(Array.isArray(r))return Yl(r,(n=>Ql(e,{...t,app:{name:n,arguments:i}})));const o=[],a={};if("darwin"===Vl)n="open",t.wait&&o.push("--wait-apps"),t.background&&o.push("--background"),r&&o.push("-a",r);else if("win32"===Vl||Gl&&!Zl()){const s=await Wl();n=Gl?`${s}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,o.push("-NoProfile","-NonInteractive","–ExecutionPolicy","Bypass","-EncodedCommand"),Gl||(a.windowsVerbatimArguments=!0);const l=["Start"];t.wait&&l.push("-Wait"),r?(l.push(`"\`"${r}\`""`,"-ArgumentList"),i.unshift(e)):l.push(`"${e}"`),i.length>0&&(i=i.map((e=>`"\`"${e}\`""`)),l.push(i.join(","))),e=Buffer.from(l.join(" "),"utf16le").toString("base64")}else{if(r)n=r;else{const e=!__dirname||"/"===__dirname;let t=!1;try{await Fl.access(Hl,$l.X_OK),t=!0}catch{}n=process.versions.electron||"android"===Vl||e||!t?"xdg-open":Hl}i.length>0&&o.push(...i),t.wait||(a.stdio="ignore",a.detached=!0)}o.push(e),"darwin"===Vl&&i.length>0&&o.push("--args",...i);const s=zl.spawn(n,o,a);return t.wait?new Promise(((e,n)=>{s.once("error",n),s.once("close",(r=>{t.allowNonzeroExitCode&&r>0?n(new Error(`Exited with code ${r}`)):e(s)}))})):(s.unref(),s)};function Xl(e){if("string"==typeof e||Array.isArray(e))return e;const{[Kl]:t}=e;if(!t)throw new Error(`${Kl} is not supported`);return t}function Jl({[Vl]:e},{wsl:t}){if(t&&Gl)return Xl(t);if(!e)throw new Error(`${Vl} is not supported`);return Xl(e)}const ec={};ql(ec,"chrome",(()=>Jl({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}))),ql(ec,"firefox",(()=>Jl({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}))),Ql.apps=ec;var tc=Ql,nc={busySignal:null,serviceName:"busy-signal",consumer:function(t){var n=this;return this.busySignal=t.create(),new e.Disposable((function(){n.busySignal=null}))},add:function(e){try{this.busySignal.add(e)}catch(e){Qt.log("Busy Signal has failed",e)}},remove:function(e){void 0===e&&(e="");try{this.busySignal.remove(e)}catch(e){Qt.log("Busy Signal has failed",e)}},clear:function(){try{this.busySignal.clear()}catch(e){Qt.log("Busy Signal has failed",e)}},dispose:function(){try{this.busySignal.dispose()}catch(e){Qt.log("Busy Signal has failed",e)}}};function rc(e){return I(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l;return C(this,(function(c){switch(c.label){case 0:return[4,Uo.getPackages(e)];case 1:return void 0===(t=c.sent())?[2]:(i=atom.packages.getAvailablePackageNames(),o=atom.packages.getLoadedPackages().map((function(e){return e.name})),a=i.filter((function(e){return!o.includes(e)})),"stars"!==e?[3,3]:[4,fc()]);case 2:r=c.sent(),c.label=3;case 3:switch(e){case"install":return[3,4];case"enable":return[3,5];case"disable":return[3,6];case"stars":return[3,7];case"update":return[3,8]}return[3,10];case 4:return n=t.filter((function(e){return!i.includes(e.name)})),[3,11];case 5:return n=t.filter((function(e){return i.includes(e.name)&&a.includes(e.name)})),[3,11];case 6:return n=t.filter((function(e){return i.includes(e.name)&&o.includes(e.name)})),[3,11];case 7:return n=t.filter((function(e){return!i.includes(e.name)&&r.includes(e.name)})),[3,11];case 8:return[4,dc(t)];case 9:return n=c.sent(),[3,11];case 10:return n=t.filter((function(e){return i.includes(e.name)})),[3,11];case 11:if(!n.length)return s="stars"===e?"install":e,Qt.log("No packages to "+s),atom.notifications.addInfo("**Package Control**: No packages to "+s),[2];c.label=12;case 12:return c.trys.push([12,14,,15]),[4,Gt(n)];case 13:return l=c.sent(),[3,15];case 14:return c.sent(),Qt.log("Cancelled selection"),[2];case 15:if(void 0===l)return[2];switch(e){case"install":case"remove":case"disable":case"enable":return[3,16];case"stars":return[3,18];case"update":return[3,19];case"list":return[3,21]}return[3,22];case 16:return[4,ic(e,l)];case 17:return c.sent(),[3,23];case 18:return ic("install",l),[3,23];case 19:return[4,ic(e,l,["--compatible","--no-confirm"])];case 20:return c.sent(),[3,23];case 21:return zo.reveal(l),[3,23];case 22:return[3,23];case 23:return[2]}}))}))}function ic(e,t,n){return void 0===n&&(n=[]),I(this,void 0,void 0,(function(){var r,i,o,a,s,l;return C(this,(function(c){switch(c.label){case 0:r=(new Date).getTime(),i=atom.packages.getApmPath(),o="Package Control is "+cc(e).continous.toLowerCase()+" the "+t+" package",Qt.log(cc(e).continous+" "+t+" package"),nc.add(o),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Il(i,N([e,t],n))];case 2:return c.sent(),[3,4];case 3:return a=c.sent(),Qt.error(cc(e).noun+" failed: "+a.shortMessage),nc.add(cc(e).noun+" failed: "+a.shortMessage),atom.notifications.addError("**Package Control**: "+cc(e).noun+" failed",{detail:a.shortMessage,dismissable:!0}),nc.remove(o),[2];case 4:return s=(new Date).getTime(),l=s-r,Qt.log(cc(e).perfect+" "+t+" in "+l/1e3+" seconds"),nc.remove(o),[2]}}))}))}function oc(){return I(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return C(this,(function(s){switch(s.label){case 0:e="Package Control updating all packages",t=(new Date).getTime(),n="update",r=atom.packages.getApmPath(),Qt.log(cc(n).continous+" all packages"),nc.add(e),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Il(r,["update","--no-confirm"])];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),Qt.error(cc(n).continous+" all packages failed: "+i.shortMessage),atom.notifications.addError("**Package Control**: "+cc(n).continous+" all packages failed",{detail:i.shortMessage,dismissable:!0}),nc.remove(e),[2];case 4:return o=(new Date).getTime(),a=o-t,Qt.log(cc(n).perfect+" all packages in "+a/1e3+" seconds"),nc.remove(e),[2]}}))}))}function ac(){return I(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return C(this,(function(s){switch(s.label){case 0:e="Package Control is installing all starred packages",t=(new Date).getTime(),n="install",r=atom.packages.getApmPath(),Qt.log(cc(n).continous+" all packages"),nc.add(e),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Il(r,N(["stars","--install"],pc()))];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),Qt.error(cc(n).continous+" all starred packages failed: "+i.shortMessage),atom.notifications.addError("**Package Control**: "+cc(n).continous+" all starred packages failed",{detail:i.shortMessage,dismissable:!0}),nc.remove(e),[2];case 4:return o=(new Date).getTime(),a=o-t,Qt.log(cc(n).perfect+" all starred packages in "+a/1e3+" seconds"),nc.remove(e),[2]}}))}))}function sc(){return I(this,void 0,void 0,(function(){var e,t,n,r,i,o,a=this;return C(this,(function(s){switch(s.label){case 0:return e="Package Control is satisfying all package dependencies",t=(new Date).getTime(),n="satisfy",r=atom.packages.getLoadedPackages().map((function(e){return e.name})),Qt.log(cc(n).continous+" all packages dependencies"),nc.add(e),[4,Promise.allSettled(r.map((function(e){return I(a,void 0,void 0,(function(){return C(this,(function(t){switch(t.label){case 0:return[4,ke(e,!M.get("confirmSatisfyingDependencies"))];case 1:return[2,t.sent()]}}))}))})))];case 1:return s.sent(),i=(new Date).getTime(),o=i-t,Qt.log(cc(n).perfect+" all packages in "+o/1e3+" seconds"),nc.remove(e),[2]}}))}))}function lc(e,t){return e.sort((function(e,n){return e[t].localeCompare(n[t])}))}function cc(e){switch(e){case"install":case"stars":return{continous:"Installing",noun:"Installation",perfect:"Installed"};case"remove":return{continous:"Removing",noun:"Removal",perfect:"Removed"};case"enable":return{continous:"Enabling",noun:"Enabling",perfect:"Enabled"};case"disable":return{continous:"Disabling",noun:"Disabling",perfect:"Disabled"};case"list":return{continous:"Listing",noun:"Listing",perfect:"Listed"};case"satisfy":return{continous:"Satisfying",noun:"Satisfying",perfect:"Satisfied"};case"update":return{continous:"Updating",noun:"Update",perfect:"Updated"};default:throw Error("Unsupported action: "+e)}}function uc(e){return I(this,void 0,void 0,(function(){return C(this,(function(t){switch(t.label){case 0:return Qt.log("Opening https://atom.io/"+e),[4,tc("https://atom.io/"+e)];case 1:return t.sent(),[2]}}))}))}function dc(e){return I(this,void 0,void 0,(function(){var t,n,r,i;return C(this,(function(o){switch(o.label){case 0:t="Package Control is retrieving outdated packages",Qt.log("Retrieving outdated packages"),nc.add(t),n=atom.packages.getApmPath(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,Il(n,["update","--compatible","--json","--list"])];case 2:return r=o.sent(),[3,5];case 3:throw i=o.sent(),Error(i.message);case 4:return nc.remove(t),[7];case 5:return[2,JSON.parse(r.stdout).map((function(t){var n=t.name,r=t.version,i=t.latestVersion,o=e.filter((function(e){return e.name===n}))[0];return{description:o.description||"",downloads:o.downloads||0,name:n,stars:o.stars||0,theme:o.theme||void 0,version:r+" &#8594; "+i}}))||[]]}}))}))}function fc(){return I(this,void 0,void 0,(function(){var e,t,n,r;return C(this,(function(i){switch(i.label){case 0:e="Package Control is retrieving starred packages",Qt.log("Retrieving starred packages"),nc.add(e),t=atom.packages.getApmPath(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,Il(t,N(["stars","--json"],pc()))];case 2:return n=i.sent(),[3,5];case 3:throw r=i.sent(),Error(r.message);case 4:return nc.remove(e),[7];case 5:return[2,JSON.parse(n.stdout).map((function(e){return e.name}))||[]]}}))}))}function pc(){var e=String(M.get("githubUser")).trim();return(null==e?void 0:e.length)?["--user",e]:[]}var hc={config:M.schema,subscriptions:new e.CompositeDisposable,activate:function(){return I(this,void 0,void 0,(function(){var e=this;return C(this,(function(t){switch(t.label){case 0:return Qt.log("Activating package"),[4,Uo.fetchPackages()];case 1:return t.sent(),this.subscriptions.add(atom.commands.add("atom-workspace",{"package-control:install-package":function(){return I(e,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,rc("install")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:remove-package":function(){return I(e,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,rc("remove")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:enable-package":function(){return I(e,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,rc("enable")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:disable-package":function(){return I(e,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,rc("disable")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:list-packages":function(){return I(e,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,rc("list")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:discover-packages":function(){return I(e,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,uc("packages")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:discover-themes":function(){return I(e,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,uc("themes")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:install-starred-package":function(){return I(e,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,rc("stars")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:install-all-starred-packages":function(){return I(e,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,ac()];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:update-package":function(){return I(e,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,rc("update")];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:update-all-packages":function(){return I(e,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,oc()];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"package-control:satisfy-dependencies":function(){return I(e,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,sc()];case 1:return e.sent(),[2]}}))}))}})),[2]}}))}))},deactivate:function(){var e;Qt.log("Deactivating package"),null===(e=this.subscriptions)||void 0===e||e.dispose()},consumeBrowse:function(e){Qt.log("Consuming Browse service"),zo.consumer(e)},consumeSignal:function(e){Qt.log("Consuming Busy Signal service"),nc.consumer(e)}};module.exports=hc;
